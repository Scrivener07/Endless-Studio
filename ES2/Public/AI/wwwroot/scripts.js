if(function(){function a(a,b){if(a!==b){var c=null===a,d=a===w,e=a===a,f=null===b,g=b===w,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return n(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function d(a){return"function"==typeof a||!1}function e(a){return null==a?"":a+""}function f(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function g(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function h(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function i(b,c,d){for(var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;++e<h;){var j=a(f[e],g[e]);if(j){if(e>=i)return j;var k=d[e];return j*("asc"===k||k===!0?1:-1)}}return b.index-c.index}function j(a){return Pa[a]}function k(a){return Qa[a]}function l(a,b,c){return b?a=Ta[a]:c&&(a=Ua[a]),"\\"+a}function m(a){return"\\"+Ua[a]}function n(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function o(a){return!!a&&"object"==typeof a}function p(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function q(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=P,f[++e]=c);return f}function r(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function s(a){for(var b=-1,c=a.length;++b<c&&p(a.charCodeAt(b)););return b}function t(a){for(var b=a.length;b--&&p(a.charCodeAt(b)););return b}function u(a){return Ra[a]}function v(p){function W(a){if(o(a)&&!Ch(a)&&!(a instanceof Pa)){if(a instanceof aa)return a;if(ag.call(a,"__chain__")&&ag.call(a,"__wrapped__"))return md(a)}return new aa(a)}function $(){}function aa(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Pa(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bg,this.__views__=[]}function Qa(){var a=new Pa(this.__wrapped__);return a.__actions__=cb(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=cb(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=cb(this.__views__),a}function Ra(){if(this.__filtered__){var a=new Pa(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Sa(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ch(a),d=0>b,e=c?a.length:0,f=Tc(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=wg(i,this.__takeCount__);if(!c||L>e||e==i&&n==i)return cc(a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==N)q=u;else if(!u){if(t==M)continue a;break a}}o[m++]=q}return o}function Ta(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?w:this.__data__[a]}function Wa(a){return"__proto__"!=a&&ag.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:qg(null),set:new kg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||He(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||He(a)?b.set.add(a):b.hash[a]=!0}function bb(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Of(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function cb(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function db(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function eb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function kb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function lb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function mb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function nb(a,b){for(var c=a.length,d=0;c--;)d+=+b(a[c])||0;return d}function ob(a,b){return a===w?b:a}function pb(a,b,c,d){return a!==w&&ag.call(d,c)?a:b}function qb(a,b,c){for(var d=-1,e=Nh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==w||g in a)||(a[g]=i)}return a}function rb(a,b){return null==b?a:tb(b,Nh(b),a)}function sb(a,b){for(var c=-1,d=null==a,e=!d&&Yc(a),f=e?a.length:0,g=b.length,h=Of(g);++c<g;){var i=b[c];e?h[c]=Zc(i,f)?a[i]:w:h[c]=d?w:a[i]}return h}function tb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function ub(a,b,c){var d=typeof a;return"function"==d?b===w?a:fc(a,b,c):null==a?Bf:"object"==d?Nb(a):b===w?Hf(a):Ob(a,b)}function vb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==w)return h;if(!He(a))return a;var i=Ch(a);if(i){if(h=Uc(a),!b)return cb(a,h)}else{var j=cg.call(a),k=j==V;if(j!=Y&&j!=Q&&(!k||e))return Oa[j]?Wc(a,j,b):e?a:{};if(h=Vc(k?{}:a),!b)return rb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?db:Fb)(a,function(d,e){h[e]=vb(d,b,c,e,a,f,g)}),h}function wb(a,b,c){if("function"!=typeof a)throw new Xf(O);return lg(function(){a.apply(w,c)},b)}function xb(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=Qc(),h=g===c,i=h&&b.length>=L?oc(b):null,j=b.length;i&&(g=Za,h=!1,b=i);a:for(;++f<d;){var k=a[f];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;e.push(k)}else g(b,k,0)<0&&e.push(k)}return e}function yb(a,b){var c=!0;return Jg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function zb(a,b,c,d){var e=d,f=e;return Jg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function Ab(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===w||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function Bb(a,b){var c=[];return Jg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Cb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Db(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];o(g)&&Yc(g)&&(c||Ch(g)||ye(g))?b?Db(g,b,c,d):jb(d,g):c||(d[d.length]=g)}return d}function Eb(a,b){return Lg(a,b,_e)}function Fb(a,b){return Lg(a,b,Nh)}function Gb(a,b){return Mg(a,b,Nh)}function Hb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ge(a[g])&&(f[++e]=g)}return f}function Ib(a,b,c){if(null!=a){c!==w&&c in kd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:w}}function Jb(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!He(a)&&!o(b)?a!==a&&b!==b:Kb(a,b,Jb,c,d,e,f)}function Kb(a,b,c,d,e,f,g){var h=Ch(a),i=Ch(b),j=R,k=R;h||(j=cg.call(a),j==Q?j=Y:j!=Y&&(h=Qe(a))),i||(k=cg.call(b),k==Q?k=Y:k!=Y&&(i=Qe(b)));var l=j==Y,m=k==Y,n=j==k;if(n&&!h&&!l)return Mc(a,b,j);if(!e){var o=l&&ag.call(a,"__wrapped__"),p=m&&ag.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Lc:Nc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Lb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=kd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===w&&!(h in a))return!1}else{var k=c?c(i,j,h):w;if(!(k===w?Jb(j,i,c,!0):k))return!1}}return!0}function Mb(a,b){var c=-1,d=Yc(a)?Of(a.length):[];return Jg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Nb(a){var b=Rc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==w||c in kd(a))}}return function(a){return Lb(a,b)}}function Ob(a,b){var c=Ch(a),d=_c(a)&&cd(b),e=a+"";return a=ld(a),function(f){if(null==f)return!1;var g=e;if(f=kd(f),(c||!d)&&!(g in f)){if(f=1==a.length?f:Ib(f,Wb(a,0,-1)),null==f)return!1;g=zd(a),f=kd(f)}return f[g]===b?b!==w||g in f:Jb(b,f[g],w,!0)}}function Pb(a,b,c,d,e){if(!He(a))return a;var f=Yc(b)&&(Ch(b)||Qe(b)),g=f?w:Nh(b);return db(g||b,function(h,i){if(g&&(i=h,h=b[i]),o(h))d||(d=[]),e||(e=[]),Qb(a,b,i,Pb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):w,l=k===w;l&&(k=h),k===w&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Qb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):w,l=k===w;l&&(k=i,Yc(i)&&(Ch(i)||Qe(i))?k=Ch(j)?j:Yc(j)?cb(j):[]:Ne(i)||ye(i)?k=ye(j)?Ve(j):Ne(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Rb(a){return function(b){return null==b?w:b[a]}}function Sb(a){var b=a+"";return a=ld(a),function(c){return Ib(c,a,b)}}function Tb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Zc(d)){var e=d;mg.call(a,d,1)}}return a}function Ub(a,b){return a+rg(zg()*(b-a+1))}function Vb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Wb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===w||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Xb(a,b){var c;return Jg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Yb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Zb(a,b,c){var d=Oc(),e=-1;b=ib(b,function(a){return d(a)});var f=Mb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Yb(f,function(a,b){return i(a,b,c)})}function $b(a,b){var c=0;return Jg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function _b(a,b){var d=-1,e=Qc(),f=a.length,g=e===c,h=g&&f>=L,i=h?oc():null,j=[];i?(e=Za,g=!1):(h=!1,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else e(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function ac(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function bc(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Wb(a,d?0:f,d?f+1:e):Wb(a,d?f+1:0,d?e:f)}function cc(a,b){var c=a;c instanceof Pa&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=b[d];c=f.func.apply(f.thisArg,jb([c],f.args))}return c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Eg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return ec(a,b,Bf,c)}function ec(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===w;f>e;){var j=rg((e+f)/2),k=c(a[j]),l=k!==w,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return wg(f,Dg)}function fc(a,b,c){if("function"!=typeof a)return Bf;if(b===w)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function gc(a){var b=new fg(a.byteLength),c=new ng(b);return c.set(new ng(a)),b}function hc(a,b,c){for(var d=c.length,e=-1,f=vg(a.length-d,0),g=-1,h=b.length,i=Of(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function ic(a,b,c){for(var d=-1,e=c.length,f=-1,g=vg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function jc(a,b){return function(c,d,e){var f=b?b():{};if(d=Oc(d,e,3),Ch(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Jg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function kc(a){return qe(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:w,g=e>2?c[2]:w,h=e>1?c[e-1]:w;for("function"==typeof f?(f=fc(f,h,5),e-=2):(f="function"==typeof h?h:w,e-=f?1:0),g&&$c(c[0],c[1],g)&&(f=3>e?w:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function lc(a,b){return function(c,d){var e=c?Pg(c):0;if(!bd(e))return a(c,d);for(var f=b?e:-1,g=kd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function mc(a){return function(b,c,d){for(var e=kd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function nc(a,b){function c(){var e=this&&this!==_a&&this instanceof c?d:a;return e.apply(b,arguments)}var d=qc(a);return c}function oc(a){return qg&&kg?new Ya(a):null}function pc(a){return function(b){for(var c=-1,d=yf(kf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function qc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ig(a.prototype),d=a.apply(c,b);return He(d)?d:c}}function rc(a){function b(c,d,e){e&&$c(c,d,e)&&(d=w);var f=Kc(c,a,w,w,w,w,w,d);return f.placeholder=b.placeholder,f}return b}function sc(a,b){return qe(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(w,c))})}function tc(a,b){return function(c,d,e){if(e&&$c(c,d,e)&&(d=w),d=Oc(d,e,3),1==d.length){c=Ch(c)?c:jd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return zb(c,d,a,b)}}function uc(a,c){return function(d,e,f){if(e=Oc(e,f,3),Ch(d)){var g=b(d,e,c);return g>-1?d[g]:w}return Cb(d,e,a)}}function vc(a){return function(c,d,e){return c&&c.length?(d=Oc(d,e,3),b(c,d,a)):-1}}function wc(a){return function(b,c,d){return c=Oc(c,d,3),Cb(b,c,a,!0)}}function xc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Of(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Xf(O);!b&&aa.prototype.thru&&"wrapper"==Pc(g)&&(b=new aa([],!0))}for(d=b?-1:c;++d<c;){g=f[d];var h=Pc(g),i="wrapper"==h?Og(g):w;b=i&&ad(i[0])&&i[1]==(F|B|D|G)&&!i[4].length&&1==i[9]?b[Pc(i[0])].apply(b,i[3]):1==g.length&&ad(g)?b[h]():b.thru(g)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ch(d)&&d.length>=L)return b.plant(d).value();for(var e=0,g=c?f[e].apply(this,a):d;++e<c;)g=f[e].call(this,g);return g}}}function yc(a,b){return function(c,d,e){return"function"==typeof d&&e===w&&Ch(c)?a(c,d):b(c,fc(d,e,3))}}function zc(a){return function(b,c,d){return("function"!=typeof c||d!==w)&&(c=fc(c,d,3)),a(b,c,_e)}}function Ac(a){return function(b,c,d){return("function"!=typeof c||d!==w)&&(c=fc(c,d,3)),a(b,c)}}function Bc(a){return function(b,c,d){var e={};return c=Oc(c,d,3),Fb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function Cc(a){return function(b,c,d){return b=e(b),(a?b:"")+Gc(b,c,d)+(a?"":b)}}function Dc(a){var b=qe(function(c,d){var e=q(d,b.placeholder);return Kc(c,a,w,d,e)});return b}function Ec(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===w&&Ch(c)?a(c,d,e,g):Vb(c,Oc(d,f,4),e,g,b)}}function Fc(a,b,c,d,e,f,g,h,i,j){function k(){for(var t=arguments.length,u=t,v=Of(t);u--;)v[u]=arguments[u];if(d&&(v=hc(v,d,e)),f&&(v=ic(v,f,g)),o||r){var x=k.placeholder,A=q(v,x);if(t-=A.length,j>t){var B=h?cb(h):w,C=vg(j-t,0),F=o?A:w,G=o?w:A,H=o?v:w,I=o?w:v;b|=o?D:E,b&=~(o?E:D),p||(b&=~(y|z));var J=[a,b,c,H,F,I,G,B,i,C],K=Fc.apply(w,J);return ad(a)&&Qg(K,J),K.placeholder=x,K}}var L=m?c:this,M=n?L[a]:a;return h&&(v=hd(v,h)),l&&i<v.length&&(v.length=i),this&&this!==_a&&this instanceof k&&(M=s||qc(a)),M.apply(L,v)}var l=b&F,m=b&y,n=b&z,o=b&B,p=b&A,r=b&C,s=n?w:qc(a);return k}function Gc(a,b,c){var d=a.length;if(b=+b,d>=b||!tg(b))return"";var e=b-d;return c=null==c?" ":c+"",qf(c,pg(e/c.length)).slice(0,e)}function Hc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==_a&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&y,g=qc(a);return e}function Ic(a){var b=Sf[a];return function(a,c){return c=c===w?0:+c||0,c?(c=ig(10,c),b(a*c)/c):b(a)}}function Jc(a){return function(b,c,d,e){var f=Oc(d);return null==d&&f===ub?dc(b,c,a):ec(b,c,f(d,e,1),a)}}function Kc(a,b,c,d,e,f,g,h){var i=b&z;if(!i&&"function"!=typeof a)throw new Xf(O);var j=d?d.length:0;if(j||(b&=~(D|E),d=e=w),j-=e?e.length:0,b&E){var k=d,l=e;d=e=w}var m=i?w:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(dd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:vg(h-j,0)||0,b==y)var o=nc(n[0],n[2]);else o=b!=D&&b!=(y|D)||n[4].length?Fc.apply(w,n):Hc.apply(w,n);var p=m?Ng:Qg;return p(o,n)}function Lc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):w;if(m!==w){if(m)continue;return!1}if(e){if(!mb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Mc(a,b,c){switch(c){case S:case T:return+a==+b;case U:return a.name==b.name&&a.message==b.message;case X:return a!=+a?b!=+b:a==+b;case Z:case _:return a==b+""}return!1}function Nc(a,b,c,d,e,f,g){var h=Nh(a),i=h.length,j=Nh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:ag.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):w;if(!(q===w?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Oc(a,b,c){var d=W.callback||zf;return d=d===zf?ub:d,c?d(a,b,c):d}function Pc(a){for(var b=a.name+"",c=Hg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Qc(a,b,d){var e=W.indexOf||xd;return e=e===xd?c:e,a?e(a,b,d):e}function Rc(a){for(var b=af(a),c=b.length;c--;)b[c][2]=cd(b[c][1]);return b}function Sc(a,b){var c=null==a?w:a[b];return Ke(c)?c:w}function Tc(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=wg(b,a+g);break;case"takeRight":a=vg(a,b-g)}}return{start:a,end:b}}function Uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&ag.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function Wc(a,b,c){var d=a.constructor;switch(b){case ba:return gc(a);case S:case T:return new d(+a);case ca:case da:case ea:case fa:case ga:case ha:case ia:case ja:case ka:var e=a.buffer;return new d(c?gc(e):e,a.byteOffset,a.length);case X:case _:return new d(a);case Z:var f=new d(a.source,Da.exec(a));f.lastIndex=a.lastIndex}return f}function Xc(a,b,c){null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),b=zd(b));var d=null==a?a:a[b];return null==d?w:d.apply(a,c)}function Yc(a){return null!=a&&bd(Pg(a))}function Zc(a,b){return a="number"==typeof a||Ga.test(a)?+a:-1,b=null==b?Fg:b,a>-1&&a%1==0&&b>a}function $c(a,b,c){if(!He(c))return!1;var d=typeof b;if("number"==d?Yc(c)&&Zc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function _c(a,b){var c=typeof a;if("string"==c&&wa.test(a)||"number"==c)return!0;if(Ch(a))return!1;var d=!va.test(a);return d||null!=b&&a in kd(b)}function ad(a){var b=Pc(a),c=W[b];if("function"!=typeof c||!(b in Pa.prototype))return!1;if(a===c)return!0;var d=Og(c);return!!d&&a===d[0]}function bd(a){return"number"==typeof a&&a>-1&&a%1==0&&Fg>=a}function cd(a){return a===a&&!He(a)}function dd(a,b){var c=a[1],d=b[1],e=c|d,f=F>e,g=d==F&&c==B||d==F&&c==G&&a[7].length<=b[8]||d==(F|G)&&c==B;if(!f&&!g)return a;d&y&&(a[2]=b[2],e|=c&y?0:A);var h=b[3];if(h){var i=a[3];a[3]=i?hc(i,h,b[4]):cb(h),a[4]=i?q(a[3],P):cb(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?ic(i,h,b[6]):cb(h),a[6]=i?q(a[5],P):cb(b[6])),h=b[7],h&&(a[7]=cb(h)),d&F&&(a[8]=null==a[8]?b[8]:wg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ed(a,b){return a===w?b:Dh(a,b,ed)}function fd(a,b){a=kd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function gd(a,b){var c={};return Eb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function hd(a,b){for(var c=a.length,d=wg(b.length,c),e=cb(a);d--;){var f=b[d];a[d]=Zc(f,c)?e[f]:w}return a}function id(a){for(var b=_e(a),c=b.length,d=c&&a.length,e=!!d&&bd(d)&&(Ch(a)||ye(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Zc(h,d)||ag.call(a,h))&&g.push(h)}return g}function jd(a){return null==a?[]:Yc(a)?He(a)?a:Uf(a):ef(a)}function kd(a){return He(a)?a:Uf(a)}function ld(a){if(Ch(a))return a;var b=[];return e(a).replace(xa,function(a,c,d,e){b.push(d?e.replace(Ba,"$1"):c||a)}),b}function md(a){return a instanceof Pa?a.clone():new aa(a.__wrapped__,a.__chain__,cb(a.__actions__))}function nd(a,b,c){b=(c?$c(a,b,c):null==b)?1:vg(rg(b)||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(pg(e/b));e>d;)g[++f]=Wb(a,d,d+=b);return g}function od(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function pd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0>b?0:b)):[]}function qd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0,0>b?0:b)):[]}function rd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0,!0):[]}function sd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0):[]}function td(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&$c(a,b,c)&&(c=0,d=e),Ab(a,b,c,d)):[]}function ud(a){return a?a[0]:w}function vd(a,b,c){var d=a?a.length:0;return c&&$c(a,b,c)&&(b=!1),d?Db(a,b):[]}function wd(a){var b=a?a.length:0;return b?Db(a,!0):[]}function xd(a,b,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?vg(e+d,0):d;else if(d){var f=dc(a,b);return e>f&&(b===b?b===a[f]:a[f]!==a[f])?f:-1}return c(a,b,d||0)}function yd(a){return qd(a,1)}function zd(a){var b=a?a.length:0;return b?a[b-1]:w}function Ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?vg(d+c,0):wg(c||0,d-1))+1;else if(c){e=dc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return n(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Bd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Qc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)mg.call(b,f,1);return b}function Cd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Oc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Tb(a,f),d}function Dd(a){return pd(a,1)}function Ed(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&$c(a,b,c)&&(b=0,c=d),Wb(a,b,c)):[]}function Fd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0,0>b?0:b)):[]}function Gd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0>b?0:b)):[]}function Hd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!1,!0):[]}function Id(a,b,c){return a&&a.length?bc(a,Oc(b,c,3)):[]}function Jd(a,b,d,e){var f=a?a.length:0;if(!f)return[];null!=b&&"boolean"!=typeof b&&(e=d,d=$c(a,b,e)?w:b,b=!1);var g=Oc();return(null!=d||g!==ub)&&(d=g(d,e,3)),b&&Qc()===c?r(a,d):_b(a,d)}function Kd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){return Yc(a)?(c=vg(a.length,c),!0):void 0});for(var d=Of(c);++b<c;)d[b]=ib(a,Rb(b));return d}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Kd(a);return null==b?e:(b=fc(b,c,4),ib(e,function(a){return kb(a,b,w,!0)}))}function Md(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Yc(c))var d=d?jb(xb(d,c),xb(c,d)):c}return d?_b(d):[]}function Nd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ch(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Od(a){var b=W(a);return b.__chain__=!0,b}function Pd(a,b,c){return b.call(c,a),a}function Qd(a,b,c){return b.call(c,a)}function Rd(){return Od(this)}function Sd(){return new aa(this.value(),this.__chain__)}function Td(a){for(var b,c=this;c instanceof $;){var d=md(c);b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function Ud(){var a=this.__wrapped__,b=function(a){return a.reverse()};if(a instanceof Pa){var c=a;return this.__actions__.length&&(c=new Pa(this)),c=c.reverse(),c.__actions__.push({func:Qd,args:[b],thisArg:w}),new aa(c,this.__chain__)}return this.thru(b)}function Vd(){return this.value()+""}function Wd(){return cc(this.__wrapped__,this.__actions__)}function Xd(a,b,c){var d=Ch(a)?fb:yb;return c&&$c(a,b,c)&&(b=w),("function"!=typeof b||c!==w)&&(b=Oc(b,c,3)),d(a,b)}function Yd(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,b)}function Zd(a,b){return dh(a,Nb(b))}function $d(a,b,c,d){var e=a?Pg(a):0;return bd(e)||(a=ef(a),e=a.length),c="number"!=typeof c||d&&$c(b,c,d)?0:0>c?vg(e+c,0):c||0,"string"==typeof a||!Ch(a)&&Pe(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&Qc(a,b,c)>-1}function _d(a,b,c){var d=Ch(a)?ib:Mb;return b=Oc(b,c,3),d(a,b)}function ae(a,b){return _d(a,Hf(b))}function be(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function ce(a,b,c){if(c?$c(a,b,c):null==b){a=jd(a);var d=a.length;return d>0?a[Ub(0,d-1)]:w}var e=-1,f=Ue(a),d=f.length,g=d-1;for(b=wg(0>b?0:+b||0,d);++e<b;){var h=Ub(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function de(a){return ce(a,Bg)}function ee(a){var b=a?Pg(a):0;return bd(b)?b:Nh(a).length}function fe(a,b,c){var d=Ch(a)?mb:Xb;return c&&$c(a,b,c)&&(b=w),("function"!=typeof b||c!==w)&&(b=Oc(b,c,3)),d(a,b)}function ge(a,b,c){if(null==a)return[];c&&$c(a,b,c)&&(b=w);var d=-1;b=Oc(b,c,3);var e=Mb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Yb(e,h)}function he(a,b,c,d){return null==a?[]:(d&&$c(b,c,d)&&(c=w),Ch(b)||(b=null==b?[]:[b]),Ch(c)||(c=null==c?[]:[c]),Zb(a,b,c))}function ie(a,b){return Yd(a,Nb(b))}function je(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(O);var c=a;a=b,b=c}return a=tg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function ke(a,b,c){return c&&$c(a,b,c)&&(b=w),b=a&&null==b?a.length:vg(+b||0,0),Kc(a,F,w,w,w,w,b)}function le(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(O);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=w),c}}function me(a,b,c){function d(){n&&gg(n),j&&gg(j),p=0,j=n=o=w}function e(b,c){c&&gg(c),j=n=o=w,b&&(p=oh(),k=a.apply(m,i),n||j||(i=m=w))}function f(){var a=b-(oh()-l);0>=a||a>b?e(o,j):n=lg(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=oh(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=0>=d||d>q;e?(j&&(j=gg(j)),p=l,k=a.apply(m,i)):j||(j=lg(g,d))}return e&&n?n=gg(n):n||b===q||(n=lg(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=w),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new Xf(O);if(b=0>b?0:+b||0,c===!0){var s=!0;r=!1}else He(c)&&(s=!!c.leading,q="maxWait"in c&&vg(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function ne(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(O);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ne.Cache,c}function oe(a){if("function"!=typeof a)throw new Xf(O);return function(){return!a.apply(this,arguments)}}function pe(a){return le(2,a)}function qe(a,b){if("function"!=typeof a)throw new Xf(O);return b=vg(b===w?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=vg(c.length-b,0),f=Of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function re(a){if("function"!=typeof a)throw new Xf(O);return function(b){return a.apply(this,b)}}function se(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(O);return c===!1?d=!1:He(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),me(a,b,{leading:d,maxWait:+b,trailing:e})}function te(a,b){return b=null==b?Bf:b,Kc(b,D,w,[a],[])}function ue(a,b,c,d){return b&&"boolean"!=typeof b&&$c(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?vb(a,b,fc(c,d,3)):vb(a,b)}function ve(a,b,c){return"function"==typeof b?vb(a,!0,fc(b,c,3)):vb(a,!0)}function we(a,b){return a>b}function xe(a,b){return a>=b}function ye(a){return o(a)&&Yc(a)&&ag.call(a,"callee")&&!jg.call(a,"callee")}function ze(a){return a===!0||a===!1||o(a)&&cg.call(a)==S}function Ae(a){return o(a)&&cg.call(a)==T}function Be(a){return!!a&&1===a.nodeType&&o(a)&&!Ne(a)}function Ce(a){return null==a?!0:Yc(a)&&(Ch(a)||Pe(a)||ye(a)||o(a)&&Ge(a.splice))?!a.length:!Nh(a).length}function De(a,b,c,d){c="function"==typeof c?fc(c,d,3):w;var e=c?c(a,b):w;return e===w?Jb(a,b,c):!!e}function Ee(a){return o(a)&&"string"==typeof a.message&&cg.call(a)==U}function Fe(a){return"number"==typeof a&&tg(a)}function Ge(a){return He(a)&&cg.call(a)==V}function He(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ie(a,b,c,d){return c="function"==typeof c?fc(c,d,3):w,Lb(a,Rc(b),c)}function Je(a){return Me(a)&&a!=+a}function Ke(a){return null==a?!1:Ge(a)?eg.test(_f.call(a)):o(a)&&Fa.test(a)}function Le(a){return null===a}function Me(a){return"number"==typeof a||o(a)&&cg.call(a)==X}function Ne(a){var b;if(!o(a)||cg.call(a)!=Y||ye(a)||!ag.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Eb(a,function(a,b){c=b}),c===w||ag.call(a,c)}function Oe(a){return He(a)&&cg.call(a)==Z}function Pe(a){return"string"==typeof a||o(a)&&cg.call(a)==_}function Qe(a){return o(a)&&bd(a.length)&&!!Na[cg.call(a)]}function Re(a){return a===w}function Se(a,b){return b>a}function Te(a,b){return b>=a}function Ue(a){var b=a?Pg(a):0;return bd(b)?b?cb(a):[]:ef(a)}function Ve(a){return tb(a,_e(a))}function We(a,b,c){var d=Ig(a);return c&&$c(a,b,c)&&(b=w),b?rb(d,b):d}function Xe(a){return Hb(a,_e(a))}function Ye(a,b,c){var d=null==a?w:Ib(a,ld(b),b+"");return d===w?c:d}function Ze(a,b){if(null==a)return!1;var c=ag.call(a,b);if(!c&&!_c(b)){if(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),null==a)return!1;b=zd(b),c=ag.call(a,b)}return c||bd(a.length)&&Zc(b,a.length)&&(Ch(a)||ye(a))}function $e(a,b,c){c&&$c(a,b,c)&&(b=w);for(var d=-1,e=Nh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?ag.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function _e(a){if(null==a)return[];He(a)||(a=Uf(a));var b=a.length;b=b&&bd(b)&&(Ch(a)||ye(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Zc(h,b)||"constructor"==h&&(e||!ag.call(a,h))||f.push(h);return f}function af(a){a=kd(a);for(var b=-1,c=Nh(a),d=c.length,e=Of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function bf(a,b,c){var d=null==a?w:a[b];return d===w&&(null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),d=null==a?w:a[zd(b)]),d=d===w?c:d),Ge(d)?d.call(a):d}function cf(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||_c(b,a)?[d]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];He(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Zc(b[e+1])?[]:{})),h=h[i]}return a}function df(a,b,c,d){var e=Ch(a)||Qe(a);if(b=Oc(b,d,4),null==c)if(e||He(a)){var f=a.constructor;c=e?Ch(a)?new f:[]:Ig(Ge(f)?f.prototype:w)}else c={};return(e?db:Fb)(a,function(a,d,e){return b(c,a,d,e)}),c}function ef(a){return ac(a,Nh(a))}function ff(a){return ac(a,_e(a))}function gf(a,b,c){return b=+b||0,c===w?(c=b,b=0):c=+c||0,a>=wg(b,c)&&a<vg(b,c)}function hf(a,b,c){c&&$c(a,b,c)&&(b=c=w);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=zg();return wg(a+f*(b-a+hg("1e-"+((f+"").length-1))),b)}return Ub(a,b)}function jf(a){return a=e(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function kf(a){return a=e(a),
a&&a.replace(Ha,j).replace(Aa,"")}function lf(a,b,c){a=e(a),b+="";var d=a.length;return c=c===w?d:wg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function mf(a){return a=e(a),a&&ra.test(a)?a.replace(pa,k):a}function nf(a){return a=e(a),a&&za.test(a)?a.replace(ya,l):a||"(?:)"}function of(a,b,c){a=e(a),b=+b;var d=a.length;if(d>=b||!tg(b))return a;var f=(b-d)/2,g=rg(f),h=pg(f);return c=Gc("",h,c),c.slice(0,g)+a+c}function pf(a,b,c){return(c?$c(a,b,c):null==b)?b=0:b&&(b=+b),a=tf(a),yg(a,b||(Ea.test(a)?16:10))}function qf(a,b){var c="";if(a=e(a),b=+b,1>b||!a||!tg(b))return c;do b%2&&(c+=a),b=rg(b/2),a+=a;while(b);return c}function rf(a,b,c){return a=e(a),c=null==c?0:wg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function sf(a,b,c){var d=W.templateSettings;c&&$c(a,b,c)&&(b=c=w),a=e(a),b=qb(rb({},c||b),d,pb);var f,g,h=qb(rb({},b.imports),d.imports,pb),i=Nh(h),j=ac(h,i),k=0,l=b.interpolate||Ia,n="__p += '",o=Vf((b.escape||Ia).source+"|"+l.source+"|"+(l===ua?Ca:Ia).source+"|"+(b.evaluate||Ia).source+"|$","g"),p="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Ma+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(k,i).replace(Ja,m),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),n+="';\n";var q=b.variable;q||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(la,""):n).replace(ma,"$1").replace(na,"$1;"),n="function("+(q||"obj")+") {\n"+(q?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var r=Yh(function(){return Rf(i,p+"return "+n).apply(w,j)});if(r.source=n,Ee(r))throw r;return r}function tf(a,b,c){var d=a;return(a=e(a))?(c?$c(d,b,c):null==b)?a.slice(s(a),t(a)+1):(b+="",a.slice(f(a,b),g(a,b)+1)):a}function uf(a,b,c){var d=a;return a=e(a),a?(c?$c(d,b,c):null==b)?a.slice(s(a)):a.slice(f(a,b+"")):a}function vf(a,b,c){var d=a;return a=e(a),a?(c?$c(d,b,c):null==b)?a.slice(0,t(a)+1):a.slice(0,g(a,b+"")+1):a}function wf(a,b,c){c&&$c(a,b,c)&&(b=w);var d=H,f=I;if(null!=b)if(He(b)){var g="separator"in b?b.separator:g;d="length"in b?+b.length||0:d,f="omission"in b?e(b.omission):f}else d=+b||0;if(a=e(a),d>=a.length)return a;var h=d-f.length;if(1>h)return f;var i=a.slice(0,h);if(null==g)return i+f;if(Oe(g)){if(a.slice(h).search(g)){var j,k,l=a.slice(0,h);for(g.global||(g=Vf(g.source,(Da.exec(g)||"")+"g")),g.lastIndex=0;j=g.exec(l);)k=j.index;i=i.slice(0,null==k?h:k)}}else if(a.indexOf(g,h)!=h){var m=i.lastIndexOf(g);m>-1&&(i=i.slice(0,m))}return i+f}function xf(a){return a=e(a),a&&qa.test(a)?a.replace(oa,u):a}function yf(a,b,c){return c&&$c(a,b,c)&&(b=w),a=e(a),a.match(b||Ka)||[]}function zf(a,b,c){return c&&$c(a,b,c)&&(b=w),o(a)?Cf(a):ub(a,b)}function Af(a){return function(){return a}}function Bf(a){return a}function Cf(a){return Nb(vb(a,!0))}function Df(a,b){return Ob(a,vb(b,!0))}function Ef(a,b,c){if(null==c){var d=He(b),e=d?Nh(b):w,f=e&&e.length?Hb(b,e):w;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Hb(b,Nh(b)));var g=!0,h=-1,i=Ge(a),j=f.length;c===!1?g=!1:He(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=cb(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,jb([this.value()],arguments))}}(l))}return a}function Ff(){return _a._=dg,this}function Gf(){}function Hf(a){return _c(a)?Rb(a):Sb(a)}function If(a){return function(b){return Ib(a,ld(b),b+"")}}function Jf(a,b,c){c&&$c(a,b,c)&&(b=c=w),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=vg(pg((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Kf(a,b,c){if(a=rg(a),1>a||!tg(a))return[];var d=-1,e=Of(wg(a,Cg));for(b=fc(b,c,1);++d<a;)Cg>d?e[d]=b(d):b(d);return e}function Lf(a){var b=++bg;return e(a)+b}function Mf(a,b){return(+a||0)+(+b||0)}function Nf(a,b,c){return c&&$c(a,b,c)&&(b=w),b=Oc(b,c,3),1==b.length?nb(Ch(a)?a:jd(a),b):$b(a,b)}p=p?ab.defaults(_a.Object(),p,ab.pick(_a,La)):_a;var Of=p.Array,Pf=p.Date,Qf=p.Error,Rf=p.Function,Sf=p.Math,Tf=p.Number,Uf=p.Object,Vf=p.RegExp,Wf=p.String,Xf=p.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=Wf.prototype,_f=Rf.prototype.toString,ag=Zf.hasOwnProperty,bg=0,cg=Zf.toString,dg=_a._,eg=Vf("^"+_f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fg=p.ArrayBuffer,gg=p.clearTimeout,hg=p.parseFloat,ig=Sf.pow,jg=Zf.propertyIsEnumerable,kg=Sc(p,"Set"),lg=p.setTimeout,mg=Yf.splice,ng=p.Uint8Array,og=Sc(p,"WeakMap"),pg=Sf.ceil,qg=Sc(Uf,"create"),rg=Sf.floor,sg=Sc(Of,"isArray"),tg=p.isFinite,ug=Sc(Uf,"keys"),vg=Sf.max,wg=Sf.min,xg=Sc(Pf,"now"),yg=p.parseInt,zg=Sf.random,Ag=Tf.NEGATIVE_INFINITY,Bg=Tf.POSITIVE_INFINITY,Cg=4294967295,Dg=Cg-1,Eg=Cg>>>1,Fg=9007199254740991,Gg=og&&new og,Hg={};W.support={};W.templateSettings={escape:sa,evaluate:ta,interpolate:ua,variable:"",imports:{_:W}};var Ig=function(){function a(){}return function(b){if(He(b)){a.prototype=b;var c=new a;a.prototype=w}return c||{}}}(),Jg=lc(Fb),Kg=lc(Gb,!0),Lg=mc(),Mg=mc(!0),Ng=Gg?function(a,b){return Gg.set(a,b),a}:Bf,Og=Gg?function(a){return Gg.get(a)}:Gf,Pg=Rb("length"),Qg=function(){var a=0,b=0;return function(c,d){var e=oh(),f=K-(e-b);if(b=e,f>0){if(++a>=J)return c}else a=0;return Ng(c,d)}}(),Rg=qe(function(a,b){return o(a)&&Yc(a)?xb(a,Db(b,!1,!0)):[]}),Sg=vc(),Tg=vc(!0),Ug=qe(function(a){for(var b=a.length,d=b,e=Of(l),f=Qc(),g=f===c,h=[];d--;){var i=a[d]=Yc(i=a[d])?i:[];e[d]=g&&i.length>=120?oc(d&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=e[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):f(h,i,0))<0){for(var d=b;--d;){var n=e[d];if((n?Za(n,i):f(a[d],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Vg=qe(function(b,c){c=Db(c);var d=sb(b,c);return Tb(b,c.sort(a)),d}),Wg=Jc(),Xg=Jc(!0),Yg=qe(function(a){return _b(Db(a,!1,!0))}),Zg=qe(function(a,b){return Yc(a)?xb(a,b):[]}),$g=qe(Kd),_g=qe(function(a){var b=a.length,c=b>2?a[b-2]:w,d=b>1?a[b-1]:w;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):w,d=w),a.length=b,Ld(a,c,d)}),ah=qe(function(a){return a=Db(a),this.thru(function(b){return bb(Ch(b)?b:[kd(b)],a)})}),bh=qe(function(a,b){return sb(a,Db(b))}),ch=jc(function(a,b,c){ag.call(a,c)?++a[c]:a[c]=1}),dh=uc(Jg),eh=uc(Kg,!0),fh=yc(db,Jg),gh=yc(eb,Kg),hh=jc(function(a,b,c){ag.call(a,c)?a[c].push(b):a[c]=[b]}),ih=jc(function(a,b,c){a[c]=b}),jh=qe(function(a,b,c){var d=-1,e="function"==typeof b,f=_c(b),g=Yc(a)?Of(a.length):[];return Jg(a,function(a){var h=e?b:f&&null!=a?a[b]:w;g[++d]=h?h.apply(a,c):Xc(a,b,c)}),g}),kh=jc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),lh=Ec(kb,Jg),mh=Ec(lb,Kg),nh=qe(function(a,b){if(null==a)return[];var c=b[2];return c&&$c(b[0],b[1],c)&&(b.length=1),Zb(a,Db(b),[])}),oh=xg||function(){return(new Pf).getTime()},ph=qe(function(a,b,c){var d=y;if(c.length){var e=q(c,ph.placeholder);d|=D}return Kc(a,d,b,c,e)}),qh=qe(function(a,b){b=b.length?Db(b):Xe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Kc(a[e],y,a)}return a}),rh=qe(function(a,b,c){var d=y|z;if(c.length){var e=q(c,rh.placeholder);d|=D}return Kc(b,d,a,c,e)}),sh=rc(B),th=rc(C),uh=qe(function(a,b){return wb(a,1,b)}),vh=qe(function(a,b,c){return wb(a,b,c)}),wh=xc(),xh=xc(!0),yh=qe(function(a,b){if(b=Db(b),"function"!=typeof a||!fb(b,d))throw new Xf(O);var c=b.length;return qe(function(d){for(var e=wg(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),zh=Dc(D),Ah=Dc(E),Bh=qe(function(a,b){return Kc(a,G,w,w,w,Db(b))}),Ch=sg||function(a){return o(a)&&bd(a.length)&&cg.call(a)==R},Dh=kc(Pb),Eh=kc(function(a,b,c){return c?qb(a,b,c):rb(a,b)}),Fh=sc(Eh,ob),Gh=sc(Dh,ed),Hh=wc(Fb),Ih=wc(Gb),Jh=zc(Lg),Kh=zc(Mg),Lh=Ac(Fb),Mh=Ac(Gb),Nh=ug?function(a){var b=null==a?w:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Yc(a)?id(a):He(a)?ug(a):[]}:id,Oh=Bc(!0),Ph=Bc(),Qh=qe(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Db(b),Wf);return fd(a,xb(_e(a),b))}var c=fc(b[0],b[1],3);return gd(a,function(a,b,d){return!c(a,b,d)})}),Rh=qe(function(a,b){return null==a?{}:"function"==typeof b[0]?gd(a,fc(b[0],b[1],3)):fd(a,Db(b))}),Sh=pc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=pc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=Cc(),Vh=Cc(!0),Wh=pc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=pc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=qe(function(a,b){try{return a.apply(w,b)}catch(c){return Ee(c)?c:new Qf(c)}}),Zh=qe(function(a,b){return function(c){return Xc(c,a,b)}}),$h=qe(function(a,b){return function(c){return Xc(a,c,b)}}),_h=Ic("ceil"),ai=Ic("floor"),bi=tc(we,Ag),ci=tc(Se,Bg),di=Ic("round");return W.prototype=$.prototype,aa.prototype=Ig($.prototype),aa.prototype.constructor=aa,Pa.prototype=Ig($.prototype),Pa.prototype.constructor=Pa,Ta.prototype["delete"]=Ua,Ta.prototype.get=Va,Ta.prototype.has=Wa,Ta.prototype.set=Xa,Ya.prototype.push=$a,ne.Cache=Ta,W.after=je,W.ary=ke,W.assign=Eh,W.at=bh,W.before=le,W.bind=ph,W.bindAll=qh,W.bindKey=rh,W.callback=zf,W.chain=Od,W.chunk=nd,W.compact=od,W.constant=Af,W.countBy=ch,W.create=We,W.curry=sh,W.curryRight=th,W.debounce=me,W.defaults=Fh,W.defaultsDeep=Gh,W.defer=uh,W.delay=vh,W.difference=Rg,W.drop=pd,W.dropRight=qd,W.dropRightWhile=rd,W.dropWhile=sd,W.fill=td,W.filter=Yd,W.flatten=vd,W.flattenDeep=wd,W.flow=wh,W.flowRight=xh,W.forEach=fh,W.forEachRight=gh,W.forIn=Jh,W.forInRight=Kh,W.forOwn=Lh,W.forOwnRight=Mh,W.functions=Xe,W.groupBy=hh,W.indexBy=ih,W.initial=yd,W.intersection=Ug,W.invert=$e,W.invoke=jh,W.keys=Nh,W.keysIn=_e,W.map=_d,W.mapKeys=Oh,W.mapValues=Ph,W.matches=Cf,W.matchesProperty=Df,W.memoize=ne,W.merge=Dh,W.method=Zh,W.methodOf=$h,W.mixin=Ef,W.modArgs=yh,W.negate=oe,W.omit=Qh,W.once=pe,W.pairs=af,W.partial=zh,W.partialRight=Ah,W.partition=kh,W.pick=Rh,W.pluck=ae,W.property=Hf,W.propertyOf=If,W.pull=Bd,W.pullAt=Vg,W.range=Jf,W.rearg=Bh,W.reject=be,W.remove=Cd,W.rest=Dd,W.restParam=qe,W.set=cf,W.shuffle=de,W.slice=Ed,W.sortBy=ge,W.sortByAll=nh,W.sortByOrder=he,W.spread=re,W.take=Fd,W.takeRight=Gd,W.takeRightWhile=Hd,W.takeWhile=Id,W.tap=Pd,W.throttle=se,W.thru=Qd,W.times=Kf,W.toArray=Ue,W.toPlainObject=Ve,W.transform=df,W.union=Yg,W.uniq=Jd,W.unzip=Kd,W.unzipWith=Ld,W.values=ef,W.valuesIn=ff,W.where=ie,W.without=Zg,W.wrap=te,W.xor=Md,W.zip=$g,W.zipObject=Nd,W.zipWith=_g,W.backflow=xh,W.collect=_d,W.compose=xh,W.each=fh,W.eachRight=gh,W.extend=Eh,W.iteratee=zf,W.methods=Xe,W.object=Nd,W.select=Yd,W.tail=Dd,W.unique=Jd,Ef(W,W),W.add=Mf,W.attempt=Yh,W.camelCase=Sh,W.capitalize=jf,W.ceil=_h,W.clone=ue,W.cloneDeep=ve,W.deburr=kf,W.endsWith=lf,W.escape=mf,W.escapeRegExp=nf,W.every=Xd,W.find=dh,W.findIndex=Sg,W.findKey=Hh,W.findLast=eh,W.findLastIndex=Tg,W.findLastKey=Ih,W.findWhere=Zd,W.first=ud,W.floor=ai,W.get=Ye,W.gt=we,W.gte=xe,W.has=Ze,W.identity=Bf,W.includes=$d,W.indexOf=xd,W.inRange=gf,W.isArguments=ye,W.isArray=Ch,W.isBoolean=ze,W.isDate=Ae,W.isElement=Be,W.isEmpty=Ce,W.isEqual=De,W.isError=Ee,W.isFinite=Fe,W.isFunction=Ge,W.isMatch=Ie,W.isNaN=Je,W.isNative=Ke,W.isNull=Le,W.isNumber=Me,W.isObject=He,W.isPlainObject=Ne,W.isRegExp=Oe,W.isString=Pe,W.isTypedArray=Qe,W.isUndefined=Re,W.kebabCase=Th,W.last=zd,W.lastIndexOf=Ad,W.lt=Se,W.lte=Te,W.max=bi,W.min=ci,W.noConflict=Ff,W.noop=Gf,W.now=oh,W.pad=of,W.padLeft=Uh,W.padRight=Vh,W.parseInt=pf,W.random=hf,W.reduce=lh,W.reduceRight=mh,W.repeat=qf,W.result=bf,W.round=di,W.runInContext=v,W.size=ee,W.snakeCase=Wh,W.some=fe,W.sortedIndex=Wg,W.sortedLastIndex=Xg,W.startCase=Xh,W.startsWith=rf,W.sum=Nf,W.template=sf,W.trim=tf,W.trimLeft=uf,W.trimRight=vf,W.trunc=wf,W.unescape=xf,W.uniqueId=Lf,W.words=yf,W.all=Xd,W.any=fe,W.contains=$d,W.eq=De,W.detect=dh,W.foldl=lh,W.foldr=mh,W.head=ud,W.include=$d,W.inject=lh,Ef(W,function(){var a={};return Fb(W,function(b,c){W.prototype[c]||(a[c]=b)}),a}(),!1),W.sample=ce,W.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ce(b,a)}):ce(this.value())},W.VERSION=x,db(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){W[a].placeholder=W}),db(["drop","take"],function(a,b){Pa.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Pa(this);c=null==c?1:vg(rg(c)||0,0);var e=this.clone();return d?e.__takeCount__=wg(e.__takeCount__,c):e.__views__.push({size:c,type:a+(e.__dir__<0?"Right":"")}),e},Pa.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),db(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=N;Pa.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:Oc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),db(["first","last"],function(a,b){var c="take"+(b?"Right":"");Pa.prototype[a]=function(){return this[c](1).value()[0]}}),db(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Pa.prototype[a]=function(){return this.__filtered__?new Pa(this):this[c](1)}}),db(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Nb:Hf;Pa.prototype[a]=function(a){return this[c](d(a))}}),Pa.prototype.compact=function(){return this.filter(Bf)},Pa.prototype.reject=function(a,b){return a=Oc(a,b,1),this.filter(function(b){return!a(b)})},Pa.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(a>0||0>b)?new Pa(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==w&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},Pa.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},Pa.prototype.toArray=function(){return this.take(Bg)},Fb(Pa.prototype,function(a,b){var c=/^(?:filter|map|reject)|While$/.test(b),d=/^(?:first|last)$/.test(b),e=W[d?"take"+("last"==b?"Right":""):b];e&&(W.prototype[b]=function(){var b=d?[1]:arguments,f=this.__chain__,g=this.__wrapped__,h=!!this.__actions__.length,i=g instanceof Pa,j=b[0],k=i||Ch(g);k&&c&&"function"==typeof j&&1!=j.length&&(i=k=!1);var l=function(a){return d&&f?e(a,1)[0]:e.apply(w,jb([a],b))},m={func:Qd,args:[l],thisArg:w},n=i&&!h;if(d&&!f)return n?(g=g.clone(),g.__actions__.push(m),a.call(g)):e.call(w,this.value())[0];if(!d&&k){g=n?g:new Pa(this);var o=a.apply(g,b);return o.__actions__.push(m),new aa(o,f)}return this.thru(l)})}),db(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var b=(/^(?:replace|split)$/.test(a)?$f:Yf)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);W.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),Fb(Pa.prototype,function(a,b){var c=W[b];if(c){var d=c.name+"",e=Hg[d]||(Hg[d]=[]);e.push({name:b,func:c})}}),Hg[Fc(w,z).name]=[{name:"wrapper",func:w}],Pa.prototype.clone=Qa,Pa.prototype.reverse=Ra,Pa.prototype.value=Sa,W.prototype.chain=Rd,W.prototype.commit=Sd,W.prototype.concat=ah,W.prototype.plant=Td,W.prototype.reverse=Ud,W.prototype.toString=Vd,W.prototype.run=W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Wd,W.prototype.collect=W.prototype.map,W.prototype.head=W.prototype.first,W.prototype.select=W.prototype.filter,W.prototype.tail=W.prototype.rest,W}var w,x="3.10.1",y=1,z=2,A=4,B=8,C=16,D=32,E=64,F=128,G=256,H=30,I="...",J=150,K=16,L=200,M=1,N=2,O="Expected a function",P="__lodash_placeholder__",Q="[object Arguments]",R="[object Array]",S="[object Boolean]",T="[object Date]",U="[object Error]",V="[object Function]",W="[object Map]",X="[object Number]",Y="[object Object]",Z="[object RegExp]",$="[object Set]",_="[object String]",aa="[object WeakMap]",ba="[object ArrayBuffer]",ca="[object Float32Array]",da="[object Float64Array]",ea="[object Int8Array]",fa="[object Int16Array]",ga="[object Int32Array]",ha="[object Uint8Array]",ia="[object Uint8ClampedArray]",ja="[object Uint16Array]",ka="[object Uint32Array]",la=/\b__p \+= '';/g,ma=/\b(__p \+=) '' \+/g,na=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oa=/&(?:amp|lt|gt|quot|#39|#96);/g,pa=/[&<>"'`]/g,qa=RegExp(oa.source),ra=RegExp(pa.source),sa=/<%-([\s\S]+?)%>/g,ta=/<%([\s\S]+?)%>/g,ua=/<%=([\s\S]+?)%>/g,va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,wa=/^\w*$/,xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ya=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,za=RegExp(ya.source),Aa=/[\u0300-\u036f\ufe20-\ufe23]/g,Ba=/\\(\\)?/g,Ca=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Da=/\w*$/,Ea=/^0[xX]/,Fa=/^\[object .+?Constructor\]$/,Ga=/^\d+$/,Ha=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ia=/($^)/,Ja=/['\n\r\u2028\u2029\\]/g,Ka=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),La=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ma=-1,Na={};Na[ca]=Na[da]=Na[ea]=Na[fa]=Na[ga]=Na[ha]=Na[ia]=Na[ja]=Na[ka]=!0,Na[Q]=Na[R]=Na[ba]=Na[S]=Na[T]=Na[U]=Na[V]=Na[W]=Na[X]=Na[Y]=Na[Z]=Na[$]=Na[_]=Na[aa]=!1;var Oa={};Oa[Q]=Oa[R]=Oa[ba]=Oa[S]=Oa[T]=Oa[ca]=Oa[da]=Oa[ea]=Oa[fa]=Oa[ga]=Oa[X]=Oa[Y]=Oa[Z]=Oa[_]=Oa[ha]=Oa[ia]=Oa[ja]=Oa[ka]=!0,Oa[U]=Oa[V]=Oa[W]=Oa[$]=Oa[aa]=!1;var Pa={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Qa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ra={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Sa={"function":!0,object:!0},Ta={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ua={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Va=Sa[typeof exports]&&exports&&!exports.nodeType&&exports,Wa=Sa[typeof module]&&module&&!module.nodeType&&module,Xa=Va&&Wa&&"object"==typeof global&&global&&global.Object&&global,Ya=Sa[typeof self]&&self&&self.Object&&self,Za=Sa[typeof window]&&window&&window.Object&&window,$a=Wa&&Wa.exports===Va&&Va,_a=Xa||Za!==(this&&this.window)&&Za||Ya||this,ab=v();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(_a._=ab,define(function(){return ab})):Va&&Wa?$a?(Wa.exports=ab)._=ab:Va._=ab:_a._=ab}.call(this),function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b){b=b||ca;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}function d(a){var b=!!a&&"length"in a&&a.length,c=pa.type(a);return"function"===c||pa.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function e(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function f(a,b,c){return pa.isFunction(b)?pa.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?pa.grep(a,function(a){return a===b!==c}):"string"!=typeof b?pa.grep(a,function(a){return ha.call(b,a)>-1!==c}):za.test(b)?pa.filter(b,a,c):(b=pa.filter(b,a),pa.grep(a,function(a){return ha.call(b,a)>-1!==c&&1===a.nodeType}))}function g(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function h(a){var b={};return pa.each(a.match(Fa)||[],function(a,c){b[c]=!0}),b}function i(a){return a}function j(a){throw a}function k(a,b,c,d){var e;try{a&&pa.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&pa.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}function l(){ca.removeEventListener("DOMContentLoaded",l),a.removeEventListener("load",l),pa.ready()}function m(){this.expando=pa.expando+m.uid++}function n(a){return"true"===a?!0:"false"===a?!1:"null"===a?null:a===+a+""?+a:Ma.test(a)?JSON.parse(a):a}function o(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Na,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=n(c)}catch(e){}La.set(a,b,c)}else c=void 0;return c}function p(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return pa.css(a,b,"")},i=h(),j=c&&c[3]||(pa.cssNumber[b]?"":"px"),k=(pa.cssNumber[b]||"px"!==j&&+i)&&Pa.exec(pa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,pa.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function q(a){var b,c=a.ownerDocument,d=a.nodeName,e=Ta[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=pa.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),Ta[d]=e,e)}function r(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Ka.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Ra(d)&&(e[f]=q(d))):"none"!==c&&(e[f]="none",Ka.set(d,"display",c)));for(f=0;g>f;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function s(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&e(a,b)?pa.merge([a],c):c}function t(a,b){for(var c=0,d=a.length;d>c;c++)Ka.set(a[c],"globalEval",!b||Ka.get(b[c],"globalEval"))}function u(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;o>n;n++)if(f=a[n],f||0===f)if("object"===pa.type(f))pa.merge(m,f.nodeType?[f]:f);else if(Ya.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Va.exec(f)||["",""])[1].toLowerCase(),i=Xa[h]||Xa._default,g.innerHTML=i[1]+pa.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;pa.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",n=0;f=m[n++];)if(d&&pa.inArray(f,d)>-1)e&&e.push(f);else if(j=pa.contains(f.ownerDocument,f),g=s(l.appendChild(f),"script"),j&&t(g),c)for(k=0;f=g[k++];)Wa.test(f.type||"")&&c.push(f);return l}function v(){return!0}function w(){return!1}function x(){try{return ca.activeElement}catch(a){}}function y(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)y(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=w;else if(!e)return a;return 1===f&&(g=e,e=function(a){return pa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=pa.guid++)),a.each(function(){pa.event.add(this,b,e,d,c)})}function z(a,b){return e(a,"table")&&e(11!==b.nodeType?b:b.firstChild,"tr")?pa(">tbody",a)[0]||a:a}function A(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function B(a){var b=eb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function C(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Ka.hasData(a)&&(f=Ka.access(a),g=Ka.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)pa.event.add(b,e,j[e][c])}La.hasData(a)&&(h=La.access(a),i=pa.extend({},h),La.set(b,i))}}function D(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ua.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function E(a,b,d,e){b=fa.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=pa.isFunction(o);if(p||m>1&&"string"==typeof o&&!na.checkClone&&db.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),E(f,b,d,e)});if(m&&(f=u(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=pa.map(s(f,"script"),A),i=h.length;m>l;l++)j=f,l!==n&&(j=pa.clone(j,!0,!0),i&&pa.merge(h,s(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,pa.map(h,B),l=0;i>l;l++)j=h[l],Wa.test(j.type||"")&&!Ka.access(j,"globalEval")&&pa.contains(k,j)&&(j.src?pa._evalUrl&&pa._evalUrl(j.src):c(j.textContent.replace(fb,""),k))}return a}function F(a,b,c){for(var d,e=b?pa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||pa.cleanData(s(d)),d.parentNode&&(c&&pa.contains(d.ownerDocument,d)&&t(s(d,"script")),d.parentNode.removeChild(d));return a}function G(a,b,c){var d,e,f,g,h=a.style;return c=c||ib(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||pa.contains(a.ownerDocument,a)||(g=pa.style(a,b)),!na.pixelMarginRight()&&hb.test(g)&&gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function H(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function I(a){if(a in ob)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=nb.length;c--;)if(a=nb[c]+b,a in ob)return a}function J(a){var b=pa.cssProps[a];return b||(b=pa.cssProps[a]=I(a)||a),b}function K(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function L(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;4>f;f+=2)"margin"===c&&(g+=pa.css(a,c+Qa[f],!0,e)),d?("content"===c&&(g-=pa.css(a,"padding"+Qa[f],!0,e)),"margin"!==c&&(g-=pa.css(a,"border"+Qa[f]+"Width",!0,e))):(g+=pa.css(a,"padding"+Qa[f],!0,e),"padding"!==c&&(g+=pa.css(a,"border"+Qa[f]+"Width",!0,e)));return g}function M(a,b,c){var d,e=ib(a),f=G(a,b,e),g="border-box"===pa.css(a,"boxSizing",!1,e);return hb.test(f)?f:(d=g&&(na.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),f=parseFloat(f)||0,f+L(a,b,c||(g?"border":"content"),d,e)+"px")}function N(a,b,c,d,e){return new N.prototype.init(a,b,c,d,e)}function O(){qb&&(ca.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(O):a.setTimeout(O,pa.fx.interval),pa.fx.tick())}function P(){return a.setTimeout(function(){pb=void 0}),pb=pa.now()}function Q(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=Qa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function R(a,b,c){for(var d,e=(U.tweeners[b]||[]).concat(U.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function S(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&Ra(a),q=Ka.get(a,"fxshow");c.queue||(g=pa._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,pa.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],rb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||pa.style(a,d)}if(i=!pa.isEmptyObject(b),i||!pa.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=Ka.get(a,"display")),k=pa.css(a,"display"),"none"===k&&(j?k=j:(r([a],!0),j=a.style.display||j,k=pa.css(a,"display"),r([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===pa.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=Ka.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&r([a],!0),m.done(function(){p||r([a]),Ka.remove(a,"fxshow");for(d in n)pa.style(a,d,n[d])})),i=R(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function T(a,b){var c,d,e,f,g;for(c in a)if(d=pa.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=pa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function U(a,b,c){var d,e,f=0,g=U.prefilters.length,h=pa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=pb||P(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:pa.extend({},b),opts:pa.extend(!0,{specialEasing:{},easing:pa.easing._default},c),originalProperties:b,originalOptions:c,startTime:pb||P(),duration:c.duration,tweens:[],createTween:function(b,c){var d=pa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(T(k,j.opts.specialEasing);g>f;f++)if(d=U.prefilters[f].call(j,a,k,j.opts))return pa.isFunction(d.stop)&&(pa._queueHooks(j.elem,j.opts.queue).stop=pa.proxy(d.stop,d)),d;return pa.map(k,R,j),pa.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),pa.fx.timer(pa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}function V(a){var b=a.match(Fa)||[];return b.join(" ")}function W(a){return a.getAttribute&&a.getAttribute("class")||""}function X(a,b,c,d){var e;if(Array.isArray(b))pa.each(b,function(b,e){c||Cb.test(a)?d(a,e):X(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==pa.type(b))d(a,b);else for(e in b)X(a+"["+e+"]",b[e],c,d)}function Y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Fa)||[];if(pa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Z(a,b,c,d){function e(h){var i;return f[h]=!0,pa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Ob;return e(b.dataTypes[0])||!f["*"]&&e("*")}function $(a,b){var c,d,e=pa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&pa.extend(!0,a,d),a}function _(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function aa(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}var ba=[],ca=a.document,da=Object.getPrototypeOf,ea=ba.slice,fa=ba.concat,ga=ba.push,ha=ba.indexOf,ia={},ja=ia.toString,ka=ia.hasOwnProperty,la=ka.toString,ma=la.call(Object),na={},oa="3.2.1",pa=function(a,b){return new pa.fn.init(a,b)},qa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ra=/^-ms-/,sa=/-([a-z])/g,ta=function(a,b){return b.toUpperCase()};pa.fn=pa.prototype={jquery:oa,constructor:pa,length:0,toArray:function(){return ea.call(this)},get:function(a){return null==a?ea.call(this):0>a?this[a+this.length]:this[a];
},pushStack:function(a){var b=pa.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return pa.each(this,a)},map:function(a){return this.pushStack(pa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ga,sort:ba.sort,splice:ba.splice},pa.extend=pa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||pa.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(pa.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&pa.isPlainObject(c)?c:{},g[b]=pa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},pa.extend({expando:"jQuery"+(oa+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===pa.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=pa.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return a&&"[object Object]"===ja.call(a)?(b=da(a))?(c=ka.call(b,"constructor")&&b.constructor,"function"==typeof c&&la.call(c)===ma):!0:!1},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[ja.call(a)]||"object":typeof a},globalEval:function(a){c(a)},camelCase:function(a){return a.replace(ra,"ms-").replace(sa,ta)},each:function(a,b){var c,e=0;if(d(a))for(c=a.length;c>e&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(qa,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?pa.merge(c,"string"==typeof a?[a]:a):ga.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:ha.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var e,f,g=0,h=[];if(d(a))for(e=a.length;e>g;g++)f=b(a[g],g,c),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,c),null!=f&&h.push(f);return fa.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),pa.isFunction(a)?(d=ea.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ea.call(arguments)))},e.guid=a.guid=a.guid||pa.guid++,e):void 0},now:Date.now,support:na}),"function"==typeof Symbol&&(pa.fn[Symbol.iterator]=ba[Symbol.iterator]),pa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ia["[object "+b+"]"]=b.toLowerCase()});var ua=function(a){function b(a,b,c,d){var e,f,g,h,i,j,k,m=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:P)!==H&&G(b),b=b||H,J)){if(11!==o&&(i=ra.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(m&&(g=m.getElementById(e))&&N(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&w.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(w.qsa&&!U[a+" "]&&(!K||!K.test(a))){if(1!==o)m=b,k=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(va,wa):b.setAttribute("id",h=O),j=A(a),f=j.length;f--;)j[f]="#"+h+" "+n(j[f]);k=j.join(","),m=sa.test(a)&&l(b.parentNode)||b}if(k)try{return $.apply(c,m.querySelectorAll(k)),c}catch(p){}finally{h===O&&b.removeAttribute("id")}}}return C(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>x.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[O]=!0,a}function e(a){var b=H.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)x.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ya(b)===a:b.disabled===a:"label"in b?b.disabled===a:!1}}function k(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function m(){}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=R++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[Q,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[O]||(b[O]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===Q&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function r(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function s(a,b,c,e,f,g){return e&&!e[O]&&(e=s(e)),f&&!f[O]&&(f=s(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||q(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?p:r(p,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=r(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=r(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function t(a){for(var b,c,d,e=a.length,f=x.relative[a[0].type],g=f||x.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=x.relative[a[h].type])k=[o(p(k),c)];else{if(c=x.filter[a[h].type].apply(null,a[h].matches),c[O]){for(d=++h;e>d&&!x.relative[a[d].type];d++);return s(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,d>h&&t(a.slice(h,d)),e>d&&t(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function u(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],q=[],s=D,t=d||f&&x.find.TAG("*",j),u=Q+=null==s?1:Math.random()||.1,v=t.length;for(j&&(D=g===H||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===H||(G(k),h=!J);m=a[l++];)if(m(k,g||H,h)){i.push(k);break}j&&(Q=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,q,g,h);if(d){if(n>0)for(;o--;)p[o]||q[o]||(q[o]=Y.call(i));q=r(q)}$.apply(i,q),j&&!d&&q.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(Q=u,D=s),p};return e?d(g):g}var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O="sizzle"+1*new Date,P=a.document,Q=0,R=0,S=c(),T=c(),U=c(),V=function(a,b){return a===b&&(F=!0),0},W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),ua=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wa=function(a,b){return b?"\x00"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},xa=function(){G()},ya=o(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{$.apply(X=_.call(P.childNodes),P.childNodes),X[P.childNodes.length].nodeType}catch(za){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}w=b.support={},z=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},G=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:P;return d!==H&&9===d.nodeType&&d.documentElement?(H=d,I=H.documentElement,J=!z(H),P!==H&&(c=H.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),w.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),w.getElementsByTagName=e(function(a){return a.appendChild(H.createComment("")),!a.getElementsByTagName("*").length}),w.getElementsByClassName=qa.test(H.getElementsByClassName),w.getById=e(function(a){return I.appendChild(a).id=O,!H.getElementsByName||!H.getElementsByName(O).length}),w.getById?(x.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return a.getAttribute("id")===b}},x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J){var c=b.getElementById(a);return c?[c]:[]}}):(x.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),x.find.TAG=w.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):w.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},x.find.CLASS=w.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&J?b.getElementsByClassName(a):void 0},L=[],K=[],(w.qsa=qa.test(H.querySelectorAll))&&(e(function(a){I.appendChild(a).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&K.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||K.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+O+"-]").length||K.push("~="),a.querySelectorAll(":checked").length||K.push(":checked"),a.querySelectorAll("a#"+O+"+*").length||K.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=H.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&K.push("name"+ca+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&K.push(":enabled",":disabled"),I.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&K.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),K.push(",.*:")})),(w.matchesSelector=qa.test(M=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&e(function(a){w.disconnectedMatch=M.call(a,"*"),M.call(a,"[s!='']:x"),L.push("!=",fa)}),K=K.length&&new RegExp(K.join("|")),L=L.length&&new RegExp(L.join("|")),b=qa.test(I.compareDocumentPosition),N=b||qa.test(I.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=b?function(a,b){if(a===b)return F=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!w.sortDetached&&b.compareDocumentPosition(a)===c?a===H||a.ownerDocument===P&&N(P,a)?-1:b===H||b.ownerDocument===P&&N(P,b)?1:E?aa(E,a)-aa(E,b):0:4&c?-1:1)}:function(a,b){if(a===b)return F=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===H?-1:b===H?1:e?-1:f?1:E?aa(E,a)-aa(E,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===P?-1:i[d]===P?1:0},H):H},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==H&&G(a),c=c.replace(ka,"='$1']"),w.matchesSelector&&J&&!U[c+" "]&&(!L||!L.test(c))&&(!K||!K.test(c)))try{var d=M.call(a,c);if(d||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,H,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==H&&G(a),N(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==H&&G(a);var c=x.attrHandle[b.toLowerCase()],d=c&&W.call(x.attrHandle,b.toLowerCase())?c(a,b,!J):void 0;return void 0!==d?d:w.attributes||!J?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(va,wa)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(F=!w.detectDuplicates,E=!w.sortStable&&a.slice(0),a.sort(V),F){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return E=null,a},y=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=y(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=y(b);return c},x=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ta,ua),a[3]=(a[3]||a[4]||a[5]||"").replace(ta,ua),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ta,ua).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=S[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&S(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[Q,n,t];break}}else if(s&&(m=b,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[Q,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=x.pseudos[a]||x.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[O]?f(c):f.length>1?(e=[a,a,"",c],x.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ha,"$1"));return e[O]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ta,ua),function(b){return(b.textContent||b.innerText||y(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ta,ua).toLowerCase(),function(b){var c;do if(c=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===I},focus:function(a){return a===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:j(!1),disabled:j(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=h(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=i(v);return m.prototype=x.filters=x.pseudos,x.setFilters=new m,A=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=T[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=x.preFilter;h;){(!d||(e=ia.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in x.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):T(a,i).slice(0)},B=b.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=A(a)),c=b.length;c--;)f=t(b[c]),f[O]?d.push(f):e.push(f);f=U(a,u(e,d)),f.selector=a}return f},C=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,k=!d&&A(a=j.selector||a);if(c=c||[],1===k.length){if(f=k[0]=k[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&J&&x.relative[f[1].type]){if(b=(x.find.ID(g.matches[0].replace(ta,ua),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!x.relative[h=g.type]);)if((i=x.find[h])&&(d=i(g.matches[0].replace(ta,ua),sa.test(f[0].type)&&l(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return $.apply(c,d),c;break}}return(j||B(a,k))(d,b,!J,c,!b||sa.test(a)&&l(b.parentNode)||b),c},w.sortStable=O.split("").sort(V).join("")===O,w.detectDuplicates=!!F,G(),w.sortDetached=e(function(a){return 1&a.compareDocumentPosition(H.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),w.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);pa.find=ua,pa.expr=ua.selectors,pa.expr[":"]=pa.expr.pseudos,pa.uniqueSort=pa.unique=ua.uniqueSort,pa.text=ua.getText,pa.isXMLDoc=ua.isXML,pa.contains=ua.contains,pa.escapeSelector=ua.escape;var va=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&pa(a).is(c))break;d.push(a)}return d},wa=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},xa=pa.expr.match.needsContext,ya=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,za=/^.[^:#\[\.,]*$/;pa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?pa.find.matchesSelector(d,a)?[d]:[]:pa.find.matches(a,pa.grep(b,function(a){return 1===a.nodeType}))},pa.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(pa(a).filter(function(){for(b=0;d>b;b++)if(pa.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;d>b;b++)pa.find(a,e[b],c);return d>1?pa.uniqueSort(c):c},filter:function(a){return this.pushStack(f(this,a||[],!1))},not:function(a){return this.pushStack(f(this,a||[],!0))},is:function(a){return!!f(this,"string"==typeof a&&xa.test(a)?pa(a):a||[],!1).length}});var Aa,Ba=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ca=pa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||Aa,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:Ba.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof pa?b[0]:b,pa.merge(this,pa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ca,!0)),ya.test(d[1])&&pa.isPlainObject(b))for(d in b)pa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=ca.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):pa.isFunction(a)?void 0!==c.ready?c.ready(a):a(pa):pa.makeArray(a,this)};Ca.prototype=pa.fn,Aa=pa(ca);var Da=/^(?:parents|prev(?:Until|All))/,Ea={children:!0,contents:!0,next:!0,prev:!0};pa.fn.extend({has:function(a){var b=pa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(pa.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&pa(a);if(!xa.test(a))for(;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&pa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?pa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?ha.call(pa(a),this[0]):ha.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(pa.uniqueSort(pa.merge(this.get(),pa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),pa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return va(a,"parentNode")},parentsUntil:function(a,b,c){return va(a,"parentNode",c)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},nextAll:function(a){return va(a,"nextSibling")},prevAll:function(a){return va(a,"previousSibling")},nextUntil:function(a,b,c){return va(a,"nextSibling",c)},prevUntil:function(a,b,c){return va(a,"previousSibling",c)},siblings:function(a){return wa((a.parentNode||{}).firstChild,a)},children:function(a){return wa(a.firstChild)},contents:function(a){return e(a,"iframe")?a.contentDocument:(e(a,"template")&&(a=a.content||a),pa.merge([],a.childNodes))}},function(a,b){pa.fn[a]=function(c,d){var e=pa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=pa.filter(d,e)),this.length>1&&(Ea[a]||pa.uniqueSort(e),Da.test(a)&&e.reverse()),this.pushStack(e)}});var Fa=/[^\x20\t\r\n\f]+/g;pa.Callbacks=function(a){a="string"==typeof a?h(a):pa.extend({},a);var b,c,d,e,f=[],g=[],i=-1,j=function(){for(e=e||a.once,d=b=!0;g.length;i=-1)for(c=g.shift();++i<f.length;)f[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},k={add:function(){return f&&(c&&!b&&(i=f.length-1,g.push(c)),function d(b){pa.each(b,function(b,c){pa.isFunction(c)?a.unique&&k.has(c)||f.push(c):c&&c.length&&"string"!==pa.type(c)&&d(c)})}(arguments),c&&!b&&j()),this},remove:function(){return pa.each(arguments,function(a,b){for(var c;(c=pa.inArray(b,f,c))>-1;)f.splice(c,1),i>=c&&i--}),this},has:function(a){return a?pa.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},pa.extend({Deferred:function(b){var c=[["notify","progress",pa.Callbacks("memory"),pa.Callbacks("memory"),2],["resolve","done",pa.Callbacks("once memory"),pa.Callbacks("once memory"),0,"resolved"],["reject","fail",pa.Callbacks("once memory"),pa.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return pa.Deferred(function(b){pa.each(c,function(c,d){var e=pa.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&pa.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var h=this,k=arguments,l=function(){var a,l;if(!(g>b)){if(a=d.apply(h,k),a===c.promise())throw new TypeError("Thenable self-resolution");l=a&&("object"==typeof a||"function"==typeof a)&&a.then,pa.isFunction(l)?e?l.call(a,f(g,c,i,e),f(g,c,j,e)):(g++,l.call(a,f(g,c,i,e),f(g,c,j,e),f(g,c,i,c.notifyWith))):(d!==i&&(h=void 0,k=[a]),(e||c.resolveWith)(h,k))}},m=e?l:function(){try{l()}catch(a){pa.Deferred.exceptionHook&&pa.Deferred.exceptionHook(a,m.stackTrace),b+1>=g&&(d!==j&&(h=void 0,k=[a]),c.rejectWith(h,k))}};b?m():(pa.Deferred.getStackHook&&(m.stackTrace=pa.Deferred.getStackHook()),a.setTimeout(m))}}var g=0;return pa.Deferred(function(a){c[0][3].add(f(0,a,pa.isFunction(e)?e:i,a.notifyWith)),c[1][3].add(f(0,a,pa.isFunction(b)?b:i)),c[2][3].add(f(0,a,pa.isFunction(d)?d:j))}).promise()},promise:function(a){return null!=a?pa.extend(a,e):e}},f={};return pa.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ea.call(arguments),f=pa.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ea.call(arguments):c,--b||f.resolveWith(d,e)}};if(1>=b&&(k(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||pa.isFunction(e[c]&&e[c].then)))return f.then();for(;c--;)k(e[c],g(c),f.reject);return f.promise()}});var Ga=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pa.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Ga.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},pa.readyException=function(b){a.setTimeout(function(){throw b})};var Ha=pa.Deferred();pa.fn.ready=function(a){return Ha.then(a)["catch"](function(a){pa.readyException(a)}),this},pa.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--pa.readyWait:pa.isReady)||(pa.isReady=!0,a!==!0&&--pa.readyWait>0||Ha.resolveWith(ca,[pa]))}}),pa.ready.then=Ha.then,"complete"===ca.readyState||"loading"!==ca.readyState&&!ca.documentElement.doScroll?a.setTimeout(pa.ready):(ca.addEventListener("DOMContentLoaded",l),a.addEventListener("load",l));var Ia=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===pa.type(c)){e=!0;for(h in c)Ia(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,pa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(pa(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ja=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};m.uid=1,m.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Ja(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[pa.camelCase(b)]=c;else for(d in b)e[pa.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][pa.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(pa.camelCase):(b=pa.camelCase(b),b=b in d?[b]:b.match(Fa)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||pa.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!pa.isEmptyObject(b)}};var Ka=new m,La=new m,Ma=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Na=/[A-Z]/g;pa.extend({hasData:function(a){return La.hasData(a)||Ka.hasData(a)},data:function(a,b,c){return La.access(a,b,c);
},removeData:function(a,b){La.remove(a,b)},_data:function(a,b,c){return Ka.access(a,b,c)},_removeData:function(a,b){Ka.remove(a,b)}}),pa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=La.get(f),1===f.nodeType&&!Ka.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=pa.camelCase(d.slice(5)),o(f,d,e[d])));Ka.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){La.set(this,a)}):Ia(this,function(b){var c;if(f&&void 0===b){if(c=La.get(f,a),void 0!==c)return c;if(c=o(f,a),void 0!==c)return c}else this.each(function(){La.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){La.remove(this,a)})}}),pa.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=Ka.get(a,b),c&&(!d||Array.isArray(c)?d=Ka.access(a,b,pa.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=pa.queue(a,b),d=c.length,e=c.shift(),f=pa._queueHooks(a,b),g=function(){pa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Ka.get(a,c)||Ka.access(a,c,{empty:pa.Callbacks("once memory").add(function(){Ka.remove(a,[b+"queue",c])})})}}),pa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?pa.queue(this[0],a):void 0===b?this:this.each(function(){var c=pa.queue(this,a,b);pa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&pa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){pa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=pa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=Ka.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Oa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pa=new RegExp("^(?:([+-])=|)("+Oa+")([a-z%]*)$","i"),Qa=["Top","Right","Bottom","Left"],Ra=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&pa.contains(a.ownerDocument,a)&&"none"===pa.css(a,"display")},Sa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ta={};pa.fn.extend({show:function(){return r(this,!0)},hide:function(){return r(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ra(this)?pa(this).show():pa(this).hide()})}});var Ua=/^(?:checkbox|radio)$/i,Va=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Wa=/^$|\/(?:java|ecma)script/i,Xa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xa.optgroup=Xa.option,Xa.tbody=Xa.tfoot=Xa.colgroup=Xa.caption=Xa.thead,Xa.th=Xa.td;var Ya=/<|&#?\w+;/;!function(){var a=ca.createDocumentFragment(),b=a.appendChild(ca.createElement("div")),c=ca.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),na.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",na.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Za=ca.documentElement,$a=/^key/,_a=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ab=/^([^.]*)(?:\.(.+)|)/;pa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ka.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&pa.find.matchesSelector(Za,e),c.guid||(c.guid=pa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof pa&&pa.event.triggered!==b.type?pa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Fa)||[""],j=b.length;j--;)h=ab.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=pa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=pa.event.special[n]||{},k=pa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&pa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),pa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ka.hasData(a)&&Ka.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Fa)||[""],j=b.length;j--;)if(h=ab.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=pa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||pa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)pa.event.remove(a,n+b[j],c,d,!0);pa.isEmptyObject(i)&&Ka.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=pa.event.fix(a),i=new Array(arguments.length),j=(Ka.get(this,"events")||{})[h.type]||[],k=pa.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,h)!==!1){for(g=pa.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)(!h.rnamespace||h.rnamespace.test(f.namespace))&&(h.handleObj=f,h.data=f.data,d=((pa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i),void 0!==d&&(h.result=d)===!1&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;i>c;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?pa(e,this).index(j)>-1:pa.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(pa.Event.prototype,a,{enumerable:!0,configurable:!0,get:pa.isFunction(b)?function(){return this.originalEvent?b(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[a]:void 0},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[pa.expando]?a:new pa.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==x()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===x()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&e(this,"input")?(this.click(),!1):void 0},_default:function(a){return e(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},pa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},pa.Event=function(a,b){return this instanceof pa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?v:w,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&pa.extend(this,b),this.timeStamp=a&&a.timeStamp||pa.now(),void(this[pa.expando]=!0)):new pa.Event(a,b)},pa.Event.prototype={constructor:pa.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=v,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=v,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=v,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},pa.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&$a.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&_a.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},pa.event.addProp),pa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){pa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!pa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),pa.fn.extend({on:function(a,b,c,d){return y(this,a,b,c,d)},one:function(a,b,c,d){return y(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,pa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=w),this.each(function(){pa.event.remove(this,a,c,b)})}});var bb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,cb=/<script|<style|<link/i,db=/checked\s*(?:[^=]|=\s*.checked.)/i,eb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pa.extend({htmlPrefilter:function(a){return a.replace(bb,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=pa.contains(a.ownerDocument,a);if(!(na.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||pa.isXMLDoc(a)))for(g=s(h),f=s(a),d=0,e=f.length;e>d;d++)D(f[d],g[d]);if(b)if(c)for(f=f||s(a),g=g||s(h),d=0,e=f.length;e>d;d++)C(f[d],g[d]);else C(a,h);return g=s(h,"script"),g.length>0&&t(g,!i&&s(a,"script")),h},cleanData:function(a){for(var b,c,d,e=pa.event.special,f=0;void 0!==(c=a[f]);f++)if(Ja(c)){if(b=c[Ka.expando]){if(b.events)for(d in b.events)e[d]?pa.event.remove(c,d):pa.removeEvent(c,d,b.handle);c[Ka.expando]=void 0}c[La.expando]&&(c[La.expando]=void 0)}}}),pa.fn.extend({detach:function(a){return F(this,a,!0)},remove:function(a){return F(this,a)},text:function(a){return Ia(this,function(a){return void 0===a?pa.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return E(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=z(this,a);b.appendChild(a)}})},prepend:function(){return E(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return E(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return E(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(pa.cleanData(s(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return pa.clone(this,a,b)})},html:function(a){return Ia(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!cb.test(a)&&!Xa[(Va.exec(a)||["",""])[1].toLowerCase()]){a=pa.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(pa.cleanData(s(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return E(this,arguments,function(b){var c=this.parentNode;pa.inArray(this,a)<0&&(pa.cleanData(s(this)),c&&c.replaceChild(b,this))},a)}}),pa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){pa.fn[a]=function(a){for(var c,d=[],e=pa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),pa(e[g])[b](c),ga.apply(d,c.get());return this.pushStack(d)}});var gb=/^margin/,hb=new RegExp("^("+Oa+")(?!px)[a-z%]+$","i"),ib=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(h){h.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Za.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,Za.removeChild(g),h=null}}var c,d,e,f,g=ca.createElement("div"),h=ca.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",na.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),pa.extend(na,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),e},reliableMarginLeft:function(){return b(),f}}))}();var jb=/^(none|table(?!-c[ea]).+)/,kb=/^--/,lb={position:"absolute",visibility:"hidden",display:"block"},mb={letterSpacing:"0",fontWeight:"400"},nb=["Webkit","Moz","ms"],ob=ca.createElement("div").style;pa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=G(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=pa.camelCase(b),i=kb.test(b),j=a.style;return i||(b=J(h)),g=pa.cssHooks[b]||pa.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b]:(f=typeof c,"string"===f&&(e=Pa.exec(c))&&e[1]&&(c=p(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(pa.cssNumber[h]?"":"px")),na.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=pa.camelCase(b),i=kb.test(b);return i||(b=J(h)),g=pa.cssHooks[b]||pa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=G(a,b,d)),"normal"===e&&b in mb&&(e=mb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),pa.each(["height","width"],function(a,b){pa.cssHooks[b]={get:function(a,c,d){return c?!jb.test(pa.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?M(a,b,d):Sa(a,lb,function(){return M(a,b,d)}):void 0},set:function(a,c,d){var e,f=d&&ib(a),g=d&&L(a,b,d,"border-box"===pa.css(a,"boxSizing",!1,f),f);return g&&(e=Pa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=pa.css(a,b)),K(a,c,g)}}}),pa.cssHooks.marginLeft=H(na.reliableMarginLeft,function(a,b){return b?(parseFloat(G(a,"marginLeft"))||a.getBoundingClientRect().left-Sa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),pa.each({margin:"",padding:"",border:"Width"},function(a,b){pa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Qa[d]+b]=f[d]||f[d-2]||f[0];return e}},gb.test(a)||(pa.cssHooks[a+b].set=K)}),pa.fn.extend({css:function(a,b){return Ia(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=ib(a),e=b.length;e>g;g++)f[b[g]]=pa.css(a,b[g],!1,d);return f}return void 0!==c?pa.style(a,b,c):pa.css(a,b)},a,b,arguments.length>1)}}),pa.Tween=N,N.prototype={constructor:N,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||pa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(pa.cssNumber[c]?"":"px")},cur:function(){var a=N.propHooks[this.prop];return a&&a.get?a.get(this):N.propHooks._default.get(this)},run:function(a){var b,c=N.propHooks[this.prop];return this.options.duration?this.pos=b=pa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=pa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){pa.fx.step[a.prop]?pa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[pa.cssProps[a.prop]]&&!pa.cssHooks[a.prop]?a.elem[a.prop]=a.now:pa.style(a.elem,a.prop,a.now+a.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},pa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},pa.fx=N.prototype.init,pa.fx.step={};var pb,qb,rb=/^(?:toggle|show|hide)$/,sb=/queueHooks$/;pa.Animation=pa.extend(U,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return p(c.elem,a,Pa.exec(b),c),c}]},tweener:function(a,b){pa.isFunction(a)?(b=a,a=["*"]):a=a.match(Fa);for(var c,d=0,e=a.length;e>d;d++)c=a[d],U.tweeners[c]=U.tweeners[c]||[],U.tweeners[c].unshift(b)},prefilters:[S],prefilter:function(a,b){b?U.prefilters.unshift(a):U.prefilters.push(a)}}),pa.speed=function(a,b,c){var d=a&&"object"==typeof a?pa.extend({},a):{complete:c||!c&&b||pa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!pa.isFunction(b)&&b};return pa.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in pa.fx.speeds?d.duration=pa.fx.speeds[d.duration]:d.duration=pa.fx.speeds._default),(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){pa.isFunction(d.old)&&d.old.call(this),d.queue&&pa.dequeue(this,d.queue)},d},pa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ra).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=pa.isEmptyObject(a),f=pa.speed(b,c,d),g=function(){var b=U(this,pa.extend({},a),f);(e||Ka.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=pa.timers,g=Ka.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&sb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&pa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=Ka.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=pa.timers,g=d?d.length:0;for(c.finish=!0,pa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),pa.each(["toggle","show","hide"],function(a,b){var c=pa.fn[b];pa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Q(b,!0),a,d,e)}}),pa.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){pa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),pa.timers=[],pa.fx.tick=function(){var a,b=0,c=pa.timers;for(pb=pa.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||pa.fx.stop(),pb=void 0},pa.fx.timer=function(a){pa.timers.push(a),pa.fx.start()},pa.fx.interval=13,pa.fx.start=function(){qb||(qb=!0,O())},pa.fx.stop=function(){qb=null},pa.fx.speeds={slow:600,fast:200,_default:400},pa.fn.delay=function(b,c){return b=pa.fx?pa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=ca.createElement("input"),b=ca.createElement("select"),c=b.appendChild(ca.createElement("option"));a.type="checkbox",na.checkOn=""!==a.value,na.optSelected=c.selected,a=ca.createElement("input"),a.value="t",a.type="radio",na.radioValue="t"===a.value}();var tb,ub=pa.expr.attrHandle;pa.fn.extend({attr:function(a,b){return Ia(this,pa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){pa.removeAttr(this,a)})}}),pa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?pa.prop(a,b,c):(1===f&&pa.isXMLDoc(a)||(e=pa.attrHooks[b.toLowerCase()]||(pa.expr.match.bool.test(b)?tb:void 0)),void 0!==c?null===c?void pa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=pa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!na.radioValue&&"radio"===b&&e(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Fa);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),tb={set:function(a,b,c){return b===!1?pa.removeAttr(a,c):a.setAttribute(c,c),c}},pa.each(pa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ub[b]||pa.find.attr;ub[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=ub[g],ub[g]=e,e=null!=c(a,b,d)?g:null,ub[g]=f),e}});var vb=/^(?:input|select|textarea|button)$/i,wb=/^(?:a|area)$/i;pa.fn.extend({prop:function(a,b){return Ia(this,pa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[pa.propFix[a]||a]})}}),pa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&pa.isXMLDoc(a)||(b=pa.propFix[b]||b,e=pa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=pa.find.attr(a,"tabindex");return b?parseInt(b,10):vb.test(a.nodeName)||wb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),na.optSelected||(pa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),pa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pa.propFix[this.toLowerCase()]=this}),pa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(pa.isFunction(a))return this.each(function(b){pa(this).addClass(a.call(this,b,W(this)))});if("string"==typeof a&&a)for(b=a.match(Fa)||[];c=this[i++];)if(e=W(c),d=1===c.nodeType&&" "+V(e)+" "){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=V(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(pa.isFunction(a))return this.each(function(b){pa(this).removeClass(a.call(this,b,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Fa)||[];c=this[i++];)if(e=W(c),d=1===c.nodeType&&" "+V(e)+" "){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=V(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):pa.isFunction(a)?this.each(function(c){pa(this).toggleClass(a.call(this,c,W(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=pa(this),f=a.match(Fa)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(void 0===a||"boolean"===c)&&(b=W(this),b&&Ka.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":Ka.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+V(W(c))+" ").indexOf(b)>-1)return!0;return!1}});var xb=/\r/g;pa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=pa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,pa(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=pa.map(e,function(a){return null==a?"":a+""})),b=pa.valHooks[this.type]||pa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=pa.valHooks[e.type]||pa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(xb,""):null==c?"":c)}}}),pa.extend({valHooks:{option:{get:function(a){var b=pa.find.attr(a,"value");return null!=b?b:V(pa.text(a))}},select:{get:function(a){var b,c,d,f=a.options,g=a.selectedIndex,h="select-one"===a.type,i=h?null:[],j=h?g+1:f.length;for(d=0>g?j:h?g:0;j>d;d++)if(c=f[d],(c.selected||d===g)&&!c.disabled&&(!c.parentNode.disabled||!e(c.parentNode,"optgroup"))){if(b=pa(c).val(),h)return b;i.push(b)}return i},set:function(a,b){for(var c,d,e=a.options,f=pa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=pa.inArray(pa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),pa.each(["radio","checkbox"],function(){pa.valHooks[this]={set:function(a,b){return Array.isArray(b)?a.checked=pa.inArray(pa(a).val(),b)>-1:void 0}},na.checkOn||(pa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var yb=/^(?:focusinfocus|focusoutblur)$/;pa.extend(pa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||ca],n=ka.call(b,"type")?b.type:b,o=ka.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||ca,3!==d.nodeType&&8!==d.nodeType&&!yb.test(n+pa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[pa.expando]?b:new pa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:pa.makeArray(c,[b]),l=pa.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!pa.isWindow(d)){for(i=l.delegateType||n,yb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||ca)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(Ka.get(g,"events")||{})[b.type]&&Ka.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&Ja(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!Ja(d)||j&&pa.isFunction(d[n])&&!pa.isWindow(d)&&(h=d[j],h&&(d[j]=null),pa.event.triggered=n,d[n](),pa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=pa.extend(new pa.Event,c,{type:a,isSimulated:!0});pa.event.trigger(d,null,b)}}),pa.fn.extend({trigger:function(a,b){return this.each(function(){pa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?pa.event.trigger(a,b,c,!0):void 0}}),pa.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){pa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),pa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),na.focusin="onfocusin"in a,na.focusin||pa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){pa.event.simulate(b,a.target,pa.event.fix(a))};pa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Ka.access(d,b);e||d.addEventListener(a,c,!0),Ka.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Ka.access(d,b)-1;e?Ka.access(d,b,e):(d.removeEventListener(a,c,!0),Ka.remove(d,b))}}});var zb=a.location,Ab=pa.now(),Bb=/\?/;pa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&pa.error("Invalid XML: "+b),c};var Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;pa.param=function(a,b){var c,d=[],e=function(a,b){var c=pa.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!pa.isPlainObject(a))pa.each(a,function(){e(this.name,this.value)});else for(c in a)X(c,a[c],b,e);return d.join("&")},pa.fn.extend({serialize:function(){return pa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=pa.prop(this,"elements");return a?pa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!pa(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!Ua.test(a))}).map(function(a,b){var c=pa(this).val();return null==c?null:Array.isArray(c)?pa.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}});var Gb=/%20/g,Hb=/#.*$/,Ib=/([?&])_=[^&]*/,Jb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\/\//,Nb={},Ob={},Pb="*/".concat("*"),Qb=ca.createElement("a");Qb.href=zb.href,pa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb.href,type:"GET",isLocal:Kb.test(zb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?$($(a,pa.ajaxSettings),b):$(pa.ajaxSettings,a)},ajaxPrefilter:Y(Nb),ajaxTransport:Y(Ob),ajax:function(b,c){function d(b,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=_(o,x,d)),u=aa(o,u,x,j),j?(o.ifModified&&(v=x.getResponseHeader("Last-Modified"),v&&(pa.lastModified[f]=v),v=x.getResponseHeader("etag"),v&&(pa.etag[f]=v)),204===b||"HEAD"===o.type?w="nocontent":304===b?w="notmodified":(w=u.state,m=u.data,n=u.error,j=!n)):(n=w,(b||!w)&&(w="error",0>b&&(b=0))),x.status=b,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--pa.active||pa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=pa.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?pa(p):pa.event,r=pa.Deferred(),s=pa.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Jb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];
return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((b||o.url||zb.href)+"").replace(Mb,zb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Fa)||[""],null==o.crossDomain){j=ca.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Qb.protocol+"//"+Qb.host!=j.protocol+"//"+j.host}catch(y){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=pa.param(o.data,o.traditional)),Z(Nb,o,c,x),k)return x;l=pa.event&&o.global,l&&0===pa.active++&&pa.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Lb.test(o.type),f=o.url.replace(Hb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Gb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(Bb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Ib,"$1"),n=(Bb.test(f)?"&":"?")+"_="+Ab++ +n),o.url=f+n),o.ifModified&&(pa.lastModified[f]&&x.setRequestHeader("If-Modified-Since",pa.lastModified[f]),pa.etag[f]&&x.setRequestHeader("If-None-Match",pa.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Pb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,x,o)===!1||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=Z(Ob,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&o.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(y){if(k)throw y;d(-1,y)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return pa.get(a,b,c,"json")},getScript:function(a,b){return pa.get(a,void 0,b,"script")}}),pa.each(["get","post"],function(a,b){pa[b]=function(a,c,d,e){return pa.isFunction(c)&&(e=e||d,d=c,c=void 0),pa.ajax(pa.extend({url:a,type:b,dataType:e,data:c,success:d},pa.isPlainObject(a)&&a))}}),pa._evalUrl=function(a){return pa.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pa.fn.extend({wrapAll:function(a){var b;return this[0]&&(pa.isFunction(a)&&(a=a.call(this[0])),b=pa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return pa.isFunction(a)?this.each(function(b){pa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=pa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=pa.isFunction(a);return this.each(function(c){pa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){pa(this).replaceWith(this.childNodes)}),this}}),pa.expr.pseudos.hidden=function(a){return!pa.expr.pseudos.visible(a)},pa.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},pa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Rb={0:200,1223:204},Sb=pa.ajaxSettings.xhr();na.cors=!!Sb&&"withCredentials"in Sb,na.ajax=Sb=!!Sb,pa.ajaxTransport(function(b){var c,d;return na.cors||Sb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Rb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),pa.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),pa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return pa.globalEval(a),a}}}),pa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),pa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=pa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),ca.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;pa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||pa.expando+"_"+Ab++;return this[a]=!0,a}}),pa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ub.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=pa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ub,"$1"+e):b.jsonp!==!1&&(b.url+=(Bb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||pa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?pa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Tb.push(e)),g&&pa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),na.createHTMLDocument=function(){var a=ca.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),pa.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(na.createHTMLDocument?(b=ca.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=ca.location.href,b.head.appendChild(d)):b=ca),e=ya.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=u([a],b,f),f&&f.length&&pa(f).remove(),pa.merge([],e.childNodes))},pa.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=V(a.slice(h)),a=a.slice(0,h)),pa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&pa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?pa("<div>").append(pa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},pa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){pa.fn[b]=function(a){return this.on(b,a)}}),pa.expr.pseudos.animated=function(a){return pa.grep(pa.timers,function(b){return a===b.elem}).length},pa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=pa.css(a,"position"),l=pa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=pa.css(a,"top"),i=pa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),pa.isFunction(b)&&(b=b.call(a,c,pa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},pa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){pa.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===pa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),e(a[0],"html")||(d=a.offset()),d={top:d.top+pa.css(a[0],"borderTopWidth",!0),left:d.left+pa.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-pa.css(c,"marginTop",!0),left:b.left-d.left-pa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===pa.css(a,"position");)a=a.offsetParent;return a||Za})}}),pa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;pa.fn[a]=function(d){return Ia(this,function(a,d,e){var f;return pa.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),pa.each(["top","left"],function(a,b){pa.cssHooks[b]=H(na.pixelPosition,function(a,c){return c?(c=G(a,b),hb.test(c)?pa(a).position()[b]+"px":c):void 0})}),pa.each({Height:"height",Width:"width"},function(a,b){pa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){pa.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return Ia(this,function(b,c,e){var f;return pa.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?pa.css(b,c,h):pa.style(b,c,e,h)},b,g?e:void 0,g)}})}),pa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),pa.holdReady=function(a){a?pa.readyWait++:pa.ready(!0)},pa.isArray=Array.isArray,pa.parseJSON=JSON.parse,pa.nodeName=e,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pa});var Vb=a.jQuery,Wb=a.$;return pa.noConflict=function(b){return a.$===pa&&(a.$=Wb),b&&a.jQuery===pa&&(a.jQuery=Vb),pa},b||(a.jQuery=a.$=pa),pa}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();
return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(a,b,c){"use strict";function d(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?ta(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.4.14/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(ta(f[d]));return new b(h)}}function e(a){if(null==a||C(a))return!1;if(Rd(a)||x(a)||Fd&&a instanceof Fd)return!0;var b="length"in Object(a)&&a.length;return y(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function f(a,b,c){var d,g;if(a)if(A(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(Rd(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else if(w(a))for(d in a)b.call(c,a[d],d,a);else if("function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)Ad.call(a,d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++Pd}function j(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function k(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(v(g)||A(g))for(var h=Object.keys(g),i=0,l=h.length;l>i;i++){var m=h[i],n=g[m];c&&v(n)?z(n)?a[m]=new Date(n.valueOf()):B(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):K(n)?a[m]=n.clone():(v(a[m])||(a[m]=Rd(n)?[]:{}),k(a[m],[n],!0)):a[m]=n}}return j(a,d),a}function l(a){return k(a,Id.call(arguments,1),!1)}function m(a){return k(a,Id.call(arguments,1),!0)}function n(a){return parseInt(a,10)}function o(a,b){return l(Object.create(a),b)}function p(){}function q(a){return a}function r(a){return function(){return a}}function s(a){return A(a.toString)&&a.toString!==Ld}function t(a){return"undefined"==typeof a}function u(a){return"undefined"!=typeof a}function v(a){return null!==a&&"object"==typeof a}function w(a){return null!==a&&"object"==typeof a&&!Md(a)}function x(a){return"string"==typeof a}function y(a){return"number"==typeof a}function z(a){return"[object Date]"===Ld.call(a)}function A(a){return"function"==typeof a}function B(a){return"[object RegExp]"===Ld.call(a)}function C(a){return a&&a.window===a}function D(a){return a&&a.$evalAsync&&a.$watch}function E(a){return"[object File]"===Ld.call(a)}function F(a){return"[object FormData]"===Ld.call(a)}function G(a){return"[object Blob]"===Ld.call(a)}function H(a){return"boolean"==typeof a}function I(a){return a&&A(a.then)}function J(a){return a&&y(a.length)&&Sd.test(Ld.call(a))}function K(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function L(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function M(a){return zd(a.nodeName||a[0]&&a[0].nodeName)}function N(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function O(a,b){function c(a,b){var c,e=b.$$hashKey;if(Rd(a))for(var f=0,g=a.length;g>f;f++)b.push(d(a[f]));else if(w(a))for(c in a)b[c]=d(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=d(a[c]));else for(c in a)Ad.call(a,c)&&(b[c]=d(a[c]));return j(b,e),b}function d(a){if(!v(a))return a;var b=e.indexOf(a);if(-1!==b)return g[b];if(C(a)||D(a))throw Nd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var d,f=!1;return Rd(a)?(d=[],f=!0):J(a)?d=new a.constructor(a):z(a)?d=new Date(a.getTime()):B(a)?(d=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),d.lastIndex=a.lastIndex):G(a)?d=new a.constructor([a],{type:a.type}):A(a.cloneNode)?d=a.cloneNode(!0):(d=Object.create(Md(a)),f=!0),e.push(a),g.push(d),f?c(a,d):d}var e=[],g=[];if(b){if(J(b))throw Nd("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw Nd("cpi","Can't copy! Source and destination are identical.");return Rd(b)?b.length=0:f(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),e.push(a),g.push(b),c(a,b)}return d(a)}function P(a,b){if(Rd(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(v(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function Q(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f==g&&"object"==f){if(!Rd(a)){if(z(a))return z(b)?Q(a.getTime(),b.getTime()):!1;if(B(a))return B(b)?a.toString()==b.toString():!1;if(D(a)||D(b)||C(a)||C(b)||Rd(b)||z(b)||B(b))return!1;e=qa();for(d in a)if("$"!==d.charAt(0)&&!A(a[d])){if(!Q(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&u(b[d])&&!A(b[d]))return!1;return!0}if(!Rd(b))return!1;if((c=a.length)==b.length){for(d=0;c>d;d++)if(!Q(a[d],b[d]))return!1;return!0}}return!1}function R(a,b,c){return a.concat(Id.call(b,c))}function S(a,b){return Id.call(a,b||0)}function T(a,b){var c=arguments.length>2?S(arguments,2):[];return!A(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,R(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function U(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:C(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":D(d)&&(e="$SCOPE"),e}function V(a,b){return t(a)?c:(y(b)||(b=b?2:null),JSON.stringify(a,U,b))}function W(a){return x(a)?JSON.parse(a):a}function X(a,b){a=a.replace(Xd,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function Y(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function Z(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=X(b,d);return Y(a,c*(e-d))}function $(a){a=Fd(a).clone();try{a.empty()}catch(b){}var c=Fd("<div>").append(a).html();try{return a[0].nodeType===be?zd(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+zd(b)})}catch(b){return zd(c)}}function _(a){try{return decodeURIComponent(a)}catch(b){}}function aa(a){var b={};return f((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=_(d),u(d)&&(e=u(e)?_(e):!0,Ad.call(b,d)?Rd(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function ba(a){var b=[];return f(a,function(a,c){Rd(a)?f(a,function(a){b.push(da(c,!0)+(a===!0?"":"="+da(a,!0)))}):b.push(da(c,!0)+(a===!0?"":"="+da(a,!0)))}),b.length?b.join("&"):""}function ca(a){return da(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function da(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ea(a,b){var c,d,e=Yd.length;for(d=0;e>d;++d)if(c=Yd[d]+b,x(c=a.getAttribute(c)))return c;return null}function fa(a,b){var c,d,e={};f(Yd,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),f(Yd,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==ea(c,"strict-di"),b(c,d?[d]:[],e))}function ga(c,d,e){v(e)||(e={});var g={strictDi:!1};e=l(g,e);var h=function(){if(c=Fd(c),c.injector()){var a=c[0]===b?"document":$(c);throw Nd("btstrpd","App already bootstrapped with this element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=bb(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},i=/^NG_ENABLE_DEBUG_INFO!/,j=/^NG_DEFER_BOOTSTRAP!/;return a&&i.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(i,"")),a&&!j.test(a.name)?h():(a.name=a.name.replace(j,""),Od.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),h()},void(A(Od.resumeDeferredBootstrap)&&Od.resumeDeferredBootstrap()))}function ha(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ia(a){var b=Od.element(a).injector();if(!b)throw Nd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ja(a,b){return b=b||"_",a.replace(Zd,function(a,c){return(c?b:"")+a.toLowerCase()})}function ka(){var b;if(!$d){var d=Wd();Gd=t(d)?a.jQuery:d?a[d]:c,Gd&&Gd.fn.on?(Fd=Gd,l(Gd.fn,{scope:ue.scope,isolateScope:ue.isolateScope,controller:ue.controller,injector:ue.injector,inheritedData:ue.inheritedData}),b=Gd.cleanData,Gd.cleanData=function(a){var c;if(Qd)Qd=!1;else for(var d,e=0;null!=(d=a[e]);e++)c=Gd._data(d,"events"),c&&c.$destroy&&Gd(d).triggerHandler("$destroy");b(a)}):Fd=Da,Od.element=Fd,$d=!0}}function la(a,b,c){if(!a)throw Nd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function ma(a,b,c){return c&&Rd(a)&&(a=a[a.length-1]),la(A(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function na(a,b){if("hasOwnProperty"===a)throw Nd("badname","hasOwnProperty is not a valid {0} name",b)}function oa(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&A(a)?T(f,a):a}function pa(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Fd(Id.call(a,0,e))),b.push(c));return b||a}function qa(){return Object.create(null)}function ra(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function b(a,b){return function(c,f){return f&&A(f)&&(f.$$moduleName=d),e.push([a,b,arguments]),k}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:d,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function sa(a){var b=[];return JSON.stringify(a,function(a,c){if(c=U(a,c),v(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function ta(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):t(a)?"undefined":"string"!=typeof a?sa(a):a}function ua(b){l(b,{bootstrap:ga,copy:O,extend:l,merge:m,equals:Q,element:Fd,forEach:f,injector:bb,noop:p,bind:T,toJson:V,fromJson:W,identity:q,isUndefined:t,isDefined:u,isString:x,isFunction:A,isObject:v,isNumber:y,isElement:K,isArray:Rd,version:fe,isDate:z,lowercase:zd,uppercase:Bd,callbacks:{counter:0},getTestability:ia,$$minErr:d,$$csp:Vd,reloadWithDebugInfo:ha}),(Hd=ra(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:tc}),a.provider("$compile",lb).directive({a:zf,input:Sf,textarea:Sf,form:Ef,script:Kg,select:Ng,style:Pg,option:Og,ngBind:Vf,ngBindHtml:Xf,ngBindTemplate:Wf,ngClass:Zf,ngClassEven:_f,ngClassOdd:$f,ngCloak:ag,ngController:bg,ngForm:Ff,ngHide:Eg,ngIf:eg,ngInclude:fg,ngInit:hg,ngNonBindable:vg,ngPluralize:zg,ngRepeat:Ag,ngShow:Dg,ngStyle:Fg,ngSwitch:Gg,ngSwitchWhen:Hg,ngSwitchDefault:Ig,ngOptions:yg,ngTransclude:Jg,ngModel:sg,ngList:ig,ngChange:Yf,pattern:Rg,ngPattern:Rg,required:Qg,ngRequired:Qg,minlength:Tg,ngMinlength:Tg,maxlength:Sg,ngMaxlength:Sg,ngValue:Uf,ngModelOptions:ug}).directive({ngInclude:gg}).directive(Af).directive(cg),a.provider({$anchorScroll:cb,$animate:Je,$animateCss:Me,$$animateJs:He,$$animateQueue:Ie,$$AnimateRunner:Le,$$animateAsyncRun:Ke,$browser:ib,$cacheFactory:jb,$controller:qb,$document:rb,$exceptionHandler:sb,$filter:Hc,$$forceReflow:Re,$interpolate:Gb,$interval:Hb,$http:Cb,$httpParamSerializer:ub,$httpParamSerializerJQLike:vb,$httpBackend:Eb,$xhrFactory:Db,$location:Vb,$log:Wb,$parse:nc,$rootScope:sc,$q:oc,$$q:pc,$sce:xc,$sceDelegate:wc,$sniffer:yc,$templateCache:kb,$templateRequest:zc,$$testability:Ac,$timeout:Bc,$window:Ec,$$rAF:rc,$$jqLite:Ya,$$HashMap:ye,$$cookieReader:Gc})}])}function va(){return++he}function wa(a){return a.replace(ke,function(a,b,c,d){return d?c.toUpperCase():c}).replace(le,"Moz$1")}function xa(a){return!pe.test(a)}function ya(a){var b=a.nodeType;return b===_d||!b||b===de}function za(a){for(var b in ge[a.ng339])return!0;return!1}function Aa(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(xa(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),d=(qe.exec(a)||["",""])[1].toLowerCase(),e=se[d]||se._default,c.innerHTML=e[1]+a.replace(re,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=R(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function Ba(a,c){c=c||b;var d;return(d=oe.exec(a))?[c.createElement(d[1])]:(d=Aa(a,c))?d.childNodes:[]}function Ca(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Da(a){if(a instanceof Da)return a;var b;if(x(a)&&(a=Td(a),b=!0),!(this instanceof Da)){if(b&&"<"!=a.charAt(0))throw ne("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Da(a)}b?Na(this,Ba(a)):Na(this,a)}function Ea(a){return a.cloneNode(!0)}function Fa(a,b){if(b||Ha(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)Ha(c[d])}function Ga(a,b,c,d){if(u(d))throw ne("offargs","jqLite#off() does not support the `selector` argument");var e=Ia(a),g=e&&e.events,h=e&&e.handle;if(h)if(b){var i=function(b){var d=g[b];u(c)&&N(d||[],c),u(c)&&d&&d.length>0||(je(a,b,h),delete g[b])};f(b.split(" "),function(a){i(a),me[a]&&i(me[a])})}else for(b in g)"$destroy"!==b&&je(a,b,h),delete g[b]}function Ha(a,b){var d=a.ng339,e=d&&ge[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),Ga(a)),delete ge[d],a.ng339=c}}function Ia(a,b){var d=a.ng339,e=d&&ge[d];return b&&!e&&(a.ng339=d=va(),e=ge[d]={events:{},data:{},handle:c}),e}function Ja(a,b,c){if(ya(a)){var d=u(c),e=!d&&b&&!v(b),f=!b,g=Ia(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];l(h,b)}}}function Ka(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function La(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Td((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Td(b)+" "," ")))})}function Ma(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Td(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Td(c))}}function Na(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Oa(a,b){return Pa(a,"$"+(b||"ngController")+"Controller")}function Pa(a,b,c){a.nodeType==de&&(a=a.documentElement);for(var d=Rd(b)?b:[b];a;){for(var e=0,f=d.length;f>e;e++)if(u(c=Fd.data(a,d[e])))return c;a=a.parentNode||a.nodeType===ee&&a.host}}function Qa(a){for(Fa(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Ra(a,b){b||Fa(a);var c=a.parentNode;c&&c.removeChild(a)}function Sa(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Fd(c).on("load",b)}function Ta(a,b){var c=ve[b.toLowerCase()];return c&&we[M(a)]&&c}function Ua(a){return xe[a]}function Va(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(t(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||Wa;f>1&&(e=P(e));for(var i=0;f>i;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Wa(a,b,c){c.call(a,b)}function Xa(a,b,c){var d=b.relatedTarget;(!d||d!==a&&!te.call(a,d))&&c.call(a,b)}function Ya(){this.$get=function(){return l(Da,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ka(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),
Ma(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),La(a,b)}})}}function Za(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||i)():d+":"+a}function $a(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function _a(a){var b=a.toString().replace(Ce,""),c=b.match(ze);return c?"function("+(c[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ab(a,b,c){var d,e,g,h;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw x(c)&&c||(c=a.name||_a(a)),De("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=a.toString().replace(Ce,""),g=e.match(ze),f(g[1].split(Ae),function(a){a.replace(Be,function(a,b,c){d.push(c)})})}a.$inject=d}}else Rd(a)?(h=a.length-1,ma(a[h],"fn"),d=a.slice(0,h)):ma(a,"fn",!0);return d}function bb(a,b){function d(a){return function(b,c){return v(b)?void f(b,h(a)):a(b,c)}}function e(a,b){if(na(a,"service"),(A(b)||Rd(b))&&(b=y.instantiate(b)),!b.$get)throw De("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=B.invoke(b,this);if(t(c))throw De("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function i(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function j(a,b){return i(a,["$injector",function(a){return a.instantiate(b)}])}function k(a,b){return i(a,r(b),!1)}function l(a,b){na(a,"constant"),w[a]=b,z[a]=b}function m(a,b){var c=y.get(a+q),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function n(a){la(t(a)||Rd(a),"modulesToLoad","not an array");var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=y.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{x(a)?(b=Hd(a),c=c.concat(n(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):A(a)?c.push(y.invoke(a)):Rd(a)?c.push(y.invoke(a)):ma(a,"module")}catch(e){throw Rd(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),De("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function o(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===p)throw De("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=p,a[b]=c(b,d)}catch(e){throw a[b]===p&&delete a[b],e}finally{s.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var g,h,i,j=[],k=bb.$$annotate(a,b,f);for(h=0,g=k.length;g>h;h++){if(i=k[h],"string"!=typeof i)throw De("itkn","Incorrect injection token! Expected service name as string, got {0}",i);j.push(e&&e.hasOwnProperty(i)?e[i]:d(i,f))}return Rd(a)&&(a=a[g]),a.apply(c,j)}function f(a,b,c){var d=Object.create((Rd(a)?a[a.length-1]:a).prototype||null),f=e(a,d,b,c);return v(f)||A(f)?f:d}return{invoke:e,instantiate:f,get:d,annotate:bb.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=b===!0;var p={},q="Provider",s=[],u=new $a([],!0),w={$provide:{provider:d(e),factory:d(i),service:d(j),value:d(k),constant:d(l),decorator:m}},y=w.$injector=o(w,function(a,b){throw Od.isString(b)&&s.push(b),De("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},B=z.$injector=o(z,function(a,b){var d=y.get(a+q,b);return B.invoke(d.$get,d,c,a)});return f(n(a),function(a){a&&B.invoke(a)}),B}function cb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===M(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(A(a))a=a();else if(K(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else y(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=x(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Sa(function(){d.$evalAsync(h)})}),h}]}function db(a,b){return a||b?a?b?(Rd(a)&&(a=a.join(" ")),Rd(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function eb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===Fe)return c}}function fb(a){x(a)&&(a=a.split(" "));var b=qa();return f(a,function(a){a.length&&(b[a]=!0)}),b}function gb(a){return v(a)?a:{}}function hb(a,b,c,d){function e(a){try{a.apply(null,S(arguments,1))}finally{if(s--,0===s)for(;u.length;)try{u.pop()()}catch(b){c.error(b)}}}function g(a){var b=a.indexOf("#");return-1===b?"":a.substr(b)}function h(){z=null,j(),k()}function i(){try{return n.state}catch(a){}}function j(){v=i(),v=t(v)?null:v,Q(v,C)&&(v=C),C=v}function k(){(x!==l.url()||w!==v)&&(x=l.url(),w=v,f(A,function(a){a(l.url(),v)}))}var l=this,m=(b[0],a.location),n=a.history,o=a.setTimeout,q=a.clearTimeout,r={};l.isMock=!1;var s=0,u=[];l.$$completeOutstandingRequest=e,l.$$incOutstandingRequestCount=function(){s++},l.notifyWhenNoOutstandingRequests=function(a){0===s?a():u.push(a)};var v,w,x=m.href,y=b.find("base"),z=null;j(),w=v,l.url=function(b,c,e){if(t(e)&&(e=null),m!==a.location&&(m=a.location),n!==a.history&&(n=a.history),b){var f=w===e;if(x===b&&(!d.history||f))return l;var h=x&&Mb(x)===Mb(b);return x=b,w=e,!d.history||h&&f?((!h||z)&&(z=b),c?m.replace(b):h?m.hash=g(b):m.href=b,m.href!==b&&(z=b)):(n[c?"replaceState":"pushState"](e,"",b),j(),w=v),l}return z||m.href.replace(/%27/g,"'")},l.state=function(){return v};var A=[],B=!1,C=null;l.onUrlChange=function(b){return B||(d.history&&Fd(a).on("popstate",h),Fd(a).on("hashchange",h),B=!0),A.push(b),b},l.$$applicationDestroyed=function(){Fd(a).off("hashchange popstate",h)},l.$$checkUrlChange=k,l.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(a,b){var c;return s++,c=o(function(){delete r[c],e(a)},b||0),r[c]=!0,c},l.defer.cancel=function(a){return r[a]?(delete r[a],q(a),e(p),!0):!1}}function ib(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new hb(a,d,b,c)}]}function jb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i=qa(),j=c&&c.capacity||Number.MAX_VALUE,k=qa(),m=null,n=null;return b[a]={put:function(a,b){if(!t(b)){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b}},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=qa(),g=0,k=qa(),m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function kb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function lb(a,d){function e(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e=qa();return f(a,function(a,f){if(a in z)return void(e[f]=z[a]);var g=a.match(d);if(!g)throw Ne("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(z[a]=e[f])}),e}function g(a,b){var c={isolateScope:null,bindToController:null};if(v(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),v(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),v(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Ne("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!pb(d,f))throw Ne("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function i(a){var b=a.charAt(0);if(!b||b!==zd(b))throw Ne("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Ne("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}var j={},k="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,n=/(([\w\-]+)(?:\:([^;]+))?;?)/,s=L("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/,z=qa();this.directive=function C(b,c){return na(b,"directive"),x(b)?(i(b),la(c,"directiveFactory"),j.hasOwnProperty(b)||(j[b]=[],a.factory(b+k,["$injector","$exceptionHandler",function(a,c){var d=[];return f(j[b],function(e,f){try{var g=a.invoke(e);A(g)?g={compile:r(g)}:!g.compile&&g.link&&(g.compile=r(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"EA",g.$$moduleName=e.$$moduleName,d.push(g)}catch(h){c(h)}}),d}])),j[b].push(c)):f(b,h(C)),this},this.aHrefSanitizationWhitelist=function(a){return u(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var B=!0;this.debugInfoEnabled=function(a){return u(a)?(B=a,this):B},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,d,e,h,i,r,z,C,E,F){function G(a,b){try{a.addClass(b)}catch(c){}}function I(a,c,d,e,f){a instanceof Fd||(a=Fd(a));for(var g=/\S+/,h=0,i=a.length;i>h;h++){var j=a[h];j.nodeType===be&&j.nodeValue.match(g)&&Ca(j,a[h]=b.createElement("span"))}var k=K(a,c,a,d,e,f);I.$$addScopeClass(a);var l=null;return function(b,c,d){la(b,"scope"),f&&f.needsNewScope&&(b=b.$parent.$new()),d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),l||(l=J(h));var i;if(i="html"!==l?Fd(ba(l,Fd("<div>").append(a).html())):c?ue.clone.call(a):a,g)for(var j in g)i.data("$"+j+"Controller",g[j].instance);return I.$$addScopeInfo(i,b),c&&c(i,b),k&&k(b,i,i,e),i}}function J(a){var b=a&&a[0];return b&&"foreignobject"!==M(b)&&b.toString().match(/SVG/)?"svg":"html"}function K(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,q;if(o){var r=d.length;for(q=new Array(r),k=0;k<p.length;k+=3)m=p[k],q[m]=d[m]}else q=d;for(k=0,l=p.length;l>k;)i=q[p[k++]],g=p[k++],h=p[k++],g?(g.scope?(j=a.$new(),I.$$addScopeInfo(Fd(i),j)):j=a,n=g.transcludeOnThisElement?L(a,g.transclude,f):!g.templateOnThisElement&&f?f:!f&&b?L(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o,p=[],q=0;q<a.length;q++)i=new ia,j=O(a[q],[],i,0===q?e:c,f),k=j.length?T(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&I.$$addScopeClass(i.$$element),m=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:K(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),(k||m)&&(p.push(q,k,m),n=!0,o=o||k),g=null;return n?h:null}function L(a,b,c){var d=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})};return d}function O(a,b,c,d,e){var f,g,h,i=a.nodeType,j=c.$attr;switch(i){case _d:g=M(a),V(b,mb(g),"E",d,e);for(var k,l,o,p,q,r,s=a.attributes,t=0,u=s&&s.length;u>t;t++){var w=!1,y=!1;k=s[t],l=k.name,q=Td(k.value),p=mb(l),(r=oa.test(p))&&(l=l.replace(Oe,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var z=p.match(pa);z&&W(z[1])&&(w=l,y=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),o=mb(l.toLowerCase()),j[o]=l,(r||!c.hasOwnProperty(o))&&(c[o]=q,Ta(a,o)&&(c[o]=!0)),da(a,b,q,o,r),V(b,o,"A",d,e,w,y)}if("input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),h=a.className,v(h)&&(h=h.animVal),x(h)&&""!==h)for(;f=n.exec(h);)o=mb(f[2]),V(b,o,"C",d,e)&&(c[o]=Td(f[3])),h=h.substr(f.index+f[0].length);break;case be:if(11===Ed)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===be;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);aa(b,a.nodeValue);break;case ce:try{f=m.exec(a.nodeValue),f&&(o=mb(f[1]),V(b,o,"M",d,e)&&(c[o]=Td(f[2])))}catch(A){}}return b.sort(Z),b}function P(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Ne("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==_d&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Fd(d)}function R(a,b,c){return function(d,e,f,g,h){return e=P(e[0],b,c),a(d,e,f,g,h)}}function T(a,d,f,g,h,i,j,k,l){function m(a,b,c,d){a&&(c&&(a=R(a,c,d)),a.require=q.require,a.directiveName=s,(E===q||q.$$isolateScope)&&(a=fa(a,{isolateScope:!0})),j.push(a)),b&&(c&&(b=R(b,c,d)),b.require=q.require,b.directiveName=s,(E===q||q.$$isolateScope)&&(b=fa(b,{isolateScope:!0})),k.push(b))}function n(a,b,c,d){var e;if(x(b)){var f=b.match(w),g=b.substring(f[0].length),h=f[1]||f[3],i="?"===f[2];if("^^"===h?c=c.parent():(e=d&&d[g],e=e&&e.instance),!e){var j="$"+g+"Controller";e=h?c.inheritedData(j):c.data(j)}if(!e&&!i)throw Ne("ctreq","Controller '{0}', required by directive '{1}', can't be found!",g,a)}else if(Rd(b)){e=[];for(var k=0,l=b.length;l>k;k++)e[k]=n(a,b[k],c,d)}return e||null}function o(a,b,c,d,e,f){var g=qa();for(var h in d){var i=d[h],j={$scope:i===E||i.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},k=i.controller;"@"==k&&(k=b[i.name]);var l=r(k,j,!0,i.controllerAs);g[i.name]=l,a.data("$"+i.name+"Controller",l.instance)}return g}function p(a,b,e,g,h){function i(a,b,d){var e;return D(a)||(d=b,b=a,a=c),K&&(e=q),d||(d=K?s.parent():s),h(a,b,e,d,G)}var l,m,p,q,r,s,t,u,v;d===e?(t=f,s=f.$$element):(s=Fd(e),t=new ia(s,f)),p=b,E?m=b.$new(!0):B&&(p=b.$parent),h&&(r=i,r.$$boundTransclude=h),C&&(q=o(s,t,r,C,m,b)),E&&(I.$$addScopeInfo(s,m,!0,!(F&&(F===E||F===E.$$originalDirective))),I.$$addScopeClass(s,!0),m.$$isolateBindings=E.$$isolateBindings,u=ha(b,t,m,m.$$isolateBindings,E),u&&m.$on("$destroy",u));for(var w in q){var x=C[w],y=q[w],z=x.$$bindings.bindToController;y.identifier&&z&&(v=ha(p,t,y.instance,z,x));var A=y();A!==y.instance&&(y.instance=A,s.data("$"+x.name+"Controller",A),v&&v(),v=ha(p,t,y.instance,z,x))}for(Q=0,T=j.length;T>Q;Q++)l=j[Q],ga(l,l.isolateScope?m:b,s,t,l.require&&n(l.directiveName,l.require,s,q),r);var G=b;for(E&&(E.template||null===E.templateUrl)&&(G=m),a&&a(G,e.childNodes,c,h),Q=k.length-1;Q>=0;Q--)l=k[Q],ga(l,l.isolateScope?m:b,s,t,l.require&&n(l.directiveName,l.require,s,q),r)}l=l||{};for(var q,s,t,u,y,z=-Number.MAX_VALUE,B=l.newScopeDirective,C=l.controllerDirectives,E=l.newIsolateScopeDirective,F=l.templateDirective,G=l.nonTlbTranscludeDirective,H=!1,J=!1,K=l.hasElementTranscludeDirective,L=f.$$element=Fd(d),M=i,N=g,Q=0,T=a.length;T>Q;Q++){q=a[Q];var V=q.$$start,W=q.$$end;if(V&&(L=P(d,V,W)),t=c,z>q.priority)break;if((y=q.scope)&&(q.templateUrl||(v(y)?(_("new/isolated scope",E||B,q,L),E=q):_("new/isolated scope",E,q,L)),B=B||q),s=q.name,!q.templateUrl&&q.controller&&(y=q.controller,C=C||qa(),_("'"+s+"' controller",C[s],q,L),C[s]=q),(y=q.transclude)&&(H=!0,q.$$tlb||(_("transclusion",G,q,L),G=q),"element"==y?(K=!0,z=q.priority,t=L,L=f.$$element=Fd(b.createComment(" "+s+": "+f[s]+" ")),d=L[0],ea(h,S(t),d),N=I(t,g,z,M&&M.name,{nonTlbTranscludeDirective:G})):(t=Fd(Ea(d)).contents(),L.empty(),N=I(t,g,c,c,{needsNewScope:q.$$isolateScope||q.$$newScope}))),q.template)if(J=!0,_("template",F,q,L),F=q,y=A(q.template)?q.template(L,f):q.template,y=na(y),q.replace){if(M=q,t=xa(y)?[]:ob(ba(q.templateNamespace,Td(y))),d=t[0],1!=t.length||d.nodeType!==_d)throw Ne("tplrt","Template for directive '{0}' must have exactly one root element. {1}",s,"");ea(h,L,d);var Z={$attr:{}},aa=O(d,[],Z),ca=a.splice(Q+1,a.length-(Q+1));(E||B)&&U(aa,E,B),a=a.concat(aa).concat(ca),X(f,Z),T=a.length}else L.html(y);if(q.templateUrl)J=!0,_("template",F,q,L),F=q,q.replace&&(M=q),p=Y(a.splice(Q,a.length-Q),L,f,h,H&&N,j,k,{controllerDirectives:C,newScopeDirective:B!==q&&B,newIsolateScopeDirective:E,templateDirective:F,nonTlbTranscludeDirective:G}),T=a.length;else if(q.compile)try{u=q.compile(L,f,N),A(u)?m(null,u,V,W):u&&m(u.pre,u.post,V,W)}catch(da){e(da,$(L))}q.terminal&&(p.terminal=!0,z=Math.max(z,q.priority))}return p.scope=B&&B.scope===!0,p.transcludeOnThisElement=H,p.templateOnThisElement=J,p.transclude=N,l.hasElementTranscludeDirective=K,p}function U(a,b,c){for(var d=0,e=a.length;e>d;d++)a[d]=o(a[d],{$$isolateScope:b,$$newScope:c})}function V(b,c,d,f,h,i,l){if(c===h)return null;var m=null;if(j.hasOwnProperty(c))for(var n,p=a.get(c+k),q=0,r=p.length;r>q;q++)try{if(n=p[q],(t(f)||f>n.priority)&&-1!=n.restrict.indexOf(d)){if(i&&(n=o(n,{$$start:i,$$end:l})),!n.$$bindings){var s=n.$$bindings=g(n,n.name);v(s.isolateScope)&&(n.$$isolateBindings=s.isolateScope)}b.push(n),m=n}}catch(u){e(u)}return m}function W(b){if(j.hasOwnProperty(b))for(var c,d=a.get(b+k),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function X(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(G(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function Y(a,b,c,d,e,g,i,j){var k,l,m=[],n=b[0],p=a.shift(),q=o(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=A(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),h(r).then(function(h){var o,t,u,w;if(h=na(h),p.replace){if(u=xa(h)?[]:ob(ba(s,Td(h))),o=u[0],1!=u.length||o.nodeType!==_d)throw Ne("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);t={$attr:{}},ea(d,b,o);var x=O(o,[],t);v(p.scope)&&U(x,!0),a=x.concat(a),X(c,t)}else o=n,b.html(h);for(a.unshift(q),k=T(a,o,c,e,b,p,g,i,j),f(d,function(a,c){a==o&&(d[c]=b[0])}),l=K(b[0].childNodes,e);m.length;){var y=m.shift(),z=m.shift(),A=m.shift(),B=m.shift(),C=b[0];if(!y.$$destroyed){if(z!==n){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Ea(o)),ea(A,Fd(z),C),G(Fd(C),D)}w=k.transcludeOnThisElement?L(y,k.transclude,B):B,k(l,y,C,d,w)}}m=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(m?m.push(b,c,d,f):(k.transcludeOnThisElement&&(f=L(b,k.transclude,e)),k(l,b,c,d,f)))}}function Z(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function _(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Ne("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,$(d))}function aa(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&I.$$addBindingClass(b),function(a,b){var e=b.parent();d||I.$$addBindingClass(e),I.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function ba(a,c){switch(a=zd(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function ca(a,b){if("srcdoc"==b)return C.HTML;var c=M(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?C.RESOURCE_URL:void 0}function da(a,b,c,e,f){var g=ca(a,e);f=s[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===M(a))throw Ne("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",$(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers=qa());if(y.test(e))throw Ne("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function ea(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),Fd.hasData(g)&&(Fd.data(d,Fd.data(g)),Gd?(Qd=!0,Gd.cleanData([g])):delete Fd.cache[g[Fd.expando]]);for(var n=1,o=c.length;o>n;n++){var p=c[n];Fd(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function fa(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function ga(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,$(c))}}function ha(a,b,c,e,g){var h=[];return f(e,function(e,f){var j,k,l,m,n=e.attrName,o=e.optional,q=e.mode;switch(q){case"@":o||Ad.call(b,n)||(c[f]=b[n]=void 0),b.$observe(n,function(a){x(a)&&(c[f]=a)}),b.$$observers[n].$$scope=a,j=b[n],x(j)?c[f]=d(j)(a):H(j)&&(c[f]=j);break;case"=":if(!Ad.call(b,n)){if(o)break;b[n]=void 0}if(o&&!b[n])break;k=i(b[n]),m=k.literal?Q:function(a,b){return a===b||a!==a&&b!==b},l=k.assign||function(){throw j=c[f]=k(a),Ne("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[n],n,g.name)},j=c[f]=k(a);var r=function(b){return m(b,c[f])||(m(b,j)?l(a,b=c[f]):c[f]=b),j=b};r.$stateful=!0;var s;s=e.collection?a.$watchCollection(b[n],r):a.$watch(i(b[n],r),null,k.literal),h.push(s);break;case"&":if(k=b.hasOwnProperty(n)?i(b[n]):p,k===p&&o)break;c[f]=function(b){return k(a,b)}}}),h.length&&function(){for(var a=0,b=h.length;b>a;++a)h[a]()}}var ia=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};ia.prototype={$normalize:mb,$addClass:function(a){a&&a.length>0&&E.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&E.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=nb(a,b);c&&c.length&&E.addClass(this.$$element,c);var d=nb(b,a);d&&d.length&&E.removeClass(this.$$element,d)},$set:function(a,b,c,d){var g,h=this.$$element[0],i=Ta(h,a),j=Ua(a),k=a;if(i?(this.$$element.prop(a,b),d=i):j&&(this[j]=b,k=j),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a],d||(this.$attr[a]=d=ja(a,"-"))),g=M(this.$$element),"a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=F(b,"src"===a);else if("img"===g&&"srcset"===a&&u(b)){for(var l="",m=Td(b),n=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(m)?n:/(,)/,p=m.split(o),q=Math.floor(p.length/2),r=0;q>r;r++){var s=2*r;l+=F(Td(p[s]),!0),l+=" "+Td(p[s+1])}var v=Td(p[2*r]).split(/\s/);l+=F(Td(v[0]),!0),2===v.length&&(l+=" "+Td(v[1])),this[a]=b=l}c!==!1&&(null===b||t(b)?this.$$element.removeAttr(d):this.$$element.attr(d,b));var w=this.$$observers;w&&f(w[k],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=qa()),e=d[a]||(d[a]=[]);return e.push(b),z.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||t(c[a])||b(c[a])}),function(){N(e,b)}}};var ka=d.startSymbol(),ma=d.endSymbol(),na="{{"==ka&&"}}"==ma?q:function(a){return a.replace(/\{\{/g,ka).replace(/}}/g,ma)},oa=/^ngAttr[A-Z]/,pa=/^(.+)Start$/;return I.$$addBindingInfo=B?function(a,b){var c=a.data("$binding")||[];Rd(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:p,I.$$addBindingClass=B?function(a){G(a,"ng-binding")}:p,I.$$addScopeInfo=B?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:p,I.$$addScopeClass=B?function(a,b){G(a,b?"ng-isolate-scope":"ng-scope")}:p,I}]}function mb(a){return wa(a.replace(Oe,""))}function nb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function ob(a){a=Fd(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===ce&&Jd.call(a,b,1)}return a}function pb(a,b){if(b&&x(b))return b;if(x(a)){var c=Qe.exec(a);if(c)return c[3]}}function qb(){var a={},b=!1;this.register=function(b,c){na(b,"controller"),v(b)?l(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(e,f){function g(a,b,c,e){if(!a||!v(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,h,i,j){var k,m,n,o;if(i=i===!0,j&&x(j)&&(o=j),x(d)){if(m=d.match(Qe),!m)throw Pe("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);n=m[1],o=o||m[3],d=a.hasOwnProperty(n)?a[n]:oa(h.$scope,n,!0)||(b?oa(f,n,!0):c),ma(d,n,!0)}if(i){var p=(Rd(d)?d[d.length-1]:d).prototype;k=Object.create(p||null),o&&g(h,o,k,n||d.name);var q;return q=l(function(){var a=e.invoke(d,k,h,n);return a!==k&&(v(a)||A(a))&&(k=a,o&&g(h,o,k,n||d.name)),k},{instance:k,identifier:o})}return k=e.instantiate(d,h,n),o&&g(h,o,k,n||d.name),k}}]}function rb(){this.$get=["$window",function(a){return Fd(a.document)}]}function sb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function tb(a){return v(a)?z(a)?a.toISOString():V(a):a}function ub(){this.$get=function(){return function(a){if(!a)return"";var b=[];return g(a,function(a,c){null===a||t(a)||(Rd(a)?f(a,function(a,d){b.push(da(c)+"="+da(tb(a)))}):b.push(da(c)+"="+da(tb(a))))}),b.join("&")}}}function vb(){this.$get=function(){return function(a){function b(a,d,e){null===a||t(a)||(Rd(a)?f(a,function(a,c){b(a,d+"["+(v(a)?c:"")+"]")}):v(a)&&!z(a)?g(a,function(a,c){b(a,d+(e?"":"[")+c+(e?"":"]"))}):c.push(da(d)+"="+da(tb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function wb(a,b){if(x(a)){var c=a.replace(We,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Se)||xb(c))&&(a=W(c))}}return a}function xb(a){var b=a.match(Ue);return b&&Ve[b[0]].test(a)}function yb(a){function b(a,b){a&&(d[a]=d[a]?d[a]+", "+b:b)}var c,d=qa();return x(a)?f(a.split("\n"),function(a){c=a.indexOf(":"),b(zd(Td(a.substr(0,c))),Td(a.substr(c+1)))}):v(a)&&f(a,function(a,c){b(zd(c),Td(a))}),d}function zb(a){var b;return function(c){if(b||(b=yb(a)),c){var d=b[zd(c)];return void 0===d&&(d=null),d}return b}}function Ab(a,b,c,d){return A(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function Bb(a){return a>=200&&300>a}function Cb(){var a=this.defaults={transformResponse:[wb],transformRequest:[function(a){return!v(a)||E(a)||G(a)||F(a)?a:V(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:P(Te),put:P(Te),patch:P(Te)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var e=!0;this.useLegacyPromiseExtensions=function(a){return u(a)?(e=!!a,this):e};var g=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(h,i,j,k,m,n){function o(b){function g(a){var b=l({},a);return b.data=Ab(a.data,a.headers,a.status,j.transformResponse),Bb(a.status)?b:m.reject(b)}function h(a,b){var c,d={};return f(a,function(a,e){A(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}function i(b){var c,d,e,f=a.headers,g=l({},b.headers);f=l({},f.common,f[zd(b.method)]);a:for(c in f){d=zd(c);for(e in g)if(zd(e)===d)continue a;g[c]=f[c]}return h(g,P(b))}if(!Od.isObject(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);if(!x(b.url))throw d("$http")("badreq","Http request configuration url must be a string.  Received: {0}",b.url);var j=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);j.headers=i(b),j.method=Bd(j.method),j.paramSerializer=x(j.paramSerializer)?n.get(j.paramSerializer):j.paramSerializer;var k=function(b){var d=b.headers,e=Ab(b.data,zb(d),c,b.transformRequest);return t(e)&&f(d,function(a,b){"content-type"===zd(b)&&delete d[b]}),t(b.withCredentials)&&!t(a.withCredentials)&&(b.withCredentials=a.withCredentials),r(b,e).then(g,g)},o=[k,c],p=m.when(j);for(f(y,function(a){(a.request||a.requestError)&&o.unshift(a.request,a.requestError),(a.response||a.responseError)&&o.push(a.response,a.responseError)});o.length;){var q=o.shift(),s=o.shift();p=p.then(q,s)}return e?(p.success=function(a){return ma(a,"fn"),p.then(function(b){a(b.data,b.status,b.headers,j)}),p},p.error=function(a){return ma(a,"fn"),p.then(null,function(b){a(b.data,b.status,b.headers,j)}),p}):(p.success=Ye("success"),p.error=Ye("error")),p}function p(a){f(arguments,function(a){o[a]=function(b,c){return o(l({},c||{},{method:a,url:b}))}})}function q(a){f(arguments,function(a){o[a]=function(b,c,d){return o(l({},d||{},{method:a,url:b,data:c}))}})}function r(d,e){function f(a,c,d,e){function f(){g(c,a,d,e)}n&&(Bb(a)?n.put(y,[a,c,yb(d),e]):n.remove(y)),b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function g(a,b,c,e){b=b>=-1?b:0,(Bb(b)?q.resolve:q.reject)({data:a,status:b,headers:zb(c),config:d,statusText:e})}function j(a){g(a.data,a.status,P(a.headers()),a.statusText)}function l(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var n,p,q=m.defer(),r=q.promise,x=d.headers,y=s(d.url,d.paramSerializer(d.params));if(o.pendingRequests.push(d),r.then(l,l),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(n=v(d.cache)?d.cache:v(a.cache)?a.cache:w),n&&(p=n.get(y),u(p)?I(p)?p.then(j,j):Rd(p)?g(p[1],p[0],P(p[2]),p[3]):g(p,200,{},"OK"):n.put(y,r)),t(p)){var z=Dc(d.url)?i()[d.xsrfCookieName||a.xsrfCookieName]:c;z&&(x[d.xsrfHeaderName||a.xsrfHeaderName]=z),h(d.method,y,e,f,x,d.timeout,d.withCredentials,d.responseType)}return r}function s(a,b){return b.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var w=j("$http");a.paramSerializer=x(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var y=[];return f(g,function(a){y.unshift(x(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],p("get","delete","head","jsonp"),q("post","put","patch"),o.defaults=a,o}]}function Db(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Eb(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,c,d){return Fb(a,d,a.defer,b.angular.callbacks,c[0])}]}function Fb(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){je(f,"load",g),je(f,"error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},ie(f,"load",g),ie(f,"error",g),e.body.appendChild(f),g}return function(e,h,i,j,k,l,m,n){function o(){s&&s(),v&&v.abort()}function q(b,d,e,f,g){u(y)&&c.cancel(y),s=v=null,b(d,e,f,g),a.$$completeOutstandingRequest(p)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"==zd(e)){var r="_"+(d.counter++).toString(36);d[r]=function(a){d[r].data=a,d[r].called=!0};var s=g(h.replace("JSON_CALLBACK","angular.callbacks."+r),r,function(a,b){q(j,a,d[r].data,"",b),d[r]=p})}else{var v=b(e,h);v.open(e,h,!0),f(k,function(a,b){u(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==Cc(h).protocol?404:0),q(j,c,b,v.getAllResponseHeaders(),a)};var w=function(){q(j,-1,null,null,"")};if(v.onerror=w,v.onabort=w,m&&(v.withCredentials=!0),n)try{v.responseType=n}catch(x){if("json"!==n)throw x}v.send(t(i)?null:i)}if(l>0)var y=c(o,l);else I(l)&&l.then(o)}}function Gb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){
return"\\\\\\"+a}function g(c){return c.replace(m,a).replace(n,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=V(a)}return a}function i(f,i,m,n){function o(a){try{return a=C(a),n&&!u(a)?a:h(a)}catch(b){d(Ze.interr(f,b))}}n=!!n;for(var p,q,r,s=0,v=[],w=[],x=f.length,y=[],z=[];x>s;){if(-1==(p=f.indexOf(a,s))||-1==(q=f.indexOf(b,p+j))){s!==x&&y.push(g(f.substring(s)));break}s!==p&&y.push(g(f.substring(s,p))),r=f.substring(p+j,q),v.push(r),w.push(c(r,o)),s=q+k,z.push(y.length),y.push("")}if(m&&y.length>1&&Ze.throwNoconcat(f),!i||v.length){var B=function(a){for(var b=0,c=v.length;c>b;b++){if(n&&t(a[b]))return;y[z[b]]=a[b]}return y.join("")},C=function(a){return m?e.getTrusted(m,a):e.valueOf(a)};return l(function(a){var b=0,c=v.length,e=new Array(c);try{for(;c>b;b++)e[b]=w[b](a);return B(e)}catch(g){d(Ze.interr(f,g))}},{exp:f,expressions:v,$$watchDelegate:function(a,b){var c;return a.$watchGroup(w,function(d,e){var f=B(d);A(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var j=a.length,k=b.length,m=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");return i.startSymbol=function(){return a},i.endSymbol=function(){return b},i}]}function Hb(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=arguments.length>4,k=j?S(arguments,4):[],l=b.setInterval,m=b.clearInterval,n=0,o=u(i)&&!i,p=(o?d:c).defer(),q=p.promise;return h=u(h)?h:0,q.then(null,null,j?function(){e.apply(null,k)}:e),q.$$intervalId=l(function(){p.notify(n++),h>0&&n>=h&&(p.resolve(n),m(q.$$intervalId),delete f[q.$$intervalId]),o||a.$apply()},g),f[q.$$intervalId]=p,q}var f={};return e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1},e}]}function Ib(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=ca(b[c]);return b.join("/")}function Jb(a,b){var c=Cc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=n(c.port)||_e[c.protocol]||null}function Kb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Cc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=aa(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Lb(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function Mb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function Nb(a){return a.replace(/(#.+)|#$/,"$1")}function Ob(a){return a.substr(0,Mb(a).lastIndexOf("/")+1)}function Pb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Qb(a,b,c){this.$$html5=!0,c=c||"",Jb(a,this),this.$$parse=function(a){var c=Lb(b,a);if(!x(c))throw af("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Kb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=ba(this.$$search),c=this.$$hash?"#"+ca(this.$$hash):"";this.$$url=Ib(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return u(f=Lb(a,d))?(g=f,h=u(f=Lb(c,f))?b+(Lb("/",f)||f):a+g):u(f=Lb(b,d))?h=b+f:b==d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function Rb(a,b,c){Jb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Lb(a,d)||Lb(b,d);t(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",t(g)&&(a=d,this.replace())):(f=Lb(c,g),t(f)&&(f=g)),Kb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=ba(this.$$search),d=this.$$hash?"#"+ca(this.$$hash):"";this.$$url=Ib(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Mb(a)==Mb(b)?(this.$$parse(b),!0):!1}}function Sb(a,b,c){this.$$html5=!0,Rb.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Mb(d)?f=d:(g=Lb(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=ba(this.$$search),d=this.$$hash?"#"+ca(this.$$hash):"";this.$$url=Ib(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Tb(a){return function(){return this[a]}}function Ub(a,b){return function(c){return t(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Vb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a},this.html5Mode=function(a){return H(a)?(b.enabled=a,this):v(a)?(H(a.enabled)&&(b.enabled=a.enabled),H(a.requireBase)&&(b.requireBase=a.requireBase),H(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw af("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Pb(n)+(m||"/"),k=e.history?Qb:Sb}else l=Mb(n),k=Rb;var o=Ob(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=Fd(a.target);"a"!==M(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");v(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Cc(h.animVal).href),p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Nb(j.absUrl())!=Nb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return t(Lb(o,a))?void(g.location.href=a):(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Nb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest()))}),c.$watch(function(){var a=Nb(d.url()),b=Nb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Wb(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||p,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Xb(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw cf("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Yb(a,b){if(a+="",!x(a))throw cf("iseccst","Cannot convert object to primitive value! Expression: {0}",b);return a}function Zb(a,b){if(a){if(a.constructor===a)throw cf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw cf("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw cf("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw cf("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function $b(a,b){if(a){if(a.constructor===a)throw cf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===df||a===ef||a===ff)throw cf("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function _b(a,b){if(a&&(a===0..constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw cf("isecaf","Assigning to a constructor is disallowed! Expression: {0}",b)}function ac(a,b){return"undefined"!=typeof a?a:b}function bc(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function cc(a,b){var c=a(b);return!c.$stateful}function dc(a,b){var c,d;switch(a.type){case kf.Program:c=!0,f(a.body,function(a){dc(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case kf.Literal:a.constant=!0,a.toWatch=[];break;case kf.UnaryExpression:dc(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case kf.BinaryExpression:dc(a.left,b),dc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case kf.LogicalExpression:dc(a.left,b),dc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case kf.ConditionalExpression:dc(a.test,b),dc(a.alternate,b),dc(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case kf.Identifier:a.constant=!1,a.toWatch=[a];break;case kf.MemberExpression:dc(a.object,b),a.computed&&dc(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case kf.CallExpression:c=a.filter?cc(b,a.callee.name):!1,d=[],f(a.arguments,function(a){dc(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&cc(b,a.callee.name)?d:[a];break;case kf.AssignmentExpression:dc(a.left,b),dc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case kf.ArrayExpression:c=!0,d=[],f(a.elements,function(a){dc(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=d;break;case kf.ObjectExpression:c=!0,d=[],f(a.properties,function(a){dc(a.value,b),c=c&&a.value.constant,a.value.constant||d.push.apply(d,a.value.toWatch)}),a.constant=c,a.toWatch=d;break;case kf.ThisExpression:a.constant=!1,a.toWatch=[]}}function ec(a){if(1==a.length){var b=a[0].expression,d=b.toWatch;return 1!==d.length?d:d[0]!==b?d:c}}function fc(a){return a.type===kf.Identifier||a.type===kf.MemberExpression}function gc(a){return 1===a.body.length&&fc(a.body[0].expression)?{type:kf.AssignmentExpression,left:a.body[0].expression,right:{type:kf.NGValueParameter},operator:"="}:void 0}function hc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===kf.Literal||a.body[0].expression.type===kf.ArrayExpression||a.body[0].expression.type===kf.ObjectExpression)}function ic(a){return a.constant}function jc(a,b){this.astBuilder=a,this.$filter=b}function kc(a,b){this.astBuilder=a,this.$filter=b}function lc(a){return"constructor"==a}function mc(a){return A(a.valueOf)?a.valueOf():mf.call(a)}function nc(){var a=qa(),b=qa();this.$get=["$filter",function(d){function e(c,e,f){var h,n,s;switch(f=f||r,typeof c){case"string":c=c.trim(),s=c;var t=f?b:a;if(h=t[s],!h){":"===c.charAt(0)&&":"===c.charAt(1)&&(n=!0,c=c.substring(2));var u=f?q:o,v=new jf(u),w=new lf(v,d,u);h=w.parse(c),h.constant?h.$$watchDelegate=l:n?h.$$watchDelegate=h.literal?k:j:h.inputs&&(h.$$watchDelegate=i),f&&(h=g(h)),t[s]=h}return m(h,e);case"function":return m(c,e);default:return m(p,e)}}function g(a){function b(b,c,d,e){var f=r;r=!0;try{return a(b,c,d,e)}finally{r=f}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=g(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=g(a.inputs[c]);return b.inputs=a.inputs,b}function h(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=mc(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function i(a,b,d,e,f){var g,i=e.inputs;if(1===i.length){var j=h;return i=i[0],a.$watch(function(a){var b=i(a);return h(b,j)||(g=e(a,c,c,[b]),j=b&&mc(b)),g},b,d,f)}for(var k=[],l=[],m=0,n=i.length;n>m;m++)k[m]=h,l[m]=null;return a.$watch(function(a){for(var b=!1,d=0,f=i.length;f>d;d++){var j=i[d](a);(b||(b=!h(j,k[d])))&&(l[d]=j,k[d]=j&&mc(j))}return b&&(g=e(a,c,c,l)),g},b,d,f)}function j(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,A(b)&&b.apply(this,arguments),u(a)&&d.$$postDigest(function(){u(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;return f(a,function(a){u(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,A(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){A(b)&&b.apply(this,arguments),e()},c)}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==k&&c!==j,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return u(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==i?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=i,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var n=Vd().noUnsafeEval,o={csp:n,expensiveChecks:!1},q={csp:n,expensiveChecks:!0},r=!1;return e.$$runningExpensiveChecks=function(){return r},e}]}function oc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return qc(function(b){a.$evalAsync(b)},b)}]}function pc(){this.$get=["$browser","$exceptionHandler",function(a,b){return qc(function(b){a.defer(b)},b)}]}function qc(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],d=f[g][a.status];try{A(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function j(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){i(b)}))}function k(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}function m(a){var b=new k,c=0,d=Rd(a)?[]:{};return f(a,function(a,e){c++,s(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var n=d("$q",TypeError),o=function(){return new k};l(g.prototype,{then:function(a,b,c){if(t(a)&&t(b)&&t(c))return this;var d=new k;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&j(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return r(b,!0,a)},function(b){return r(b,!1,a)},b)}}),l(k.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);try{(v(a)||A(a))&&(c=a&&a.then),A(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,j(this.promise.$$state))}catch(f){d[1](f),b(f)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,j(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(A(a)?a(c):c)}catch(h){b(h)}}})}});var p=function(a){var b=new k;return b.reject(a),b.promise},q=function(a,b){var c=new k;return b?c.resolve(a):c.reject(a),c.promise},r=function(a,b,c){var d=null;try{A(c)&&(d=c())}catch(e){return q(e,!1)}return I(d)?d.then(function(){return q(a,b)},function(a){return q(a,!1)}):q(a,b)},s=function(a,b,c,d){var e=new k;return e.resolve(a),e.promise.then(b,c,d)},u=s,w=function x(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!A(a))throw n("norslvr","Expected resolverFn, got '{0}'",a);if(!(this instanceof x))return new x(a);var d=new k;return a(b,c),d.promise};return w.defer=o,w.reject=p,w.when=s,w.resolve=u,w.all=m,w}function rc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function sc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=i(),this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,j,k,l){function m(a){a.currentScope.$$destroyed=!0}function n(a){9===Ed&&(a.$$childHead&&n(a.$$childHead),a.$$nextSibling&&n(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function o(){this.$id=i(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function q(a){if(z.$$phase)throw c("inprog","{0} already in progress",z.$$phase);z.$$phase=a}function r(){z.$$phase=null}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function u(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function w(){}function x(){for(;D.length;)try{D.shift()()}catch(a){j(a)}h=null}function y(){null===h&&(h=l.defer(function(){z.$apply(x)}))}o.prototype={constructor:o,$new:function(b,c){var d;return c=c||this,b?(d=new o,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",m),d},$watch:function(a,b,c,d){var e=k(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,h=f.$$watchers,i={fn:b,last:w,get:e,exp:d||a,eq:!!c};return g=null,A(b)||(i.fn=p),h||(h=f.$$watchers=[]),h.unshift(i),s(this,1),function(){N(h,i)>=0&&s(f,-1),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!t(f)){if(v(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)Ad.call(f,c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)Ad.call(f,c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,i)):b(f,h,i),j)if(v(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)Ad.call(f,c)&&(h[c]=f[c])}else h=f}c.$stateful=!0;var f,g,h,i=this,j=b.length>1,l=0,m=k(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var a,d,e,f,i,k,m,n,o,p,s,t,u=b,v=this,y=[];q("$digest"),l.$$checkUrlChange(),this===z&&null!==h&&(l.defer.cancel(h),x()),g=null;do{for(n=!1,p=v;B.length;){try{t=B.shift(),t.scope.$eval(t.expression,t.locals)}catch(D){j(D)}g=null}a:do{if(k=p.$$watchers)for(m=k.length;m--;)try{if(a=k[m])if(i=a.get,(d=i(p))===(e=a.last)||(a.eq?Q(d,e):"number"==typeof d&&"number"==typeof e&&isNaN(d)&&isNaN(e))){if(a===g){n=!1;break a}}else n=!0,g=a,a.last=a.eq?O(d,null):d,f=a.fn,f(d,e===w?d:e,p),5>u&&(s=4-u,y[s]||(y[s]=[]),y[s].push({msg:A(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:d,oldVal:e}))}catch(D){j(D)}if(!(o=p.$$watchersCount&&p.$$childHead||p!==v&&p.$$nextSibling))for(;p!==v&&!(o=p.$$nextSibling);)p=p.$parent}while(p=o);if((n||B.length)&&!u--)throw r(),c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,y)}while(n||B.length);for(r();C.length;)try{C.shift()()}catch(D){j(D)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===z&&l.$$applicationDestroyed(),s(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,n(this)}},$eval:function(a,b){return k(a)(this,b)},$evalAsync:function(a,b){z.$$phase||B.length||l.defer(function(){B.length&&z.$digest()}),B.push({scope:this,expression:k(a),locals:b})},$$postDigest:function(a){C.push(a)},$apply:function(a){try{q("$apply");try{return this.$eval(a)}finally{r()}}catch(b){j(b)}finally{try{z.$digest()}catch(b){throw j(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&D.push(b),a=k(a),y()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,u(e,1,a))}},$emit:function(a,b){var c,d,e,f=[],g=this,h=!1,i={name:a,targetScope:g,stopPropagation:function(){h=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},k=R([i],arguments,1);do{for(c=g.$$listeners[a]||f,i.currentScope=g,d=0,e=c.length;e>d;d++)if(c[d])try{c[d].apply(null,k)}catch(l){j(l)}else c.splice(d,1),d--,e--;if(h)return i.currentScope=null,i;g=g.$parent}while(g);return i.currentScope=null,i},$broadcast:function(a,b){var c=this,d=c,e=c,f={name:a,targetScope:c,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return f;for(var g,h,i,k=R([f],arguments,1);d=e;){for(f.currentScope=d,g=d.$$listeners[a]||[],h=0,i=g.length;i>h;h++)if(g[h])try{g[h].apply(null,k)}catch(l){j(l)}else g.splice(h,1),h--,i--;if(!(e=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling))for(;d!==c&&!(e=d.$$nextSibling);)d=d.$parent}return f.currentScope=null,f}};var z=new o,B=z.$$asyncQueue=[],C=z.$$postDigestQueue=[],D=z.$$applyAsyncQueue=[];return z}]}function tc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Cc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function uc(a){if("self"===a)return a;if(x(a)){if(a.indexOf("***")>-1)throw nf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Ud(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(B(a))return new RegExp("^"+a.source+"$");throw nf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function vc(a){var b=[];return u(a)&&f(a,function(a){b.push(uc(a))}),b}function wc(){this.SCE_CONTEXTS=of;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=vc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=vc(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Dc(b):!!a.exec(b.href)}function e(c){var e,f,g=Cc(c.toString()),h=!1;for(e=0,f=a.length;f>e;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;f>e;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw nf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||t(b)||""===b)return b;if("string"!=typeof b)throw nf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||t(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===of.RESOURCE_URL){if(e(b))return b;throw nf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===of.HTML)return j(b);throw nf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw nf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[of.HTML]=f(k),l[of.CSS]=f(k),l[of.URL]=f(k),l[of.JS]=f(k),l[of.RESOURCE_URL]=f(l[of.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function xc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>Ed)throw nf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=P(of);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=q),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(of,function(a,b){var c=zd(b);d[wa("parse_as_"+c)]=function(b){return e(a,b)},d[wa("get_trusted_"+c)]=function(b){return g(a,b)},d[wa("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function yc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=n((/android (\d+)/.exec(zd((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=/^(Moz|webkit|ms)(?=[A-Z])/,j=h.body&&h.body.style,k=!1,l=!1;if(j){for(var m in j)if(d=i.exec(m)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in j&&"webkit"),k=!!("transition"in j||c+"Transition"in j),l=!!("animation"in j||c+"Animation"in j),!f||k&&l||(k=x(j.webkitTransition),l=x(j.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hasEvent:function(a){if("input"===a&&11>=Ed)return!1;if(t(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:Vd(),vendorPrefix:c,transitions:k,animations:l,android:f}}]}function zc(){this.$get=["$templateCache","$http","$q","$sce",function(a,b,c,d){function e(f,g){function h(a){if(!g)throw Ne("tpload","Failed to load template: {0} (HTTP status: {1} {2})",f,a.status,a.statusText);return c.reject(a)}e.totalPendingRequests++,(!x(f)||t(a.get(f)))&&(f=d.getTrustedResourceUrl(f));var i=b.defaults&&b.defaults.transformResponse;Rd(i)?i=i.filter(function(a){return a!==wb}):i===wb&&(i=null);var j={cache:a,transformResponse:i};return b.get(f,j)["finally"](function(){e.totalPendingRequests--}).then(function(b){return a.put(f,b.data),b.data},h)}return e.totalPendingRequests=0,e}]}function Ac(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=Od.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+Ud(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!=d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function Bc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){A(f)||(i=h,h=f,f=p);var j,k=S(arguments,3),l=u(i)&&!i,m=(l?d:c).defer(),n=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(b){m.reject(b),e(b)}finally{delete g[n.$$timeoutId]}l||a.$apply()},h),n.$$timeoutId=j,g[j]=m,n}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function Cc(a){var b=a;return Ed&&(pf.setAttribute("href",b),b=pf.href),pf.setAttribute("href",b),{href:pf.href,protocol:pf.protocol?pf.protocol.replace(/:$/,""):"",host:pf.host,search:pf.search?pf.search.replace(/^\?/,""):"",hash:pf.hash?pf.hash.replace(/^#/,""):"",hostname:pf.hostname,port:pf.port,pathname:"/"===pf.pathname.charAt(0)?pf.pathname:"/"+pf.pathname}}function Dc(a){var b=x(a)?Cc(a):a;return b.protocol===qf.protocol&&b.host===qf.host}function Ec(){this.$get=r(a)}function Fc(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i,j=c.cookie||"";if(j!==e)for(e=j,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],h=f.indexOf("="),h>0&&(i=b(f.substring(0,h)),t(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function Gc(){this.$get=Fc}function Hc(a){function b(d,e){if(v(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Mc),b("date",_c),b("filter",Ic),b("json",ad),b("limitTo",bd),b("lowercase",xf),b("number",Nc),b("orderBy",cd),b("uppercase",yf)}function Ic(){return function(a,b,c){if(!e(a)){if(null==a)return a;throw d("filter")("notarray","Expected array but received: {0}",a)}var f,g,h=Lc(b);switch(h){case"function":f=b;break;case"boolean":case"null":case"number":case"string":g=!0;case"object":f=Jc(b,c,g);break;default:return a}return Array.prototype.filter.call(a,f)}}function Jc(a,b,c){var d,e=v(a)&&"$"in a;return b===!0?b=Q:A(b)||(b=function(a,b){return t(a)?!1:null===a||null===b?a===b:v(b)||v(a)&&!s(a)?!1:(a=zd(""+a),b=zd(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!v(d)?Kc(d,a.$,b,!1):Kc(d,a,b,c)}}function Kc(a,b,c,d,e){var f=Lc(a),g=Lc(b);if("string"===g&&"!"===b.charAt(0))return!Kc(a,b.substring(1),c,d);if(Rd(a))return a.some(function(a){return Kc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Kc(a[h],b,c,!0))return!0;return e?!1:Kc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!A(i)&&!t(i)){var j="$"===h,k=j?a:a[h];if(!Kc(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Lc(a){return null===a?"null":typeof a}function Mc(a){var b=a.NUMBER_FORMATS;
return function(a,c,d){return t(c)&&(c=b.CURRENCY_SYM),t(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Qc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Nc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Qc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Oc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(sf))>-1&&(a=a.replace(sf,"")),(d=a.search(/e/i))>0?(0>c&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):0>c&&(c=a.length),d=0;a.charAt(d)==tf;d++);if(d==(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)==tf;)f--;for(c-=d,b=[],e=0;f>=d;d++,e++)b[e]=+a.charAt(d)}return c>rf&&(b=b.splice(0,rf-1),g=c-1,c=1),{d:b,e:g,i:c}}function Pc(a,b,c,d){var e=a.d,f=e.length-a.i;b=t(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0)e.splice(g);else{a.i=1,e.length=g=b+1;for(var i=0;g>i;i++)e[i]=0}for(h>=5&&e[g-1]++;b>f;f++)e.push(0);var j=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);j&&(e.unshift(j),a.i++)}function Qc(a,b,c,d,e){if(!x(a)&&!y(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="∞";else{f=Oc(i),Pc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);0>l;)k.unshift(0),l++;l>0?n=k.splice(l,k.length):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return 0>a&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Rc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a=tf+a;return c&&(a=a.substr(a.length-b)),d+a}function Sc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Rc(f,b,d)}}function Tc(a,b){return function(c,d){var e=c["get"+a](),f=Bd(b?"SHORT"+a:a);return d[f][e]}}function Uc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Rc(Math[d>0?"floor":"ceil"](d/60),2)+Rc(Math.abs(d%60),2)}function Vc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Wc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function Xc(a){return function(b){var c=Vc(b.getFullYear()),d=Wc(b),e=+d-+c,f=1+Math.round(e/6048e5);return Rc(f,a)}}function Yc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Zc(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function $c(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function _c(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=n(b[9]+b[10]),f=n(b[9]+b[11])),g.call(d,n(b[1]),n(b[2])-1,n(b[3]));var i=n(b[4]||0)-e,j=n(b[5]||0)-f,k=n(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,x(c)&&(c=wf.test(c)?n(c):b(c)),y(c)&&(c=new Date(c)),!z(c)||!isFinite(c.getTime()))return c;for(;d;)h=vf.exec(d),h?(j=R(j,h,1),d=j.pop()):(j.push(d),d=null);var k=c.getTimezoneOffset();return e&&(k=X(e,k),c=Z(c,e,!0)),f(j,function(b){g=uf[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function ad(){return function(a,b){return t(b)&&(b=2),V(a,b)}}function bd(){return function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):n(b),isNaN(b)?a:(y(a)&&(a=a.toString()),Rd(a)||x(a)?(c=!c||isNaN(c)?0:n(c),c=0>c?Math.max(0,a.length+c):c,b>=0?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function cd(a){function b(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=q;if(A(b))e=b;else if(x(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(d="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(e=a(b),e.constant))){var f=e();e=function(a){return a[f]}}return{get:e,descending:d*c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function d(a,b){return"function"==typeof a.valueOf&&(a=a.valueOf(),c(a))?a:s(a)&&(a=a.toString(),c(a))?a:b}function f(a,b){var c=typeof a;return null===a?(c="string",a="null"):"string"===c?a=a.toLowerCase():"object"===c&&(a=d(a,b)),{value:a,type:c}}function g(a,b){var c=0;return a.type===b.type?a.value!==b.value&&(c=a.value<b.value?-1:1):c=a.type<b.type?-1:1,c}return function(a,c,d){function h(a,b){return{value:a,predicateValues:j.map(function(c){return f(c.get(a),b)})}}function i(a,b){for(var c=0,d=0,e=j.length;e>d&&!(c=g(a.predicateValues[d],b.predicateValues[d])*j[d].descending);++d);return c}if(!e(a))return a;Rd(c)||(c=[c]),0===c.length&&(c=["+"]);var j=b(c,d);j.push({get:function(){return{}},descending:d?-1:1});var k=Array.prototype.map.call(a,h);return k.sort(i),a=k.map(function(a){return a.value})}}function dd(a){return A(a)&&(a={link:a}),a.restrict=a.restrict||"AC",r(a)}function ed(a,b){a.$name=b}function fd(a,b,d,e,g){var h=this,i=[];h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,h.$$parentForm=Bf,h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){na(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a),a.$$parentForm=h},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),N(i,a),a.$$parentForm=Bf},ud({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(N(d,c),0===d.length&&delete a[b])},$animate:e}),h.$setDirty=function(){e.removeClass(a,lg),e.addClass(a,mg),h.$dirty=!0,h.$pristine=!1,h.$$parentForm.$setDirty()},h.$setPristine=function(){e.setClass(a,lg,mg+" "+Cf),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,Cf),h.$submitted=!0,h.$$parentForm.$setSubmitted()}}function gd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function hd(a,b,c,d,e,f){id(a,b,c,d,e,f),gd(d)}function id(a,b,c,d,e,f){var g=zd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Td(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",j),Qf[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(Pf,function(a){if(!i){var b=this[yd],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,(b.badInput!==c||b.typeMismatch!==d)&&j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function jd(a,b){if(z(a))return a;if(x(a)){Mf.lastIndex=0;var c=Mf.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Vc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function kd(a,b){return function(c,d){var e,g;if(z(c))return c;if(x(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Gf.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function ld(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return u(a)&&!z(a)?d(a)||c:a}md(f,g,h,i),id(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,o);return p&&(e=Z(e,p)),e}return c}),i.$formatters.push(function(a){if(a&&!z(a))throw qg("datefmt","Expected `{0}` to be a date",a);return m(a)?(o=a,o&&p&&(o=Z(o,p,!0)),l("date")(a,e,p)):(o=null,"")}),u(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||t(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(u(h.max)||h.ngMax){var r;i.$validators.max=function(a){return!m(a)||t(r)||d(a)<=r},h.$observe("max",function(a){r=n(a),i.$validate()})}}}function md(a,b,d,e){var f=b[0],g=e.$$hasNativeValidators=v(f.validity);g&&e.$parsers.push(function(a){var d=b.prop(yd)||{};return d.badInput&&!d.typeMismatch?c:a})}function nd(a,b,d,e,f,g){if(md(a,b,d,e),id(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:Jf.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!y(a))throw qg("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),u(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||t(h)||a>=h},d.$observe("min",function(a){u(a)&&!y(a)&&(a=parseFloat(a,10)),h=y(a)&&!isNaN(a)?a:c,e.$validate()})}if(u(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||t(i)||i>=a},d.$observe("max",function(a){u(a)&&!y(a)&&(a=parseFloat(a,10)),i=y(a)&&!isNaN(a)?a:c,e.$validate()})}}function od(a,b,c,d,e,f){id(a,b,c,d,e,f),gd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Hf.test(c)}}function pd(a,b,c,d,e,f){id(a,b,c,d,e,f),gd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||If.test(c)}}function qd(a,b,c,d){t(c.name)&&b.attr("name",i());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function rd(a,b,c,d,e){var f;if(u(d)){if(f=a(d),!f.constant)throw qg("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function sd(a,b,c,d,e,f,g,h){var i=rd(h,a,"ngTrueValue",c.ngTrueValue,!0),j=rd(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return Q(a,i)}),d.$parsers.push(function(a){return a?i:j})}function td(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){var b=[];return Rd(a)?(f(a,function(a){b=b.concat(e(a))}),b):x(a)?a.split(" "):v(a)?(f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||qa(),d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(h,e),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!Q(a,o)){var d=e(o);m(d,c)}}else j(c)}o=Rd(a)?a.map(function(a){return P(a)}):P(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}function ud(a){function b(a,b,i){t(b)?d("$pending",a,i):e("$pending",a,i),H(b)?b?(l(h.$error,a,i),k(h.$$success,a,i)):(k(h.$error,a,i),l(h.$$success,a,i)):(l(h.$error,a,i),l(h.$$success,a,i)),h.$pending?(f(pg,!0),h.$valid=h.$invalid=c,g("",null)):(f(pg,!1),h.$valid=vd(h.$error),h.$invalid=!h.$valid,g("",h.$valid));var j;j=h.$pending&&h.$pending[a]?c:h.$error[a]?!1:h.$$success[a]?!0:null,g(a,j),h.$$parentForm.$setValidity(a,j,h)}function d(a,b,c){h[a]||(h[a]={}),k(h[a],b,c)}function e(a,b,d){h[a]&&l(h[a],b,d),vd(h[a])&&(h[a]=c)}function f(a,b){b&&!j[a]?(m.addClass(i,a),j[a]=!0):!b&&j[a]&&(m.removeClass(i,a),j[a]=!1)}function g(a,b){a=a?"-"+ja(a,"-"):"",f(jg+a,b===!0),f(kg+a,b===!1)}var h=a.ctrl,i=a.$element,j={},k=a.set,l=a.unset,m=a.$animate;j[kg]=!(j[jg]=i.hasClass(jg)),h.$setValidity=b}function vd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function wd(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}var xd=/^\/(.+)\/([a-z]*)$/,yd="validity",zd=function(a){return x(a)?a.toLowerCase():a},Ad=Object.prototype.hasOwnProperty,Bd=function(a){return x(a)?a.toUpperCase():a},Cd=function(a){return x(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Dd=function(a){return x(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(zd=Cd,Bd=Dd);var Ed,Fd,Gd,Hd,Id=[].slice,Jd=[].splice,Kd=[].push,Ld=Object.prototype.toString,Md=Object.getPrototypeOf,Nd=d("ng"),Od=a.angular||(a.angular={}),Pd=0;Ed=b.documentMode,p.$inject=[],q.$inject=[];var Qd,Rd=Array.isArray,Sd=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Td=function(a){return x(a)?a.trim():a},Ud=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Vd=function(){function a(){try{return new Function(""),!1}catch(a){return!0}}if(!u(Vd.rules)){var c=b.querySelector("[ng-csp]")||b.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");Vd.rules={noUnsafeEval:!d||-1!==d.indexOf("no-unsafe-eval"),noInlineStyle:!d||-1!==d.indexOf("no-inline-style")}}else Vd.rules={noUnsafeEval:a(),noInlineStyle:!1}}return Vd.rules},Wd=function(){if(u(Wd.name_))return Wd.name_;var a,c,d,e,f=Yd.length;for(c=0;f>c;++c)if(d=Yd[c],a=b.querySelector("["+d.replace(":","\\:")+"jq]")){e=a.getAttribute(d+"jq");break}return Wd.name_=e},Xd=/:/g,Yd=["ng-","data-ng-","ng:","x-ng-"],Zd=/[A-Z]/g,$d=!1,_d=1,ae=2,be=3,ce=8,de=9,ee=11,fe={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};Da.expando="ng339";var ge=Da.cache={},he=1,ie=function(a,b,c){a.addEventListener(b,c,!1)},je=function(a,b,c){a.removeEventListener(b,c,!1)};Da._data=function(a){return this.cache[a[this.expando]]||{}};var ke=/([\:\-\_]+(.))/g,le=/^moz([A-Z])/,me={mouseleave:"mouseout",mouseenter:"mouseover"},ne=d("jqLite"),oe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pe=/<|&#?\w+;/,qe=/<([\w:-]+)/,re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,se={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td;var te=Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},ue=Da.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),Da(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Fd(a>=0?this[a]:this[this.length+a])},length:0,push:Kd,sort:[].sort,splice:[].splice},ve={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){ve[zd(a)]=a});var we={};f("input,select,option,textarea,button,form,details".split(","),function(a){we[a]=!0});var xe={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:Ja,removeData:Ha,hasData:za},function(a,b){Da[b]=a}),f({data:Ja,inheritedData:Pa,scope:function(a){return Fd.data(a,"$scope")||Pa(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Fd.data(a,"$isolateScope")||Fd.data(a,"$isolateScopeNoTemplate")},controller:Oa,injector:function(a){return Pa(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ka,css:function(a,b,c){return b=wa(b),u(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=a.nodeType;if(e!==be&&e!==ae&&e!==ce){var f=zd(b);if(ve[f]){if(!u(d))return a[b]||(a.attributes.getNamedItem(b)||p).specified?f:c;d?(a[b]=!0,a.setAttribute(b,f)):(a[b]=!1,a.removeAttribute(f))}else if(u(d))a.setAttribute(b,d);else if(a.getAttribute){var g=a.getAttribute(b,2);return null===g?c:g}}},prop:function(a,b,c){return u(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(t(b)){var c=a.nodeType;return c===_d||c===be?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(t(b)){if(a.multiple&&"select"===M(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return t(b)?a.innerHTML:(Fa(a,!0),void(a.innerHTML=b))},empty:Qa},function(a,b){Da.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Qa&&t(2==a.length&&a!==Ka&&a!==Oa?b:c)){if(v(b)){for(d=0;f>d;d++)if(a===Ja)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=t(g)?Math.min(f,1):f,i=0;h>i;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;f>d;d++)a(this[d],b,c);return this}}),f({removeData:Ha,on:function(a,b,d,e){if(u(e))throw ne("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ya(a)){var f=Ia(a,!0),g=f.events,h=f.handle;h||(h=f.handle=Va(a,g));for(var i=b.indexOf(" ")>=0?b.split(" "):[b],j=i.length,k=function(b,c,e){var f=g[b];f||(f=g[b]=[],f.specialHandlerWrapper=c,"$destroy"===b||e||ie(a,b,h)),f.push(d)};j--;)b=i[j],me[b]?(k(me[b],Xa),k(b,c,!0)):k(b)}},off:Ga,one:function(a,b,c){a=Fd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;Fa(a),f(new Da(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===_d&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===_d||c===ee){b=new Da(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===_d){var c=a.firstChild;f(new Da(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Ca(a,Fd(b).eq(0).clone()[0])},remove:Ra,detach:function(a){Ra(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Da(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Ma,removeClass:La,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;t(d)&&(d=!Ka(a,b)),(d?Ma:La)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==ee?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ea,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=Ia(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:h,target:a},b.type&&(d=l(d,b)),e=P(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Da.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)t(e)?(e=a(this[f],b,c,d),u(e)&&(e=Fd(e))):Na(e,a(this[f],b,c,d));return u(e)?e:this},Da.prototype.bind=Da.prototype.on,Da.prototype.unbind=Da.prototype.off}),$a.prototype={put:function(a,b){this[Za(a,this.nextUid)]=b},get:function(a){return this[Za(a,this.nextUid)]},remove:function(a){var b=this[a=Za(a,this.nextUid)];return delete this[a],b}};var ye=[function(){this.$get=[function(){return $a}]}],ze=/^[^\(]*\(\s*([^\)]*)\)/m,Ae=/,/,Be=/^\s*(_?)(\S+?)\1\s*$/,Ce=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,De=d("$injector");bb.$$annotate=ab;var Ee=d("$animate"),Fe=1,Ge="ng-animate",He=function(){this.$get=function(){}},Ie=function(){var a=new $a,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(a,b,c){var d=!1;return b&&(b=x(b)?b.split(" "):Rd(b)?b:[],f(b,function(b){b&&(d=!0,a[b]=c)})),d}function g(){f(b,function(b){var c=a.get(b);if(c){var d=fb(b.attr("class")),e="",g="";f(c,function(a,b){var c=!!d[b];a!==c&&(a?e+=(e.length?" ":"")+b:g+=(g.length?" ":"")+b)}),f(b,function(a){e&&Ma(a,e),g&&La(a,g)}),a.remove(b)}}),b.length=0}function h(c,f,h){var i=a.get(c)||{},j=e(i,f,!0),k=e(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&d.$$postDigest(g))}return{enabled:p,on:p,off:p,pin:p,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},Je=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw Ee("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+Ge+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw Ee("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ge)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=eb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Fd(d),e=e&&Fd(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",gb(f))},move:function(c,d,e,f){return d=d&&Fd(d),e=e&&Fd(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",gb(f))},leave:function(b,c){return a.push(b,"leave",gb(c),function(){b.remove()})},addClass:function(b,c,d){return d=gb(d),d.addClass=db(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=gb(d),d.removeClass=db(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=gb(e),e.addClass=db(e.addClass,c),e.removeClass=db(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=gb(f),f.from=f.from?l(f.from,c):c,f.to=f.to?l(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=db(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Ke=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Le=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,d,e){function g(a){this.setHost(a);var b=c(),f=function(a){e(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=d[0];c&&c.hidden?f(a):b(a)},this._state=0}var h=0,i=1,j=2;return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){e=e&&c,++d===a.length&&b(e)}var d=0,e=!0;f(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===j?a():this._doneCallbacks.push(a)},progress:p,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===h&&(b._state=i,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==j&&(f(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=j)}},g}]},Me=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=O(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},Ne=d("$compile");lb.$inject=["$provide","$$sanitizeUriProvider"];var Oe=/^((?:x|data)[\:\-_])/i,Pe=d("$controller"),Qe=/^(\S+)(\s+as\s+([\w$]+))?$/,Re=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Fd&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Se="application/json",Te={"Content-Type":Se+";charset=utf-8"},Ue=/^\[|^\{(?!\{)/,Ve={"[":/]$/,"{":/}$/},We=/^\)\]\}',?\n/,Xe=d("$http"),Ye=function(a){return function(){throw Xe("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},Ze=Od.$interpolateMinErr=d("$interpolate");Ze.throwNoconcat=function(a){throw Ze("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},Ze.interr=function(a,b){return Ze("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var $e=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,_e={http:80,https:443,ftp:21},af=d("$location"),bf={$$html5:!1,$$replace:!1,absUrl:Tb("$$absUrl"),url:function(a){if(t(a))return this.$$url;var b=$e.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Tb("$$protocol"),host:Tb("$$host"),port:Tb("$$port"),path:Ub("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a)||y(a))a=a.toString(),this.$$search=aa(a);else{if(!v(a))throw af("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=O(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:t(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Ub("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([Sb,Rb,Qb],function(a){a.prototype=Object.create(bf),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Qb||!this.$$html5)throw af("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=t(b)?null:b,this}});var cf=d("$parse"),df=Function.prototype.call,ef=Function.prototype.apply,ff=Function.prototype.bind,gf=qa();f("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){gf[a]=!0});var hf={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},jf=function(a){this.options=a};jf.prototype={constructor:jf,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=gf[b],f=gf[c],g=gf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw cf("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=zd(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=hf[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var kf=function(a,b){this.lexer=a,this.options=b};kf.Program="Program",kf.ExpressionStatement="ExpressionStatement",kf.AssignmentExpression="AssignmentExpression",kf.ConditionalExpression="ConditionalExpression",kf.LogicalExpression="LogicalExpression",kf.BinaryExpression="BinaryExpression",kf.UnaryExpression="UnaryExpression",kf.CallExpression="CallExpression",kf.MemberExpression="MemberExpression",kf.Identifier="Identifier",kf.Literal="Literal",kf.ArrayExpression="ArrayExpression",kf.Property="Property",kf.ObjectExpression="ObjectExpression",kf.ThisExpression="ThisExpression",kf.NGValueParameter="NGValueParameter",kf.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:kf.Program,body:a}},expressionStatement:function(){return{type:kf.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:kf.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:kf.ConditionalExpression,test:c,
alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:kf.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:kf.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:kf.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:kf.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:kf.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:kf.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:kf.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=O(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:kf.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:kf.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:kf.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:kf.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:kf.Identifier,name:a.text}},constant:function(){return{type:kf.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:kf.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:kf.Property,kind:"init"},this.peek().constant?a.key=this.constant():this.peek().identifier?a.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),a.value=this.expression(),b.push(a)}while(this.expect(","));return this.consume("}"),{type:kf.ObjectExpression,properties:b}},throwError:function(a,b){throw cf("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw cf("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw cf("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},constants:{"true":{type:kf.Literal,value:!0},"false":{type:kf.Literal,value:!1},"null":{type:kf.Literal,value:null},undefined:{type:kf.Literal,value:c},"this":{type:kf.ThisExpression}}},jc.prototype={compile:function(a,b){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},dc(e,d.$filter);var g,h="";if(this.stage="assign",g=gc(e)){this.state.computing="assign";var i=this.nextId();this.recurse(g,i),this.return_(i),h="fn.assign="+this.generateFunction("assign","s,v,l")}var j=ec(e.body);d.stage="inputs",f(j,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var k='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+h+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",k)(this.$filter,Xb,Zb,$b,Yb,_b,ac,bc,a);return this.state=this.stage=c,l.literal=hc(e),l.constant=ic(e),l},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return f(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return f(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,e,g,h){var i,j,k,l,m=this;if(e=e||p,!h&&u(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,e,g,!0));switch(a.type){case kf.Program:f(a.body,function(b,d){m.recurse(b.expression,c,c,function(a){j=a}),d!==a.body.length-1?m.current().body.push(j,";"):m.return_(j)});break;case kf.Literal:l=this.escape(a.value),this.assign(b,l),e(l);break;case kf.UnaryExpression:this.recurse(a.argument,c,c,function(a){j=a}),l=a.operator+"("+this.ifDefined(j,0)+")",this.assign(b,l),e(l);break;case kf.BinaryExpression:this.recurse(a.left,c,c,function(a){i=a}),this.recurse(a.right,c,c,function(a){j=a}),l="+"===a.operator?this.plus(i,j):"-"===a.operator?this.ifDefined(i,0)+a.operator+this.ifDefined(j,0):"("+i+")"+a.operator+"("+j+")",this.assign(b,l),e(l);break;case kf.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case kf.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case kf.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Xb(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){g&&1!==g&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||lc(a.name))&&m.addEnsureSafeObject(b),e(b);break;case kf.MemberExpression:i=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,i,c,function(){m.if_(m.notNull(i),function(){g&&1!==g&&m.addEnsureSafeAssignContext(i),a.computed?(j=m.nextId(),m.recurse(a.property,j),m.getStringValue(j),m.addEnsureSafeMemberName(j),g&&1!==g&&m.if_(m.not(m.computedMember(i,j)),m.lazyAssign(m.computedMember(i,j),"{}")),l=m.ensureSafeObject(m.computedMember(i,j)),m.assign(b,l),d&&(d.computed=!0,d.name=j)):(Xb(a.property.name),g&&1!==g&&m.if_(m.not(m.nonComputedMember(i,a.property.name)),m.lazyAssign(m.nonComputedMember(i,a.property.name),"{}")),l=m.nonComputedMember(i,a.property.name),(m.state.expensiveChecks||lc(a.property.name))&&(l=m.ensureSafeObject(l)),m.assign(b,l),d&&(d.computed=!1,d.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!g);break;case kf.CallExpression:b=b||this.nextId(),a.filter?(j=m.filter(a.callee.name),k=[],f(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),k.push(b)}),l=j+"("+k.join(",")+")",m.assign(b,l),e(b)):(j=m.nextId(),i={},k=[],m.recurse(a.callee,j,i,function(){m.if_(m.notNull(j),function(){m.addEnsureSafeFunction(j),f(a.arguments,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(m.ensureSafeObject(a))})}),i.name?(m.state.expensiveChecks||m.addEnsureSafeObject(i.context),l=m.member(i.context,i.name,i.computed)+"("+k.join(",")+")"):l=j+"("+k.join(",")+")",l=m.ensureSafeObject(l),m.assign(b,l)},function(){m.assign(b,"undefined")}),e(b)}));break;case kf.AssignmentExpression:if(j=this.nextId(),i={},!fc(a.left))throw cf("lval","Trying to assign a value to a non l-value");this.recurse(a.left,c,i,function(){m.if_(m.notNull(i.context),function(){m.recurse(a.right,j),m.addEnsureSafeObject(m.member(i.context,i.name,i.computed)),m.addEnsureSafeAssignContext(i.context),l=m.member(i.context,i.name,i.computed)+a.operator+j,m.assign(b,l),e(b||l)})},1);break;case kf.ArrayExpression:k=[],f(a.elements,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(a)})}),l="["+k.join(",")+"]",this.assign(b,l),e(l);break;case kf.ObjectExpression:k=[],f(a.properties,function(a){m.recurse(a.value,m.nextId(),c,function(b){k.push(m.escape(a.key.type===kf.Identifier?a.key.name:""+a.key.value)+":"+b)})}),l="{"+k.join(",")+"}",this.assign(b,l),e(l);break;case kf.ThisExpression:this.assign(b,"s"),e("s");break;case kf.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+",text)")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(x(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(y(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw cf("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},kc.prototype={compile:function(a,b){var c=this,d=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,dc(d,c.$filter);var e,g;(e=gc(d))&&(g=this.recurse(e));var h,i=ec(d.body);i&&(h=[],f(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];f(d.body,function(a){j.push(c.recurse(a.expression))});var k=0===d.body.length?function(){}:1===d.body.length?j[0]:function(a,b){var c;return f(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=hc(d),k.constant=ic(d),k},recurse:function(a,b,d){var e,g,h,i=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case kf.Literal:return this.value(a.value,b);case kf.UnaryExpression:return g=this.recurse(a.argument),this["unary"+a.operator](g,b);case kf.BinaryExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case kf.LogicalExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case kf.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case kf.Identifier:return Xb(a.name,i.expression),i.identifier(a.name,i.expensiveChecks||lc(a.name),b,d,i.expression);case kf.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||(Xb(a.property.name,i.expression),g=a.property.name),a.computed&&(g=this.recurse(a.property)),a.computed?this.computedMember(e,g,b,d,i.expression):this.nonComputedMember(e,g,i.expensiveChecks,b,d,i.expression);case kf.CallExpression:return h=[],f(a.arguments,function(a){h.push(i.recurse(a))}),a.filter&&(g=this.$filter(a.callee.name)),a.filter||(g=this.recurse(a.callee,!0)),a.filter?function(a,d,e,f){for(var i=[],j=0;j<h.length;++j)i.push(h[j](a,d,e,f));var k=g.apply(c,i,f);return b?{context:c,name:c,value:k}:k}:function(a,c,d,e){var f,j=g(a,c,d,e);if(null!=j.value){Zb(j.context,i.expression),$b(j.value,i.expression);for(var k=[],l=0;l<h.length;++l)k.push(Zb(h[l](a,c,d,e),i.expression));f=Zb(j.value.apply(j.context,k),i.expression)}return b?{value:f}:f};case kf.AssignmentExpression:return e=this.recurse(a.left,!0,1),g=this.recurse(a.right),function(a,c,d,f){var h=e(a,c,d,f),j=g(a,c,d,f);return Zb(h.value,i.expression),_b(h.context),h.context[h.name]=j,b?{value:j}:j};case kf.ArrayExpression:return h=[],f(a.elements,function(a){h.push(i.recurse(a))}),function(a,c,d,e){for(var f=[],g=0;g<h.length;++g)f.push(h[g](a,c,d,e));return b?{value:f}:f};case kf.ObjectExpression:return h=[],f(a.properties,function(a){h.push({key:a.key.type===kf.Identifier?a.key.name:""+a.key.value,value:i.recurse(a.value)})}),function(a,c,d,e){for(var f={},g=0;g<h.length;++g)f[h[g].key]=h[g].value(a,c,d,e);return b?{value:f}:f};case kf.ThisExpression:return function(a){return b?{value:a}:a};case kf.NGValueParameter:return function(a,c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=bc(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(u(h)?h:0)-(u(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:c,name:c,value:a}:a}},identifier:function(a,b,d,e,f){return function(g,h,i,j){var k=h&&a in h?h:g;e&&1!==e&&k&&!k[a]&&(k[a]={});var l=k?k[a]:c;return b&&Zb(l,f),d?{context:k,name:a,value:l}:l}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=Yb(j),Xb(j,e),d&&1!==d&&(_b(l),l&&!l[j]&&(l[j]={})),k=l[j],Zb(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,d,e,f,g){return function(h,i,j,k){var l=a(h,i,j,k);f&&1!==f&&(_b(l),l&&!l[b]&&(l[b]={}));var m=null!=l?l[b]:c;return(d||lc(b))&&Zb(m,g),e?{context:l,name:b,value:m}:m}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var lf=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new kf(this.lexer),this.astCompiler=c.csp?new kc(this.ast,b):new jc(this.ast,b)};lf.prototype={constructor:lf,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var mf=Object.prototype.valueOf,nf=d("$sce"),of={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ne=d("$compile"),pf=b.createElement("a"),qf=Cc(a.location.href);Fc.$inject=["$document"],Hc.$inject=["$provide"];var rf=22,sf=".",tf="0";Mc.$inject=["$locale"],Nc.$inject=["$locale"];var uf={yyyy:Sc("FullYear",4),yy:Sc("FullYear",2,0,!0),y:Sc("FullYear",1),MMMM:Tc("Month"),MMM:Tc("Month",!0),MM:Sc("Month",2,1),M:Sc("Month",1,1),dd:Sc("Date",2),d:Sc("Date",1),HH:Sc("Hours",2),H:Sc("Hours",1),hh:Sc("Hours",2,-12),h:Sc("Hours",1,-12),mm:Sc("Minutes",2),m:Sc("Minutes",1),ss:Sc("Seconds",2),s:Sc("Seconds",1),sss:Sc("Milliseconds",3),EEEE:Tc("Day"),EEE:Tc("Day",!0),a:Yc,Z:Uc,ww:Xc(2),w:Xc(1),G:Zc,GG:Zc,GGG:Zc,GGGG:$c},vf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,wf=/^\-?\d+$/;_c.$inject=["$locale"];var xf=r(zd),yf=r(Bd);cd.$inject=["$parse"];var zf=r({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Ld.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Af={};f(ve,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=mb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),Af[d]=function(){return{restrict:"A",priority:100,link:e}}}}),f(xe,function(a,b){Af[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(xd);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=mb("ng-"+a);Af[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Ld.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Ed&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Bf={$addControl:p,$$renameControl:ed,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Cf="ng-submitted";fd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Df=function(a){return["$timeout","$parse",function(b,d){function e(a){return""===a?d('this[""]').assign:d(a).assign||p}var f={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:fd,compile:function(d,f){d.addClass(lg).addClass(jg);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,f,h){var i=h[0];if(!("action"in f)){var j=function(b){a.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),b.preventDefault()};ie(d[0],"submit",j),d.on("$destroy",function(){b(function(){je(d[0],"submit",j)},0,!1)})}var k=h[1]||i.$$parentForm;k.$addControl(i);var m=g?e(i.$name):p;g&&(m(a,i),f.$observe(g,function(b){i.$name!==b&&(m(a,c),i.$$parentForm.$$renameControl(i,b),(m=e(i.$name))(a,i))})),d.on("$destroy",function(){i.$$parentForm.$removeControl(i),m(a,c),l(i,Bf)})}}}};return f}]},Ef=Df(),Ff=Df(!0),Gf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Hf=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,If=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Jf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Kf=/^(\d{4})-(\d{2})-(\d{2})$/,Lf=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Mf=/^(\d{4})-W(\d\d)$/,Nf=/^(\d{4})-(\d\d)$/,Of=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Pf="keydown wheel mousedown",Qf=qa();f("date,datetime-local,month,time,week".split(","),function(a){Qf[a]=!0});var Rf={text:hd,date:ld("date",Kf,kd(Kf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ld("datetimelocal",Lf,kd(Lf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ld("time",Of,kd(Of,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ld("week",Mf,jd,"yyyy-Www"),month:ld("month",Nf,kd(Nf,["yyyy","MM"]),"yyyy-MM"),number:nd,url:od,email:pd,radio:qd,checkbox:sd,hidden:p,button:p,submit:p,reset:p,file:p},Sf=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Rf[zd(g.type)]||Rf.text)(e,f,g,h[0],b,a,c,d)}}}}],Tf=/^(true|false|\d+)$/,Uf=function(){return{restrict:"A",priority:100,compile:function(a,b){return Tf.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Vf=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=t(a)?"":a})}}}}],Wf=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=t(a)?"":a})}}}}],Xf=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){var c=f(b);d.html(a.getTrustedHtml(c)||"")})}}}}],Yf=r({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Zf=td("",!0),$f=td("Odd",0),_f=td("Even",1),ag=dd({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),bg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],cg={},dg={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=mb("ng-"+a);cg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};dg[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var eg=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=pa(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],fg=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Od.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!u(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],gg=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return/SVG/.test(d[0].toString())?(d.empty(),void a(Aa(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],hg=dd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),ig=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?Td(g):g,j=function(a){if(!t(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?Td(a):a)}),b}};e.$parsers.push(j),e.$formatters.push(function(a){return Rd(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},jg="ng-valid",kg="ng-invalid",lg="ng-pristine",mg="ng-dirty",ng="ng-untouched",og="ng-touched",pg="ng-pending",qg=d("ngModel"),rg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a),this.$$parentForm=Bf;var m,n=g(d.ngModel),o=n.assign,q=n,r=o,s=null,v=this;this.$$setOptions=function(a){if(v.$options=a,a&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");q=function(a){var c=n(a);return A(c)&&(c=b(a)),c},r=function(a,b){A(n(a))?c(a,{$$$p:v.$modelValue}):o(a,v.$modelValue)}}else if(!n.assign)throw qg("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,$(e))},this.$render=p,this.$isEmpty=function(a){return t(a)||""===a||null===a||a!==a};var w=0;ud({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:h}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,h.removeClass(e,mg),h.addClass(e,lg)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,h.removeClass(e,lg),h.addClass(e,mg),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,h.setClass(e,ng,og)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,h.setClass(e,og,ng)},this.$rollbackViewValue=function(){i.cancel(s),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!y(v.$modelValue)||!isNaN(v.$modelValue)){var a=v.$$lastCommittedViewValue,b=v.$$rawModelValue,d=v.$valid,e=v.$modelValue,f=v.$options&&v.$options.allowInvalid;v.$$runValidators(b,a,function(a){f||d===a||(v.$modelValue=a?b:c,v.$modelValue!==e&&v.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var a=v.$$parserName||"parse";return t(m)?(i(a,null),!0):(m||(f(v.$validators,function(a,b){i(b,null)}),f(v.$asyncValidators,function(a,b){i(b,null)})),i(a,m),m)}function g(){var c=!0;return f(v.$validators,function(d,e){var f=d(a,b);c=c&&f,i(e,f)}),c?!0:(f(v.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var d=[],e=!0;f(v.$asyncValidators,function(f,g){var h=f(a,b);if(!I(h))throw qg("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",h);i(g,c),d.push(h.then(function(){i(g,!0)},function(a){e=!1,i(g,!1)}))}),d.length?k.all(d).then(function(){j(e)},p):j(!0)}function i(a,b){l===w&&v.$setValidity(a,b)}function j(a){l===w&&d(a)}w++;var l=w;return e()&&g()?void h():void j(!1)},this.$commitViewValue=function(){var a=v.$viewValue;i.cancel(s),(v.$$lastCommittedViewValue!==a||""===a&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=a,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){v.$modelValue!==g&&v.$$writeModelToScope()}var d=v.$$lastCommittedViewValue,e=d;if(m=t(e)?c:!0)for(var f=0;f<v.$parsers.length;f++)if(e=v.$parsers[f](e),t(e)){m=!1;break}y(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=q(a));var g=v.$modelValue,h=v.$options&&v.$options.allowInvalid;v.$$rawModelValue=e,h&&(v.$modelValue=e,b()),v.$$runValidators(e,v.$$lastCommittedViewValue,function(a){h||(v.$modelValue=a?e:c,b())})},this.$$writeModelToScope=function(){r(a,v.$modelValue),f(v.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){v.$viewValue=a,(!v.$options||v.$options.updateOnDefault)&&v.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=v.$options;e&&u(e.debounce)&&(c=e.debounce,y(c)?d=c:y(c[b])?d=c[b]:y(c["default"])&&(d=c["default"])),i.cancel(s),d?s=i(function(){v.$commitViewValue()},d):j.$$phase?v.$commitViewValue():a.$apply(function(){v.$commitViewValue()})},a.$watch(function(){var b=q(a);if(b!==v.$modelValue&&(v.$modelValue===v.$modelValue||b===b)){v.$modelValue=v.$$rawModelValue=b,m=c;for(var d=v.$formatters,e=d.length,f=b;e--;)f=d[e](f);v.$viewValue!==f&&(v.$viewValue=v.$$lastCommittedViewValue=f,v.$render(),v.$$runValidators(b,f,p))}return b})}],sg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:rg,priority:1,compile:function(b){return b.addClass(lg).addClass(ng).addClass(jg),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],tg=/(\s+|^)default(\s+|$)/,ug=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=O(a.$eval(b.ngModelOptions)),u(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Td(this.$options.updateOn.replace(tg,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},vg=dd({terminal:!0,priority:1e3}),wg=d("ngOptions"),xg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,yg=["$compile","$parse",function(a,c){function d(a,b,d){function f(a,b,c,d,e){
this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&e(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var h=a.match(xg);if(!h)throw wg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,$(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=c(h[2]?h[1]:i),n=k&&c(k),o=n||m,p=l&&c(l),q=l?function(a,b){return p(d,b)}:function(a){return Za(a)},r=function(a,b){return q(a,x(a,b))},s=c(h[2]||h[1]),t=c(h[3]||""),u=c(h[4]||""),v=c(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:c(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;e>f;f++){var i=a===c?f:c[f],j=(a[i],x(a[i],i)),k=q(a[i],j);if(b.push(k),h[2]||h[1]){var l=s(d,j);b.push(l)}if(h[4]){var m=u(d,j);b.push(m)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],e=g(c),h=e.length,i=0;h>i;i++){var j=c===e?i:e[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new f(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?Od.copy(a.viewValue):a.viewValue}}}}}function g(b,c,e,g){function j(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function k(a,b,c,d){var e;return b&&zd(b.nodeName)===c?e=b:(e=d.cloneNode(!1),b?a.insertBefore(e,b):a.appendChild(e)),e}function l(a){for(var b;a;)b=a.nextSibling,Ra(a),a=b}function m(a){var b=p&&p[0],c=w&&w[0];if(b||c)for(;a&&(a===b||a===c||a.nodeType===ce||"option"===M(a)&&""===a.value);)a=a.nextSibling;return a}function n(){var a=x&&q.readValue();x=y.getOptions();var b={},d=c[0].firstChild;if(v&&c.prepend(p),d=m(d),x.items.forEach(function(a){var e,f,g;a.group?(e=b[a.group],e||(f=k(c[0],d,"optgroup",i),d=f.nextSibling,f.label=a.group,e=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),g=k(e.groupElement,e.currentOptionElement,"option",h),j(a,g),e.currentOptionElement=g.nextSibling):(g=k(c[0],d,"option",h),j(a,g),d=g.nextSibling)}),Object.keys(b).forEach(function(a){l(b[a].currentOptionElement)}),l(d),o.$render(),!o.$isEmpty(a)){var e=q.readValue(),f=y.trackBy||r;(f?Q(a,e):a===e)||(o.$setViewValue(e),o.$render())}}var o=g[1];if(o){for(var p,q=g[0],r=e.multiple,s=0,t=c.children(),u=t.length;u>s;s++)if(""===t[s].value){p=t.eq(s);break}var v=!!p,w=Fd(h.cloneNode(!1));w.val("?");var x,y=d(e.ngOptions,c,b),z=function(){v||c.prepend(p),c.val(""),p.prop("selected",!0),p.attr("selected",!0)},A=function(){v||p.remove()},B=function(){c.prepend(w),c.val("?"),w.prop("selected",!0),w.attr("selected",!0)},C=function(){w.remove()};r?(o.$isEmpty=function(a){return!a||0===a.length},q.writeValue=function(a){x.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=x.getOptionFromViewValue(a);b&&!b.disabled&&(b.element.selected=!0)})},q.readValue=function(){var a=c.val()||[],b=[];return f(a,function(a){var c=x.selectValueMap[a];c&&!c.disabled&&b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&b.$watchCollection(function(){return Rd(o.$viewValue)?o.$viewValue.map(function(a){return y.getTrackByValue(a)}):void 0},function(){o.$render()})):(q.writeValue=function(a){var b=x.getOptionFromViewValue(a);b&&!b.disabled?(c[0].value!==b.selectValue&&(C(),A(),c[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||v?(C(),z()):(A(),B())},q.readValue=function(){var a=x.selectValueMap[c.val()];return a&&!a.disabled?(A(),C(),x.getViewValueFromOption(a)):null},y.trackBy&&b.$watch(function(){return y.getTrackByValue(o.$viewValue)},function(){o.$render()})),v?(p.remove(),a(p)(b),p.removeClass("ng-scope")):p=Fd(h.cloneNode(!1)),n(),b.$watchCollection(y.getWatchables,n)}}var h=b.createElement("option"),i=b.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=p},post:g}}}],zg=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),n=i.offset||0,o=g.$eval(m)||{},q={},r=b.startSymbol(),s=b.endSymbol(),u=r+l+"-"+n+s,v=Od.noop;f(i,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+zd(c[2]);o[d]=h.attr(i.$attr[b])}}),f(o,function(a,c){q[c]=b(a.replace(d,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=isNaN(d);if(e||d in o||(d=a.pluralCat(d-n)),d!==k&&!(e&&y(k)&&isNaN(k))){v();var f=q[d];t(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=p,j()):v=g.$watch(f,j),k=d}})}}}],Ag=["$parse","$animate",function(a,g){var h="$$NG_REMOVED",i=d("ngRepeat"),j=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,m){var n=m.ngRepeat,o=b.createComment(" end ngRepeat: "+n+" "),p=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var q=p[1],r=p[2],s=p[3],t=p[4];if(p=q.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",q);var u=p[3]||p[1],v=p[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(s)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",s);var w,x,y,z,A={$id:Za};return t?w=a(t):(y=function(a,b){return Za(b)},z=function(a){return a}),function(a,b,d,m,p){w&&(x=function(b,c,d){return v&&(A[v]=b),A[u]=c,A.$index=d,w(a,A)});var q=qa();a.$watchCollection(r,function(d){var m,r,t,w,A,B,C,D,E,F,G,H,I=b[0],J=qa();if(s&&(a[s]=d),e(d))E=d,D=x||y;else{D=x||z,E=[];for(var K in d)Ad.call(d,K)&&"$"!==K.charAt(0)&&E.push(K)}for(w=E.length,G=new Array(w),m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],C=D(A,B,m),q[C])F=q[C],delete q[C],J[C]=F,G[m]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(q[a.id]=a)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,C,B);G[m]={id:C,scope:c,clone:c},J[C]=!0}for(var L in q){if(F=q[L],H=pa(F.clone),g.leave(H),H[0].parentNode)for(m=0,r=H.length;r>m;m++)H[m][h]=!0;F.scope.$destroy()}for(m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],F=G[m],F.scope){t=I;do t=t.nextSibling;while(t&&t[h]);k(F)!=t&&g.move(pa(F.clone),null,I),I=l(F),j(F.scope,m,u,B,v,A,w)}else p(function(a,b){F.scope=b;var c=o.cloneNode(!1);a[a.length++]=c,g.enter(a,null,I),I=c,F.clone=a,J[F.id]=F,j(F.scope,m,u,B,v,A,w)});q=J})}}}}],Bg="ng-hide",Cg="ng-hide-animate",Dg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Bg,{tempClasses:Cg})})}}}],Eg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Bg,{tempClasses:Cg})})}}}],Fg=dd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Gg=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var d,e;for(d=0,e=k.length;e>d;++d)a.cancel(k[d]);for(k.length=0,d=0,e=l.length;e>d;++d){var h=pa(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.then(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Hg=dd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Ig=dd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Jg=dd({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",$(b));f(function(a){b.empty(),b.append(a)})}}),Kg=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Lg={$setViewValue:p,$render:p},Mg=["$element","$scope","$attrs",function(a,d,e){var f=this,g=new $a;f.ngModelCtrl=Lg,f.unknownOption=Fd(b.createElement("option")),f.renderUnknownOption=function(b){var c="? "+Za(b)+" ?";f.unknownOption.val(c),a.prepend(f.unknownOption),a.val(c)},d.$on("$destroy",function(){f.renderUnknownOption=p}),f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()},f.readValue=function(){return f.removeUnknownOption(),a.val()},f.writeValue=function(b){f.hasOption(b)?(f.removeUnknownOption(),a.val(b),""===b&&f.emptyOption.prop("selected",!0)):null==b&&f.emptyOption?(f.removeUnknownOption(),a.val("")):f.renderUnknownOption(b)},f.addOption=function(a,b){if(b[0].nodeType!==ce){na(a,'"option value"'),""===a&&(f.emptyOption=b);var c=g.get(a)||0;g.put(a,c+1),f.ngModelCtrl.$render(),wd(b)}},f.removeOption=function(a){var b=g.get(a);b&&(1===b?(g.remove(a),""===a&&(f.emptyOption=c)):g.put(a,b-1))},f.hasOption=function(a){return!!g.get(a)},f.registerOption=function(a,b,c,d,e){if(d){var g;c.$observe("value",function(a){u(g)&&f.removeOption(g),g=a,f.addOption(a,b)})}else e?a.$watch(e,function(a,d){c.$set("value",a),d!==a&&f.removeOption(d),f.addOption(a,b)}):f.addOption(c.value,b);b.on("$destroy",function(){f.removeOption(c.value),f.ngModelCtrl.$render()})}}],Ng=function(){function a(a,b,c,d){var e=d[1];if(e){var g=d[0];if(g.ngModelCtrl=e,b.on("change",function(){a.$apply(function(){e.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return f(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new $a(a);f(b.find("option"),function(a){a.selected=u(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==e.$viewValue||Q(h,e.$viewValue)||(h=P(e.$viewValue),e.$render()),i=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Mg,priority:1,link:{pre:a,post:b}}},Og=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(u(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],Pg=r({restrict:"E",terminal:!1}),Qg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Rg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(x(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,$(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a,b){return f.$isEmpty(b)||t(g)||g.test(b)}}}}},Sg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=n(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Tg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=n(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void(a.console&&console.log("WARNING: Tried to load angular more than once.")):(ka(),ua(Od),Od.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function d(a,d){var e=d;c===e&&(e=Math.min(b(a),3));var f=Math.pow(10,e),g=(a*f|0)%f;return{v:e,f:g}}var e={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var c=0|a,f=d(a,b);return 1==c&&0==f.v?e.ONE:e.OTHER}})}]),void Fd(b).ready(function(){fa(b,ga)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=R({},d),u=1+q.length/3,v=!1;if(L(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),R(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(a!==!0&&a!==!1&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=O(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string}function m(){var b={array:"search"===f?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!L(c)||null==c)return q;if(c===!0||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function r(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),L(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=r(e,y,z,A);R(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return L(d)?d:!0}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return b?(N(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");
var I=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?L(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new U.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=R(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,c){function d(a){return 1===V&&W>=4?!!j.enabled(a):1===V&&W>=2?!!j.enabled():!!i}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(j)return{enter:function(a,c,f){d(a)?b.version.minor>2?j.enter(a,null,c).then(f):j.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?j.leave(a).then(c):j.leave(a,c):e.leave(a,c)}};if(i){var f=i&&i(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if((g||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(r){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;j>e;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;i>e;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(a,b){var c=b.has("$animateCss")?b.get("$animateCss"):null;return{link:function(b,d,e){function f(){d.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),c?c(d,{addClass:"in",easing:"ease",to:{height:d[0].scrollHeight+"px"}}).start()["finally"](g):a.addClass(d,"in",{to:{height:d[0].scrollHeight+"px"}}).then(g)}function g(){d.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function h(){return d.hasClass("collapse")||d.hasClass("in")?(d.css({height:d[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(c?c(d,{removeClass:"in",to:{height:"0"}}).start()["finally"](i):a.removeClass(d,"in",{to:{height:"0"}}).then(i))):i()}function i(){d.css({height:"0"}),d.removeClass("collapsing").addClass("collapse")}b.$watch(e.uibCollapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(a,b,c,d){var e=b.has("$animateCss")?b.get("$animateCss"):null;return{link:function(b,f,g){function h(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start().done(i):a.animate(f,{},{height:f[0].scrollHeight+"px"}).then(i)}function i(){f.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function j(){return f.hasClass("collapse")||f.hasClass("in")?(f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(e?e(f,{to:{height:"0"}}).start().done(k):a.animate(f,{},{height:"0"}).then(k))):k()}function k(){f.css({height:"0"}),f.removeClass("collapsing").addClass("collapse")}d||c.warn("collapse is now deprecated. Use uib-collapse instead."),b.$watch(g.collapse,function(a){a?j():h()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass,a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(a,b,c,d){d=d[0]?d[0]:d[1],a.$watch(function(){return d[c.uibAccordionTransclude]},function(a){a&&(b.find("span").html(""),b.find("span").append(a))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(a,b,c,d,e){e||d.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,c("UibAccordionController",{$scope:a,$attrs:b}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(a,b){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"},link:function(){b||a.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(a,b){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(c,d,e,f){b||a.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),f.addGroup(c),c.openClass=e.openClass||"panel-open",c.panelClass=e.panelClass,c.$watch("isOpen",function(a){d.toggleClass(c.openClass,!!a),a&&f.closeOthers(c)}),c.toggleOpen=function(a){c.isDisabled||a&&32!==a.which||(c.isOpen=!c.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(a,b){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(c,d,e,f,g){b||a.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),f.setHeading(g(c,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(a,b){return{require:"^accordionGroup",link:function(c,d,e,f){b||a.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),c.$watch(function(){return f[e.accordionTransclude]},function(a){a&&(d.find("span").html(""),d.find("span").append(a))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(a,b,c,d){a.closeable=!!b.close;var e=angular.isDefined(b.dismissOnTimeout)?c(b.dismissOnTimeout)(a.$parent):null;e&&d(function(){a.close()},parseInt(e,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(a,b,c,d,e){e||d.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,c("UibAlertController",{$scope:a,$attrs:b}))}]).directive("alert",["$log","$alertSuppressWarning",function(a,b){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){b||a.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(a,b,c,d){var e=d[0],f=d[1];b.find("input").css({display:"none"}),f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.uibBtnRadio)))},b.on(e.toggleEvent,function(){if(!c.disabled){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.uibBtnRadio)),f.$render()})}})}}}).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(a,b,c){c||b.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,a("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(a,b){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(c,d,e,f){b||a.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var g=f[0],h=f[1];d.find("input").css({display:"none"}),h.$render=function(){d.toggleClass(g.activeClass,angular.equals(h.$modelValue,c.$eval(e.btnRadio)))},d.bind(g.toggleEvent,function(){if(!e.disabled){var a=d.hasClass(g.activeClass);(!a||angular.isDefined(e.uncheckable))&&c.$apply(function(){h.$setViewValue(a?null:c.$eval(e.btnRadio)),h.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(a,b,c){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(d,e,f,g){function h(){return j(f.btnCheckboxTrue,!0)}function i(){return j(f.btnCheckboxFalse,!1)}function j(a,b){var c=d.$eval(a);return angular.isDefined(c)?c:b}c||b.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var k=g[0],l=g[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(k.activeClass,angular.equals(l.$modelValue,h()))},e.bind(k.toggleEvent,function(){f.disabled||d.$apply(function(){l.$setViewValue(e.hasClass(k.activeClass)?i():h()),l.$render()})}),e.on("keypress",function(b){f.disabled||32!==b.which||a[0].activeElement!==e[0]||d.$apply(function(){l.$setViewValue(e.hasClass(k.activeClass)?i():h()),l.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(a,b,c,d){function e(b,c,e){s||(angular.extend(b,{direction:e,active:!0}),angular.extend(m.currentSlide||{},{direction:e,active:!1}),d.enabled()&&!a.noTransition&&!a.$currentTransition&&b.$element&&m.slides.length>1&&(b.$element.data(q,b.direction),m.currentSlide&&m.currentSlide.$element&&m.currentSlide.$element.data(q,b.direction),a.$currentTransition=!0,o?d.on("addClass",b.$element,function(b,c){"close"===c&&(a.$currentTransition=null,d.off("addClass",b))}):b.$element.one("$animate:close",function(){a.$currentTransition=null})),m.currentSlide=b,r=c,g())}function f(a){if(angular.isUndefined(n[a].index))return n[a];var b;n.length;for(b=0;b<n.length;++b)if(n[b].index==a)return n[b]}function g(){h();var b=+a.interval;!isNaN(b)&&b>0&&(k=c(i,b))}function h(){k&&(c.cancel(k),k=null)}function i(){var b=+a.interval;l&&!isNaN(b)&&b>0&&n.length?a.next():a.pause()}function j(b){b.length||(a.$currentTransition=null)}var k,l,m=this,n=m.slides=a.slides=[],o=angular.version.minor>=4,p="uib-noTransition",q="uib-slideDirection",r=-1;m.currentSlide=null;var s=!1;m.select=a.select=function(b,c){var d=a.indexOfSlide(b);void 0===c&&(c=d>m.getCurrentIndex()?"next":"prev"),b&&b!==m.currentSlide&&!a.$currentTransition&&e(b,d,c)},a.$on("$destroy",function(){s=!0}),m.getCurrentIndex=function(){return m.currentSlide&&angular.isDefined(m.currentSlide.index)?+m.currentSlide.index:r},a.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:n.indexOf(a)},a.next=function(){var b=(m.getCurrentIndex()+1)%n.length;return 0===b&&a.noWrap()?void a.pause():m.select(f(b),"next")},a.prev=function(){var b=m.getCurrentIndex()-1<0?n.length-1:m.getCurrentIndex()-1;return a.noWrap()&&b===n.length-1?void a.pause():m.select(f(b),"prev")},a.isActive=function(a){return m.currentSlide===a},a.$watch("interval",g),a.$watchCollection("slides",j),a.$on("$destroy",h),a.play=function(){l||(l=!0,g())},a.pause=function(){a.noPause||(l=!1,h())},m.addSlide=function(b,c){b.$element=c,n.push(b),1===n.length||b.active?(m.select(n[n.length-1]),1===n.length&&a.play()):b.active=!1},m.removeSlide=function(a){angular.isDefined(a.index)&&n.sort(function(a,b){return+a.index>+b.index});var b=n.indexOf(a);n.splice(b,1),n.length>0&&a.active?b>=n.length?m.select(n[b-1]):m.select(n[b]):r>b&&r--,0===n.length&&(m.currentSlide=null)},a.$watch("noTransition",function(a){b.data(p,a)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$injector","$animate",function(a,b){function c(a,b,c){a.removeClass(b),c&&c()}var d="uib-noTransition",e="uib-slideDirection",f=null;return a.has("$animateCss")&&(f=a.get("$animateCss")),{beforeAddClass:function(a,g,h){if("active"==g&&a.parent()&&a.parent().parent()&&!a.parent().parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k+" "+j,h);return a.addClass(j),f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()},beforeRemoveClass:function(a,g,h){if("active"===g&&a.parent()&&a.parent().parent()&&!a.parent().parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k,h);return f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(a,b,c,d,e){e||d.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,c("UibCarouselController",{$scope:a,$element:b}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(a,b){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){b||a.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(a,b){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(c,d,e,f){b||a.warn("slide is now deprecated. Use uib-slide instead."),f.addSlide(c,d),c.$on("$destroy",function(){f.removeSlide(c)}),c.$watch("active",function(a){a&&f.select(c)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(a,b,c){
function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}var f,g,h=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){f=b.id,this.parsers={},g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},hh:{regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},h:{regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},a:{regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)}}}},this.init(),this.parse=function(c,g,i){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(h,"\\$&"),b.id!==f&&this.init(),this.parsers[g]||(this.parsers[g]=d(g));var j=this.parsers[g],k=j.regex,l=j.map,m=c.match(k);if(m&&m.length){var n,o;angular.isDate(i)&&!isNaN(i.getTime())?n={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&a.warn("dateparser:","baseDate is not a valid date"),n={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,q=m.length;q>p;p++){var r=l[p-1];r.apply&&r.apply.call(n,m[p])}return e(n.year,n.month,n.date)&&(angular.isDate(i)&&!isNaN(i.getTime())?(o=new Date(i),o.setFullYear(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds||0)):o=new Date(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds||0)),o}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(a,b,c){b||a.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,c)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(a,b,c){b||a.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,c)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){i[d]=angular.isDefined(c)?c:b[d],a[d]=i[d],("minMode"==d&&i.modes.indexOf(a.datepickerMode)<i.modes.indexOf(i[d])||"maxMode"==d&&i.modes.indexOf(a.datepickerMode)>i.modes.indexOf(i[d]))&&(a.datepickerMode=i[d])}):(i[d]=g[d]||null,a[d]=i[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){i.element[0].focus()};a.$on("uib:datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):a.toggleMode("up"===c?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,3)},this.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/e,10)*e+1}var e;this.element=b,this.yearpickerInit=function(){e=this.yearRange,this.step={years:e}},this._refreshView=function(){for(var b,c=new Array(e),f=0,g=d(this.activeDate.getFullYear());e>f;f++)b=new Date(this.activeDate),b.setFullYear(g+f,0,1),c[f]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+f});a.title=[c[0].label,c[e-1].label].join(" - "),a.rows=this.split(c,5)},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*this.step.years:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+e-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0]||d[2],f=d[1];f.init(e)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0]||d[2],f=d[1];f.init(e)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0]||d[2];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function n(b){if(angular.isNumber(b)&&(b=new Date(b)),b){if(angular.isDate(b)&&!isNaN(b))return b;if(angular.isString(b)){var c=j.parse(b,r,a.date);return isNaN(c)?void 0:c}return void 0}return null}function o(a,b){var d=a||b;if(!c.ngRequired&&!d)return!0;if(angular.isNumber(d)&&(d=new Date(d)),d){if(angular.isDate(d)&&!isNaN(d))return!0;if(angular.isString(d)){var e=j.parse(d,r);return!isNaN(e)}return!1}return!0}function p(c){var d=A[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}function q(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}var r,s,t,u,v,w,x,y,z,A,B={},C=!1;a.watchData={},this.init=function(h){if(z=h,s=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):k.closeOnDateSelection,t=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):k.appendToBody,u=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):k.onOpenFocus,v=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:k.datepickerPopupTemplateUrl,w=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:k.datepickerTemplateUrl,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):k.showButtonBar,k.html5Types[c.type]?(r=k.html5Types[c.type],C=!0):(r=c.datepickerPopup||c.uibDatepickerPopup||k.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||k.datepickerPopup;if(c!==r&&(r=c,z.$modelValue=null,!r))throw new Error("uibDatepickerPopup must have a date format specified.")})),!r)throw new Error("uibDatepickerPopup must have a date format specified.");if(C&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(x=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),x.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":v}),y=angular.element(x.children()[0]),y.attr("template-url",w),C&&"month"===c.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),c.datepickerOptions){var l=a.$parent.$eval(c.datepickerOptions);l&&l.initDate&&(a.initDate=l.initDate,y.attr("init-date","initDate"),delete l.initDate),angular.forEach(l,function(a,b){y.attr(m(b),a)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(b){if(c[b]){var d=e(c[b]);if(a.$parent.$watch(d,function(c){a.watchData[b]=c,("minDate"===b||"maxDate"===b)&&(B[b]=new Date(c))}),y.attr(m(b),"watchData."+b),"datepickerMode"===b){var f=d.assign;a.$watch("watchData."+b,function(b,c){angular.isFunction(f)&&b!==c&&f(a.$parent,b)})}}}),c.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.showWeeks&&y.attr("show-weeks",c.showWeeks),c.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),C?z.$formatters.push(function(b){return a.date=b,b}):(z.$$parserName="date",z.$validators.date=o,z.$parsers.unshift(n),z.$formatters.push(function(b){return a.date=b,z.$isEmpty(b)?b:i(b,r)})),z.$viewChangeListeners.push(function(){a.date=j.parse(z.$viewValue,r,a.date)}),b.bind("keydown",q),A=d(x)(a),x.remove(),t?f.find("body").append(A):b.after(A),a.$on("$destroy",function(){a.isOpen===!0&&(g.$$phase||a.$apply(function(){a.isOpen=!1})),A.remove(),b.unbind("keydown",q),f.unbind("click",p)})},a.getText=function(b){return a[b+"Text"]||k[b+"Text"]},a.isDisabled=function(b){return"today"===b&&(b=new Date),a.watchData.minDate&&a.compare(b,B.minDate)<0||a.watchData.maxDate&&a.compare(b,B.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){angular.isDefined(c)&&(a.date=c);var d=a.date?i(a.date,r):null;b.val(d),z.$setViewValue(d),s&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(a.isOpen=!1,b[0].focus())},a.select=function(b){if("today"===b){var c=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(c.getFullYear(),c.getMonth(),c.getDate())):b=new Date(c.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(){a.isOpen=!1,b[0].focus()},a.$watch("isOpen",function(c){c?(a.position=t?h.offset(b):h.position(b),a.position.top=a.position.top+b.prop("offsetHeight"),l(function(){u&&a.$broadcast("uib:datepicker.focus"),f.bind("click",p)},0,!1)):f.unbind("click",p)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(a,b,c,d,e,f,g,h,i){i||e.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var j=this,k={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){j[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){j[d]=a?new Date(a):null,j.refreshView()}):j[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){j[d]=angular.isDefined(c)?c:b[d],a[d]=j[d],("minMode"==d&&j.modes.indexOf(a.datepickerMode)<j.modes.indexOf(j[d])||"maxMode"==d&&j.modes.indexOf(a.datepickerMode)>j.modes.indexOf(j[d]))&&(a.datepickerMode=j[d])}):(j[d]=g[d]||null,a[d]=j[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(k.$isEmpty(k.$modelValue)||k.$invalid)&&(j.activeDate=a,j.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===j.compare(b.date,j.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){k=a,k.$render=function(){j.render()}},this.render=function(){if(k.$viewValue){var a=new Date(k.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=k.$viewValue?new Date(k.$viewValue):null;k.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=k.$viewValue?new Date(k.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===j.minMode){var c=k.$viewValue?new Date(k.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),k.$setViewValue(c),k.$render()}else j.activeDate=b,a.datepickerMode=j.modes[j.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=j.activeDate.getFullYear()+a*(j.step.years||0),c=j.activeDate.getMonth()+a*(j.step.months||0);j.activeDate.setFullYear(b,c,1),j.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===j.maxMode&&1===b||a.datepickerMode===j.minMode&&-1===b||(a.datepickerMode=j.modes[j.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var l=function(){j.element[0].focus()};a.$on("uib:datepicker.focus",l),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),j.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(j.isDisabled(j.activeDate))return;a.select(j.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(j.handleKeyDown(c,b),j.refreshView()):a.toggleMode("up"===c?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(c,d,e,f){b||a.warn("datepicker is now deprecated. Use uib-datepicker instead.");var g=f[0],h=f[1];g.init(h)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(c,d,e,f){b||a.warn("daypicker is now deprecated. Use uib-daypicker instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(c,d,e,f){b||a.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(c,d,e,f){b||a.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var g=f[0];angular.extend(g,f[1]),g.yearpickerInit(),g.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(a,b){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,d,e,f){b||a.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"},link:function(){b||a.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.openClass,q=angular.noop,r=c.onToggle?d(c.onToggle):angular.noop,s=!1,t=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(m=d(c.isOpen),q=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),s=angular.isDefined(c.dropdownAppendToBody),t=angular.isDefined(c.uibKeyboardNav),s&&n.dropdownMenu&&(i.find("body").append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return t},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:angular.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(s&&n.dropdownMenu){var e=h.positionElements(b,n.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},m=n.dropdownMenu.hasClass("dropdown-menu-right");m?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),n.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,p).then(function(){angular.isDefined(c)&&c!==d&&r(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var t=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(t),n.dropdownMenu=t}f.close(o),n.selectedOption=null}angular.isFunction(q)&&q(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==o.getAutoClose()&&(o.isOpen=!1)});var u=a.$on("$destroy",function(){o.$destroy()});o.$on("$destroy",u)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=d.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===b.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:angular.isNumber(d.selectedOption)?d.selectedOption=0===d.selectedOption?0:d.selectedOption-1:d.selectedOption=b.length-1}b[d.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(a,b,c){b||a.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,c)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m){m||l.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var n,o,p=this,q=a.$new(),r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(o=d(c.isOpen),s=o.assign,a.$watch(o,function(a){q.isOpen=!!a})),u=angular.isDefined(c.dropdownAppendToBody),v=angular.isDefined(c.uibKeyboardNav),u&&p.dropdownMenu&&(i.find("body").append(p.dropdownMenu),
b.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(a){return q.isOpen=arguments.length?!!a:!q.isOpen},this.isOpen=function(){return q.isOpen},q.getToggleElement=function(){return p.toggleElement},q.getAutoClose=function(){return c.autoClose||"always"},q.getElement=function(){return b},q.isKeynavEnabled=function(){return v},q.focusDropdownEntry=function(a){var c=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===c.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=c.length-1}c[p.selectedOption].focus()},q.getDropdownElement=function(){return p.dropdownMenu},q.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},q.$watch("isOpen",function(c,d){if(u&&p.dropdownMenu){var e=h.positionElements(b,p.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},l=p.dropdownMenu.hasClass("dropdown-menu-right");l?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),p.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,r).then(function(){angular.isDefined(c)&&c!==d&&t(a,{open:!!c})}),c)p.dropdownMenuTemplateUrl&&k(p.dropdownMenuTemplateUrl).then(function(a){n=q.$new(),j(a.trim())(n,function(a){var b=a;p.dropdownMenu.replaceWith(b),p.dropdownMenu=b})}),q.focusToggleElement(),f.open(q);else{if(p.dropdownMenuTemplateUrl){n&&n.$destroy();var m=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(m),p.dropdownMenu=m}f.close(q),p.selectedOption=null}angular.isFunction(s)&&s(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==q.getAutoClose()&&(q.isOpen=!1)});var w=a.$on("$destroy",function(){q.$destroy()});q.$on("$destroy",w)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(a,b){return{controller:"DropdownController",link:function(c,d,e,f){b||a.warn("dropdown is now deprecated. Use uib-dropdown instead."),f.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(a,b){return{restrict:"AC",require:"?^dropdown",link:function(c,d,e,f){if(f&&!angular.isDefined(e.dropdownNested)){b||a.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),d.addClass("dropdown-menu");var g=e.templateUrl;g&&(f.dropdownMenuTemplateUrl=g),f.dropdownMenu||(f.dropdownMenu=d)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(a,b){return{restrict:"A",require:"?^dropdown",link:function(c,d,e,f){b||a.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),d.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=f.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===b.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=b.length-1}b[f.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(a,b){return{require:"?^dropdown",link:function(c,d,e,f){if(b||a.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),f){d.addClass("dropdown-toggle"),f.toggleElement=d;var g=function(a){a.preventDefault(),d.hasClass("disabled")||e.disabled||c.$apply(function(){f.toggle()})};d.bind("click",g),d.attr({"aria-haspopup":!0,"aria-expanded":!1}),c.$watch(f.isOpen,function(a){d.attr("aria-expanded",!!a)}),c.$on("$destroy",function(){d.unbind("click",g)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,f){d.addClass("modal-backdrop"),f.modalInClass&&(e?e(d,{addClass:f.modalInClass}).start():a.addClass(d,f.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var g=c();e?e(d,{removeClass:f.modalInClass}).start().then(g):a.removeClass(d,f.modalInClass).then(g)}))}var e=null;return b.has("$animateCss")&&(e=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(a,b,c,d){var e=null;return d.has("$animateCss")&&(e=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,f,g){f.addClass(g.windowClass||""),f.addClass(g.windowTopClass||""),d.size=g.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",d.close),d.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"==a&&h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=e?e(f,{addClass:g.modalInClass}).start():c.addClass(f,g.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();e?e(f,{removeClass:g.modalInClass}).start().then(d):c.removeClass(f,g.modalInClass).then(d)})),b.when(h).then(function(){var a=f[0].querySelector("[autofocus]");a?a.focus():f[0].focus()});var i=a.getTop();i&&a.modalRendered(i.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h,i){function j(){for(var a=-1,b=u.keys(),c=0;c<b.length;c++)u.get(b[c]).value.backdrop&&(a=c);return a}function k(a,b){var d=c.find("body").eq(0),e=u.get(a).value;u.remove(a),n(e.modalDomEl,e.modalScope,function(){var b=e.openedClass||t;v.remove(b,a),d.toggleClass(b,v.hasKey(b)),l(!0)}),m(),b&&b.focus?b.focus():d.focus()}function l(a){var b;u.length()>0&&(b=u.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function m(){if(q&&-1==j()){var a=r;n(q,r,function(){a=null}),q=void 0,r=void 0}}function n(b,c,d){function e(){e.done||(e.done=!0,p?p(b,{event:"leave"}).start().then(function(){b.remove()}):a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(w.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function o(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var p=null;g.has("$animateCss")&&(p=g.get("$animateCss"));var q,r,s,t="modal-open",u=i.createNew(),v=h.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,y="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(j,function(a){r&&(r.index=a)}),c.bind("keydown",function(a){if(a.isDefaultPrevented())return a;var b=u.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){w.dismiss(b.key,"escape key press")});break;case 9:w.loadFocusElementList(b);var c=!1;a.shiftKey?w.isFocusInFirstItem(a)&&(c=w.focusLastFocusableElement()):w.isFocusInLastItem(a)&&(c=w.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),w.open=function(a,b){var f=c[0].activeElement,g=b.openedClass||t;l(!1),u.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard,openedClass:b.openedClass,windowTopClass:b.windowTopClass}),v.put(g,a);var h=c.find("body").eq(0),i=j();if(i>=0&&!q){r=e.$new(!0),r.index=i;var k=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');k.attr("backdrop-class",b.backdropClass),b.animation&&k.attr("modal-animation","true"),q=d(k)(r),h.append(q)}var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,"window-top-class":b.windowTopClass,size:b.size,index:u.length()-1,animate:"animate"}).html(b.content),b.animation&&m.attr("modal-animation","true");var n=d(m)(b.scope);u.top().value.modalDomEl=n,u.top().value.modalOpener=f,h.append(n),h.addClass(g),w.clearFocusListCache()},w.close=function(a,b){var c=u.get(a);return c&&o(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),k(a,c.value.modalOpener),!0):!c},w.dismiss=function(a,b){var c=u.get(a);return c&&o(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),k(a,c.value.modalOpener),!0):!c},w.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},w.getTop=function(){return u.top()},w.modalRendered=function(a){var b=u.get(a);b&&b.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return s.length>0?(s[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return s.length>0?(s[s.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(a){return s.length>0?(a.target||a.srcElement)==s[0]:!1},w.isFocusInLastItem=function(a){return s.length>0?(a.target||a.srcElement)==s[s.length-1]:!1},w.clearFocusListCache=function(){s=[],x=0},w.loadFocusElementList=function(a){if((void 0===s||!s.length)&&a){var b=a.value.modalDomEl;b&&b.length&&(s=b[0].querySelectorAll(y))}},w}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(b,c,d,e,f,g,h,i){function j(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function k(a){var c=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?c.push(d.when(b.invoke(a))):angular.isString(a)?c.push(d.when(b.get(a))):c.push(d.when(a))}),c}var l={},m=null;return l.getPromiseChain=function(){return m},l.open=function(b){function e(){return r}var l=d.defer(),n=d.defer(),o=d.defer(),p={result:l.promise,opened:n.promise,rendered:o.promise,close:function(a){return g.close(p,a)},dismiss:function(a){return g.dismiss(p,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var q,r=d.all([j(b)].concat(k(b.resolve)));return q=m=d.all([m]).then(e,e).then(function(a){var d=(b.scope||c).$new();d.$close=p.close,d.$dismiss=p.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var e,j={},k=1;b.controller&&(j.$scope=d,j.$uibModalInstance=p,Object.defineProperty(j,"$modalInstance",{get:function(){return h||i.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),p}}),angular.forEach(b.resolve,function(b,c){j[c]=a[k++]}),e=f(b.controller,j),b.controllerAs&&(b.bindToController&&angular.extend(e,d),d[b.controllerAs]=e)),g.open(p,{scope:d,deferred:l,renderDeferred:o,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowTopClass:b.windowTopClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size,openedClass:b.openedClass}),n.resolve(!0)},function(a){n.reject(a),l.reject(a)})["finally"](function(){m===q&&(m=null)}),p},l}]};return a}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(a,b,c,d,e){function f(b,f,h){e||d.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),f.addClass("modal-backdrop"),h.modalInClass&&(g?g(f,{addClass:h.modalInClass}).start():a.addClass(f,h.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var d=c();g?g(f,{removeClass:h.modalInClass}).start().then(d):a.removeClass(f,h.modalInClass).then(d)}))}var g=null;return b.has("$animateCss")&&(g=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),f}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(a,b,c,d,e,f){var g=null;return d.has("$animateCss")&&(g=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,h,i){f||e.warn("modal-window is now deprecated. Use uib-modal-window instead."),h.addClass(i.windowClass||""),h.addClass(i.windowTopClass||""),d.size=i.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},h.on("click",d.close),d.$isRendered=!0;var j=b.defer();i.$observe("modalRender",function(a){"true"==a&&j.resolve()}),j.promise.then(function(){var e=null;i.modalInClass&&(e=g?g(h,{addClass:i.modalInClass}).start():c.addClass(h,i.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();g?g(h,{removeClass:i.modalInClass}).start().then(d):c.removeClass(h,i.modalInClass).then(d)})),b.when(e).then(function(){var a=h[0].querySelector("[autofocus]");a?a.focus():h[0].focus()});var f=a.getTop();f&&a.modalRendered(f.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(a,b){return{compile:function(c,d){b||a.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),d.modalAnimation&&c.addClass(d.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(a,b){return{link:function(c,d,e,f,g){b||a.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),g(c.$parent,function(a){d.empty(),d.append(a)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k,l){l||k.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,j)}]).provider("$modal",["$uibModalProvider",function(a){angular.extend(this,a),this.$get=["$injector","$log","$modalSuppressWarning",function(b,c,d){return d||c.warn("$modal is now deprecated. Use $uibModal instead."),b.invoke(a.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(a,b,c,d,e){e||d.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var f=this,g={$setViewValue:angular.noop},h=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(d,e){g=d,this.config=e,g.$render=function(){f.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){f.itemsPerPage=parseInt(b,10),a.totalPages=f.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=f.calculateTotalPages()}),a.$watch("totalPages",function(b){h(a.$parent,b),a.page>b?a.selectPage(b):g.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(g.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),g.$setViewValue(b),g.$render())},a.getText=function(b){return a[b+"Text"]||f.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(a,b,c,d){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(e,f,g,h){function i(a,b,c){return{number:a,text:b,active:c}}function j(a,b){var c=[],d=1,e=b,f=angular.isDefined(m)&&b>m;f&&(n?(d=Math.max(a-Math.floor(m/2),1),e=d+m-1,e>b&&(e=b,d=e-m+1)):(d=(Math.ceil(a/m)-1)*m+1,e=Math.min(d+m-1,b)));for(var g=d;e>=g;g++){var h=i(g,g,g===a);c.push(h)}if(f&&!n){if(d>1){var j=i(d-1,"...",!1);c.unshift(j)}if(b>e){var k=i(e+1,"...",!1);c.push(k)}}return c}d||c.warn("pagination is now deprecated. Use uib-pagination instead.");var k=h[0],l=h[1];if(l){var m=angular.isDefined(g.maxSize)?e.$parent.$eval(g.maxSize):b.maxSize,n=angular.isDefined(g.rotate)?e.$parent.$eval(g.rotate):b.rotate;e.boundaryLinks=angular.isDefined(g.boundaryLinks)?e.$parent.$eval(g.boundaryLinks):b.boundaryLinks,e.directionLinks=angular.isDefined(g.directionLinks)?e.$parent.$eval(g.directionLinks):b.directionLinks,k.init(l,b),g.maxSize&&e.$parent.$watch(a(g.maxSize),function(a){m=parseInt(a,10),k.render()});var o=k.render;k.render=function(){o(),e.page>0&&e.page<=e.totalPages&&(e.pages=j(e.page,e.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(a,b,c){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(d,e,f,g){c||b.warn("pager is now deprecated. Use uib-pager instead.");var h=g[0],i=g[1];i&&(d.align=angular.isDefined(f.align)?d.$parent.$eval(f.align):a.align,h.init(i,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){var n=m.createNew();return h.on("keypress",function(a){if(27===a.which){var b=n.top();b&&(b.value.close(),n.removeTop(),b=null)}}),function(e,k,m,o){function p(a){var b=(a||o.trigger||m).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}o=angular.extend({},b,d,o);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup title="'+r+"title"+s+'" '+(o.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){L.isOpen?q():m()}function m(){(!K||a.$eval(d[k+"Enable"]))&&(u(),x(),L.popupDelay?F||(F=g(r,L.popupDelay,!1)):r())}function q(){s(),L.popupCloseDelay?G||(G=g(t,L.popupCloseDelay,!1)):t()}function r(){return s(),u(),L.content?(v(),void L.$evalAsync(function(){L.isOpen=!0,y(!0),Q()})):angular.noop}function s(){F&&(g.cancel(F),F=null),H&&(g.cancel(H),H=null)}function t(){s(),u(),L&&L.$evalAsync(function(){L.isOpen=!1,y(!1),L.animation?E||(E=g(w,150,!1)):w()})}function u(){G&&(g.cancel(G),G=null),E&&(g.cancel(E),E=null)}function v(){C||(D=L.$new(),C=c(D,function(a){I?h.find("body").append(a):b.after(a)}),z())}function w(){A(),E=null,C&&(C.remove(),C=null),D&&(D.$destroy(),D=null)}function x(){L.title=d[k+"Title"],O?L.content=O(a):L.content=d[e],L.popupClass=d[k+"Class"],L.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:o.placement;var b=parseInt(d[k+"PopupDelay"],10),c=parseInt(d[k+"PopupCloseDelay"],10);L.popupDelay=isNaN(b)?o.popupDelay:b,L.popupCloseDelay=isNaN(c)?o.popupCloseDelay:c}function y(b){N&&angular.isFunction(N.assign)&&N.assign(a,b)}function z(){P.length=0,O?(P.push(a.$watch(O,function(a){L.content=a,!a&&L.isOpen&&t()})),P.push(D.$watch(function(){M||(M=!0,D.$$postDigest(function(){M=!1,L&&L.isOpen&&Q()}))}))):P.push(d.$observe(e,function(a){L.content=a,!a&&L.isOpen?t():Q()})),P.push(d.$observe(k+"Title",function(a){L.title=a,L.isOpen&&Q()})),P.push(d.$observe(k+"Placement",function(a){L.placement=a?a:o.placement,L.isOpen&&Q()}))}function A(){P.length&&(angular.forEach(P,function(a){a()}),P.length=0)}function B(){var a=d[k+"Trigger"];R(),J=p(a),"none"!==J.show&&J.show.forEach(function(a,c){a===J.hide[c]?b[0].addEventListener(a,j):a&&(b[0].addEventListener(a,m),J.hide[c].split(" ").forEach(function(a){b[0].addEventListener(a,q)})),b.on("keypress",function(a){27===a.which&&q()})})}var C,D,E,F,G,H,I=angular.isDefined(o.appendToBody)?o.appendToBody:!1,J=p(void 0),K=angular.isDefined(d[k+"Enable"]),L=a.$new(!0),M=!1,N=angular.isDefined(d[k+"IsOpen"])?l(d[k+"IsOpen"]):!1,O=o.useContentExp?l(d[e]):!1,P=[],Q=function(){C&&C.html()&&(H||(H=g(function(){C.css({top:0,left:0});var a=i.positionElements(b,C,L.placement,I);a.top+="px",a.left+="px",a.visibility="visible",C.css(a),H=null},0,!1)))};L.origScope=a,L.isOpen=!1,n.add(L,{close:t}),L.contentExp=function(){return L.content},d.$observe("disabled",function(a){a&&s(),a&&L.isOpen&&t()}),N&&a.$watch(N,function(a){L&&!a===L.isOpen&&j()});var R=function(){J.show.forEach(function(a){b.unbind(a,m)}),J.hide.forEach(function(a){a.split(" ").forEach(function(a){b[0].removeEventListener(a,q)})})};B();var S=a.$eval(d[k+"Animation"]);L.animation=angular.isDefined(S)?!!S:o.animation;var T=a.$eval(d[k+"AppendToBody"]);I=angular.isDefined(T)?T:I,I&&a.$on("$locationChangeSuccess",function(){L.isOpen&&t()}),a.$on("$destroy",function(){s(),u(),R(),w(),n.remove(L),L=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(a){angular.extend(this,a),this.$get=["$log","$tooltipSuppressWarning","$injector",function(b,c,d){return c||b.warn("$tooltip is now deprecated. Use $uibTooltip instead."),d.invoke(a.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(a,b,c,d,e,f){return{link:function(g,h,i){f||e.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var j,k,l,m=g.$eval(i.tooltipTemplateTranscludeScope),n=0,o=function(){k&&(k.remove(),k=null),j&&(j.$destroy(),j=null),l&&(a.leave(l).then(function(){k=null}),k=l,l=null)};g.$watch(b.parseAsResourceUrl(i.tooltipTemplateTransclude),function(b){var e=++n;b?(d(b,!0).then(function(d){if(e===n){var f=m.$new(),g=d,i=c(g)(f,function(b){o(),a.enter(b,h)});j=f,l=i,j.$emit("$includeContentLoaded",b)}},function(){e===n&&(o(),g.$emit("$includeContentError",b))}),g.$emit("$includeContentRequested",b)):o()}),g.$on("$destroy",o)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(a,b){return{restrict:"A",link:function(c,d,e){b||a.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),c.placement&&d.addClass(c.placement),c.popupClass&&d.addClass(c.popupClass),c.animation()&&d.addClass(e.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(c,d){b||a.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),d.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(c,d){b||a.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),d.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(c,d){b||a.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),d.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0
})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(c,d){b||a.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),d.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(c,d){b||a.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),d.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(a){return a("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(c,d){b||a.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),d.addClass("popover")}}}]).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c,f){e||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.title=f&&angular.isDefined(f.title)?f.title:"progressbar",b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){var a=d.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("max",function(b){d.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(a,b,c,d,e){e||d.warn("ProgressController is now deprecated. Use UibProgressController instead.");var f=this,g=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c,d){g||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.title=d&&angular.isDefined(d.title)?d.title:"progressbar",b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){b.percent=+(100*b.value/b.max).toFixed(2);var a=f.bars.reduce(function(a,b){return a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,f.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)},a.$watch("max",function(b){f.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){b||a.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(c,d,e,f){b||a.warn("bar is now deprecated. Use uib-bar instead."),f.addBar(c,d)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(c,d,e,f){b||a.warn("progressbar is now deprecated. Use uib-progressbar instead."),f.addBar(c,angular.element(d.children()[0]),{title:e.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(a,b,c,d,e){e||d.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,c("UibRatingController",{$scope:a,$attrs:b}))}]).directive("rating",["$log","$ratingSuppressWarning",function(a,b){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(c,d,e,f){b||a.warn("rating is now deprecated. Use uib-rating instead.");var g=f[0],h=f[1];g.init(h)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect(),a.selectCalled=!1)}),a.active=!0,a.selectCalled||(a.onSelect(),a.selectCalled=!0)},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(b,c,d,e,f){b.$watch("active",function(a){a&&e.select(b)}),b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase()||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(a,b,c,d){d||c.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,b("UibTabsetController",{$scope:a}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(a,b){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(c,d,e){b||a.warn("tabset is now deprecated. Use uib-tabset instead."),c.vertical=angular.isDefined(e.vertical)?c.$parent.$eval(e.vertical):!1,c.justified=angular.isDefined(e.justified)?c.$parent.$eval(e.justified):!1}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(a,b,c){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(d,e,f,g,h){c||b.warn("tab is now deprecated. Use uib-tab instead."),d.$watch("active",function(a){a&&g.select(d)}),d.disabled=!1,f.disable&&d.$parent.$watch(a(f.disable),function(a){d.disabled=!!a}),d.select=function(){d.disabled||(d.active=!0)},g.addTab(d),d.$on("$destroy",function(){g.removeTab(d)}),d.$transcludeFn=h}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(a,b){return{restrict:"A",require:"^tab",link:function(c,d){b||a.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),c.$watch("headingElement",function(a){a&&(d.html(""),d.append(a))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(a,b){function c(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(d,e,f){b||a.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var g=d.$eval(f.tabContentTransclude);g.$transcludeFn(g.$parent,function(a){angular.forEach(a,function(a){c(a)?g.headingElement=a:e.append(a)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===r[1]&&(b+=12)),b):void 0}function i(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function j(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function k(a){l(),q.$setViewValue(new Date(p)),m(a)}function l(){q.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function m(b){var c=p.getHours(),d=p.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:j(c),"m"!==b&&(a.minutes=j(d)),a.meridian=p.getHours()<12?r[0]:r[1]}function n(a,b){var c=new Date(a.getTime()+6e4*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes()),d}function o(a){p=n(p,a),k()}var p=new Date,q={$setViewValue:angular.noop},r=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){q=b,q.$render=this.render,q.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;h&&this.setupMousewheelEvents(e,f);var i=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;i&&this.setupArrowkeyEvents(e,f),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f)};var s=g.hourStep;c.hourStep&&a.$parent.$watch(d(c.hourStep),function(a){s=parseInt(a,10)});var t=g.minuteStep;c.minuteStep&&a.$parent.$watch(d(c.minuteStep),function(a){t=parseInt(a,10)});var u;a.$parent.$watch(d(c.min),function(a){var b=new Date(a);u=isNaN(b)?void 0:b});var v;a.$parent.$watch(d(c.max),function(a){var b=new Date(a);v=isNaN(b)?void 0:b}),a.noIncrementHours=function(){var a=n(p,60*s);return a>v||p>a&&u>a},a.noDecrementHours=function(){var a=n(p,60*-s);return u>a||a>p&&a>v},a.noIncrementMinutes=function(){var a=n(p,t);return a>v||p>a&&u>a},a.noDecrementMinutes=function(){var a=n(p,-t);return u>a||a>p&&a>v},a.noToggleMeridian=function(){return p.getHours()<13?n(p,720)>v:n(p,-720)<u},a.showMeridian=g.showMeridian,c.showMeridian&&a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,q.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(p.setHours(c),k())}else m()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){q.$setViewValue(null),q.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=h(),b=i();angular.isDefined(a)&&angular.isDefined(b)?(p.setHours(a),u>p||p>v?d(!0):k("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=j(a.hours)})}),a.updateMinutes=function(){var a=i(),b=h();angular.isDefined(a)&&angular.isDefined(b)?(p.setMinutes(a),u>p||p>v?d(void 0,!0):k("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=j(a.minutes)})})},this.render=function(){var b=q.$viewValue;isNaN(b)?(q.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(p=b),u>p||p>v?(q.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):l(),m())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*s)},a.decrementHours=function(){a.noDecrementHours()||o(60*-s)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(t)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(-t)},a.toggleMeridian=function(){a.noToggleMeridian()||o(720*(p.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(a,b,c,d,e,f){f||e.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,d("UibTimepickerController",{$scope:a,$element:b,$attrs:c}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(a,b){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(c,d,e,f){b||a.warn("timepicker is now deprecated. Use uib-timepicker instead.");var g=f[0],h=f[1];h&&g.init(h,d.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){K.moveInProgress||(K.moveInProgress=!0,K.$digest()),S&&g.cancel(S),S=g(function(){K.matches.length&&n(),K.moveInProgress=!1},r)}function n(){K.position=C?k.offset(b):k.position(b),K.position.top+=b.prop("offsetHeight")}var o,p,q=[9,13,27,38,40],r=200,s=a.$eval(c.typeaheadMinLength);s||0===s||(s=1);var t,u,v=a.$eval(c.typeaheadWaitMs)||0,w=a.$eval(c.typeaheadEditable)!==!1,x=e(c.typeaheadLoading).assign||angular.noop,y=e(c.typeaheadOnSelect),z=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,A=e(c.typeaheadNoResults).assign||angular.noop,B=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,C=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,D=c.typeaheadAppendToElementId||!1,E=a.$eval(c.typeaheadFocusFirst)!==!1,F=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,G=e(c.ngModel),H=e(c.ngModel+"($$$p)"),I=function(b,c){return angular.isFunction(G(a))&&p&&p.$options&&p.$options.getterSetter?H(b,{$$$p:c}):G.assign(b,c)},J=l.parse(c.uibTypeahead),K=a.$new(),L=a.$on("$destroy",function(){K.$destroy()});K.$on("$destroy",L);var M="typeahead-"+K.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var N=angular.element("<div uib-typeahead-popup></div>");N.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&N.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var O=function(){K.matches=[],K.activeIdx=-1,b.attr("aria-expanded",!1)},P=function(a){return M+"-option-"+a};K.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",P(a))});var Q=function(a,b){return K.matches.length>b&&a?a.toUpperCase()===K.matches[b].label.toUpperCase():!1},R=function(c){var d={$viewValue:c};x(a,!0),A(a,!1),f.when(J.source(a,d)).then(function(e){var f=c===o.$viewValue;if(f&&t)if(e&&e.length>0){K.activeIdx=E?0:-1,A(a,!1),K.matches.length=0;for(var g=0;g<e.length;g++)d[J.itemName]=e[g],K.matches.push({id:P(g),label:J.viewMapper(K,d),model:e[g]});K.query=c,n(),b.attr("aria-expanded",!0),F&&1===K.matches.length&&Q(c,0)&&K.select(0)}else O(),A(a,!0);f&&x(a,!1)},function(){O(),x(a,!1),A(a,!0)})};C&&(angular.element(i).bind("resize",m),h.find("body").bind("scroll",m));var S;K.moveInProgress=!1,K.query=void 0;var T,U=function(a){T=g(function(){R(a)},v)},V=function(){T&&g.cancel(T)};O(),K.select=function(d){var e,f,h={};u=!0,h[J.itemName]=f=K.matches[d].model,e=J.modelMapper(a,h),I(a,e),o.$setValidity("editable",!0),o.$setValidity("parse",!0),y(a,{$item:f,$model:e,$label:J.viewMapper(a,h)}),O(),K.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.bind("keydown",function(a){if(0!==K.matches.length&&-1!==q.indexOf(a.which)){if(-1===K.activeIdx&&(9===a.which||13===a.which))return O(),void K.$digest();a.preventDefault(),40===a.which?(K.activeIdx=(K.activeIdx+1)%K.matches.length,K.$digest()):38===a.which?(K.activeIdx=(K.activeIdx>0?K.activeIdx:K.matches.length)-1,K.$digest()):13===a.which||9===a.which?K.$apply(function(){K.select(K.activeIdx)}):27===a.which&&(a.stopPropagation(),O(),K.$digest())}}),b.bind("blur",function(){z&&K.matches.length&&-1!==K.activeIdx&&!u&&(u=!0,K.$apply(function(){K.select(K.activeIdx)})),t=!1,u=!1});var W=function(a){b[0]!==a.target&&3!==a.which&&0!==K.matches.length&&(O(),j.$$phase||K.$digest())};h.bind("click",W),a.$on("$destroy",function(){h.unbind("click",W),(C||D)&&X.remove(),C&&(angular.element(i).unbind("resize",m),h.find("body").unbind("scroll",m)),N.remove()});var X=d(N)(K);C?h.find("body").append(X):D!==!1?angular.element(h[0].getElementById(D)).append(X):b.after(X),this.init=function(b,c){o=b,p=c,o.$parsers.unshift(function(b){return t=!0,0===s||b&&b.length>=s?v>0?(V(),U(b)):R(b):(x(a,!1),V(),O()),w?b:b?void o.$setValidity("editable",!1):(o.$setValidity("editable",!0),null)}),o.$formatters.push(function(b){var c,d,e={};return w||o.$setValidity("editable",!0),B?(e.$model=b,B(a,e)):(e[J.itemName]=b,c=J.viewMapper(a,e),e[J.itemName]=void 0,d=J.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(a,b,c,d){return d||c.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),b}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k){var l=[9,13,27,38,40],m=200;return{require:["ngModel","^?ngModelOptions"],link:function(n,o,p,q){function r(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),V&&d.cancel(V),V=d(function(){N.matches.length&&s(),N.moveInProgress=!1},m)}function s(){N.position=F?h.offset(o):h.position(o),N.position.top+=o.prop("offsetHeight")}k||j.warn("typeahead is now deprecated. Use uib-typeahead instead.");var t=q[0],u=q[1],v=n.$eval(p.typeaheadMinLength);v||0===v||(v=1);var w,x,y=n.$eval(p.typeaheadWaitMs)||0,z=n.$eval(p.typeaheadEditable)!==!1,A=b(p.typeaheadLoading).assign||angular.noop,B=b(p.typeaheadOnSelect),C=angular.isDefined(p.typeaheadSelectOnBlur)?n.$eval(p.typeaheadSelectOnBlur):!1,D=b(p.typeaheadNoResults).assign||angular.noop,E=p.typeaheadInputFormatter?b(p.typeaheadInputFormatter):void 0,F=p.typeaheadAppendToBody?n.$eval(p.typeaheadAppendToBody):!1,G=p.typeaheadAppendToElementId||!1,H=n.$eval(p.typeaheadFocusFirst)!==!1,I=p.typeaheadSelectOnExact?n.$eval(p.typeaheadSelectOnExact):!1,J=b(p.ngModel),K=b(p.ngModel+"($$$p)"),L=function(a,b){return angular.isFunction(J(n))&&u&&u.$options&&u.$options.getterSetter?K(a,{$$$p:b}):J.assign(a,b)},M=i.parse(p.typeahead),N=n.$new(),O=n.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",O);var P="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());o.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":P});var Q=angular.element("<div typeahead-popup></div>");Q.attr({id:P,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(p.typeaheadTemplateUrl)&&Q.attr("template-url",p.typeaheadTemplateUrl),angular.isDefined(p.typeaheadPopupTemplateUrl)&&Q.attr("popup-template-url",p.typeaheadPopupTemplateUrl);var R=function(){N.matches=[],N.activeIdx=-1,o.attr("aria-expanded",!1)},S=function(a){return P+"-option-"+a};N.$watch("activeIdx",function(a){0>a?o.removeAttr("aria-activedescendant"):o.attr("aria-activedescendant",S(a))});var T=function(a,b){return N.matches.length>b&&a?a.toUpperCase()===N.matches[b].label.toUpperCase():!1},U=function(a){var b={$viewValue:a};A(n,!0),D(n,!1),c.when(M.source(n,b)).then(function(c){var d=a===t.$viewValue;if(d&&w)if(c&&c.length>0){N.activeIdx=H?0:-1,D(n,!1),N.matches.length=0;for(var e=0;e<c.length;e++)b[M.itemName]=c[e],N.matches.push({id:S(e),label:M.viewMapper(N,b),model:c[e]});N.query=a,s(),o.attr("aria-expanded",!0),I&&1===N.matches.length&&T(a,0)&&N.select(0)}else R(),D(n,!0);d&&A(n,!1)},function(){R(),A(n,!1),D(n,!0)})};F&&(angular.element(f).bind("resize",r),e.find("body").bind("scroll",r));var V;N.moveInProgress=!1,R(),N.query=void 0;var W,X=function(a){W=d(function(){U(a)},y)},Y=function(){W&&d.cancel(W)};t.$parsers.unshift(function(a){return w=!0,0===v||a&&a.length>=v?y>0?(Y(),X(a)):U(a):(A(n,!1),Y(),R()),z?a:a?void t.$setValidity("editable",!1):(t.$setValidity("editable",!0),null)}),t.$formatters.push(function(a){var b,c,d={};return z||t.$setValidity("editable",!0),E?(d.$model=a,E(n,d)):(d[M.itemName]=a,b=M.viewMapper(n,d),d[M.itemName]=void 0,c=M.viewMapper(n,d),b!==c?b:a)}),N.select=function(a){var b,c,e={};x=!0,e[M.itemName]=c=N.matches[a].model,b=M.modelMapper(n,e),L(n,b),t.$setValidity("editable",!0),t.$setValidity("parse",!0),B(n,{$item:c,$model:b,$label:M.viewMapper(n,e)}),R(),N.$eval(p.typeaheadFocusOnSelect)!==!1&&d(function(){o[0].focus()},0,!1)},o.bind("keydown",function(a){if(0!==N.matches.length&&-1!==l.indexOf(a.which)){if(-1===N.activeIdx&&(9===a.which||13===a.which))return R(),void N.$digest();a.preventDefault(),40===a.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===a.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===a.which||9===a.which?N.$apply(function(){N.select(N.activeIdx)}):27===a.which&&(a.stopPropagation(),R(),N.$digest())}}),o.bind("blur",function(){C&&N.matches.length&&-1!==N.activeIdx&&!x&&(x=!0,N.$apply(function(){N.select(N.activeIdx)})),w=!1,x=!1});var Z=function(a){o[0]!==a.target&&3!==a.which&&0!==N.matches.length&&(R(),g.$$phase||N.$digest())};e.bind("click",Z),n.$on("$destroy",function(){e.unbind("click",Z),(F||G)&&$.remove(),F&&(angular.element(f).unbind("resize",r),e.find("body").unbind("scroll",r)),Q.remove()});var $=a(Q)(N);F?e.find("body").append($):G!==!1?angular.element(e[0].getElementById(G)).append($):o.after($)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(a,b){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(c,d,e){a||b.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),c.templateUrl=e.templateUrl,c.isOpen=function(){return c.matches.length>0},c.isActive=function(a){return c.active==a},c.selectActive=function(a){c.active=a},c.selectMatch=function(a){c.select({activeIdx:a})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(a,b,c,d,e){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(f,g,h){d||e.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var i=c(h.templateUrl)(f.$parent)||"template/typeahead/typeahead-match.html";a(i).then(function(a){b(a.trim())(f,function(a){g.replaceWith(a)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(a,b,c,d){function e(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(a){return/<.*>/g.test(a)}var g;return g=b.has("$sanitize"),function(b,h){return d||c.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!g&&f(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=h?(""+b).replace(new RegExp(e(h),"gi"),"<strong>$&</strong>"):b,g||(b=a.trustAsHtml(b)),b}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n');
}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(a,b){var c=b.has("$animateCss")?b.get("$animateCss"):null;return{link:function(b,d,e){function f(){d.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),c?c(d,{addClass:"in",easing:"ease",to:{height:d[0].scrollHeight+"px"}}).start()["finally"](g):a.addClass(d,"in",{to:{height:d[0].scrollHeight+"px"}}).then(g)}function g(){d.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function h(){return d.hasClass("collapse")||d.hasClass("in")?(d.css({height:d[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(c?c(d,{removeClass:"in",to:{height:"0"}}).start()["finally"](i):a.removeClass(d,"in",{to:{height:"0"}}).then(i))):i()}function i(){d.css({height:"0"}),d.removeClass("collapsing").addClass("collapse")}b.$watch(e.uibCollapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(a,b,c,d){var e=b.has("$animateCss")?b.get("$animateCss"):null;return{link:function(b,f,g){function h(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start().done(i):a.animate(f,{},{height:f[0].scrollHeight+"px"}).then(i)}function i(){f.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function j(){return f.hasClass("collapse")||f.hasClass("in")?(f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(e?e(f,{to:{height:"0"}}).start().done(k):a.animate(f,{},{height:"0"}).then(k))):k()}function k(){f.css({height:"0"}),f.removeClass("collapsing").addClass("collapse")}d||c.warn("collapse is now deprecated. Use uib-collapse instead."),b.$watch(g.collapse,function(a){a?j():h()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass,a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(a,b,c,d){d=d[0]?d[0]:d[1],a.$watch(function(){return d[c.uibAccordionTransclude]},function(a){a&&(b.find("span").html(""),b.find("span").append(a))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(a,b,c,d,e){e||d.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,c("UibAccordionController",{$scope:a,$attrs:b}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(a,b){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"},link:function(){b||a.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(a,b){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(c,d,e,f){b||a.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),f.addGroup(c),c.openClass=e.openClass||"panel-open",c.panelClass=e.panelClass,c.$watch("isOpen",function(a){d.toggleClass(c.openClass,!!a),a&&f.closeOthers(c)}),c.toggleOpen=function(a){c.isDisabled||a&&32!==a.which||(c.isOpen=!c.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(a,b){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(c,d,e,f,g){b||a.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),f.setHeading(g(c,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(a,b){return{require:"^accordionGroup",link:function(c,d,e,f){b||a.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),c.$watch(function(){return f[e.accordionTransclude]},function(a){a&&(d.find("span").html(""),d.find("span").append(a))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(a,b,c,d){a.closeable=!!b.close;var e=angular.isDefined(b.dismissOnTimeout)?c(b.dismissOnTimeout)(a.$parent):null;e&&d(function(){a.close()},parseInt(e,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(a,b,c,d,e){e||d.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,c("UibAlertController",{$scope:a,$attrs:b}))}]).directive("alert",["$log","$alertSuppressWarning",function(a,b){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){b||a.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(a,b,c,d){var e=d[0],f=d[1];b.find("input").css({display:"none"}),f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.uibBtnRadio)))},b.on(e.toggleEvent,function(){if(!c.disabled){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.uibBtnRadio)),f.$render()})}})}}}).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(a,b,c){c||b.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,a("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(a,b){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(c,d,e,f){b||a.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var g=f[0],h=f[1];d.find("input").css({display:"none"}),h.$render=function(){d.toggleClass(g.activeClass,angular.equals(h.$modelValue,c.$eval(e.btnRadio)))},d.bind(g.toggleEvent,function(){if(!e.disabled){var a=d.hasClass(g.activeClass);(!a||angular.isDefined(e.uncheckable))&&c.$apply(function(){h.$setViewValue(a?null:c.$eval(e.btnRadio)),h.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(a,b,c){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(d,e,f,g){function h(){return j(f.btnCheckboxTrue,!0)}function i(){return j(f.btnCheckboxFalse,!1)}function j(a,b){var c=d.$eval(a);return angular.isDefined(c)?c:b}c||b.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var k=g[0],l=g[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(k.activeClass,angular.equals(l.$modelValue,h()))},e.bind(k.toggleEvent,function(){f.disabled||d.$apply(function(){l.$setViewValue(e.hasClass(k.activeClass)?i():h()),l.$render()})}),e.on("keypress",function(b){f.disabled||32!==b.which||a[0].activeElement!==e[0]||d.$apply(function(){l.$setViewValue(e.hasClass(k.activeClass)?i():h()),l.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(a,b,c,d){function e(b,c,e){s||(angular.extend(b,{direction:e,active:!0}),angular.extend(m.currentSlide||{},{direction:e,active:!1}),d.enabled()&&!a.noTransition&&!a.$currentTransition&&b.$element&&m.slides.length>1&&(b.$element.data(q,b.direction),m.currentSlide&&m.currentSlide.$element&&m.currentSlide.$element.data(q,b.direction),a.$currentTransition=!0,o?d.on("addClass",b.$element,function(b,c){"close"===c&&(a.$currentTransition=null,d.off("addClass",b))}):b.$element.one("$animate:close",function(){a.$currentTransition=null})),m.currentSlide=b,r=c,g())}function f(a){if(angular.isUndefined(n[a].index))return n[a];var b;n.length;for(b=0;b<n.length;++b)if(n[b].index==a)return n[b]}function g(){h();var b=+a.interval;!isNaN(b)&&b>0&&(k=c(i,b))}function h(){k&&(c.cancel(k),k=null)}function i(){var b=+a.interval;l&&!isNaN(b)&&b>0&&n.length?a.next():a.pause()}function j(b){b.length||(a.$currentTransition=null)}var k,l,m=this,n=m.slides=a.slides=[],o=angular.version.minor>=4,p="uib-noTransition",q="uib-slideDirection",r=-1;m.currentSlide=null;var s=!1;m.select=a.select=function(b,c){var d=a.indexOfSlide(b);void 0===c&&(c=d>m.getCurrentIndex()?"next":"prev"),b&&b!==m.currentSlide&&!a.$currentTransition&&e(b,d,c)},a.$on("$destroy",function(){s=!0}),m.getCurrentIndex=function(){return m.currentSlide&&angular.isDefined(m.currentSlide.index)?+m.currentSlide.index:r},a.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:n.indexOf(a)},a.next=function(){var b=(m.getCurrentIndex()+1)%n.length;return 0===b&&a.noWrap()?void a.pause():m.select(f(b),"next")},a.prev=function(){var b=m.getCurrentIndex()-1<0?n.length-1:m.getCurrentIndex()-1;return a.noWrap()&&b===n.length-1?void a.pause():m.select(f(b),"prev")},a.isActive=function(a){return m.currentSlide===a},a.$watch("interval",g),a.$watchCollection("slides",j),a.$on("$destroy",h),a.play=function(){l||(l=!0,g())},a.pause=function(){a.noPause||(l=!1,h())},m.addSlide=function(b,c){b.$element=c,n.push(b),1===n.length||b.active?(m.select(n[n.length-1]),1===n.length&&a.play()):b.active=!1},m.removeSlide=function(a){angular.isDefined(a.index)&&n.sort(function(a,b){return+a.index>+b.index});var b=n.indexOf(a);n.splice(b,1),n.length>0&&a.active?b>=n.length?m.select(n[b-1]):m.select(n[b]):r>b&&r--,
0===n.length&&(m.currentSlide=null)},a.$watch("noTransition",function(a){b.data(p,a)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$injector","$animate",function(a,b){function c(a,b,c){a.removeClass(b),c&&c()}var d="uib-noTransition",e="uib-slideDirection",f=null;return a.has("$animateCss")&&(f=a.get("$animateCss")),{beforeAddClass:function(a,g,h){if("active"==g&&a.parent()&&a.parent().parent()&&!a.parent().parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k+" "+j,h);return a.addClass(j),f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()},beforeRemoveClass:function(a,g,h){if("active"===g&&a.parent()&&a.parent().parent()&&!a.parent().parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k,h);return f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(a,b,c,d,e){e||d.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,c("UibCarouselController",{$scope:a,$element:b}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(a,b){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){b||a.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(a,b){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(c,d,e,f){b||a.warn("slide is now deprecated. Use uib-slide instead."),f.addSlide(c,d),c.$on("$destroy",function(){f.removeSlide(c)}),c.$watch("active",function(a){a&&f.select(c)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(a,b,c){function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}var f,g,h=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){f=b.id,this.parsers={},g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},hh:{regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},h:{regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},a:{regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)}}}},this.init(),this.parse=function(c,g,i){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(h,"\\$&"),b.id!==f&&this.init(),this.parsers[g]||(this.parsers[g]=d(g));var j=this.parsers[g],k=j.regex,l=j.map,m=c.match(k);if(m&&m.length){var n,o;angular.isDate(i)&&!isNaN(i.getTime())?n={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&a.warn("dateparser:","baseDate is not a valid date"),n={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,q=m.length;q>p;p++){var r=l[p-1];r.apply&&r.apply.call(n,m[p])}return e(n.year,n.month,n.date)&&(angular.isDate(i)&&!isNaN(i.getTime())?(o=new Date(i),o.setFullYear(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds||0)):o=new Date(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds||0)),o}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(a,b,c){b||a.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,c)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(a,b,c){b||a.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,c)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){i[d]=angular.isDefined(c)?c:b[d],a[d]=i[d],("minMode"==d&&i.modes.indexOf(a.datepickerMode)<i.modes.indexOf(i[d])||"maxMode"==d&&i.modes.indexOf(a.datepickerMode)>i.modes.indexOf(i[d]))&&(a.datepickerMode=i[d])}):(i[d]=g[d]||null,a[d]=i[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){i.element[0].focus()};a.$on("uib:datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):a.toggleMode("up"===c?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,3)},this.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/e,10)*e+1}var e;this.element=b,this.yearpickerInit=function(){e=this.yearRange,this.step={years:e}},this._refreshView=function(){for(var b,c=new Array(e),f=0,g=d(this.activeDate.getFullYear());e>f;f++)b=new Date(this.activeDate),b.setFullYear(g+f,0,1),c[f]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+f});a.title=[c[0].label,c[e-1].label].join(" - "),a.rows=this.split(c,5)},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*this.step.years:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+e-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0]||d[2],f=d[1];f.init(e)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0]||d[2],f=d[1];f.init(e)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0]||d[2];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function n(b){if(angular.isNumber(b)&&(b=new Date(b)),b){if(angular.isDate(b)&&!isNaN(b))return b;if(angular.isString(b)){var c=j.parse(b,r,a.date);return isNaN(c)?void 0:c}return void 0}return null}function o(a,b){var d=a||b;if(!c.ngRequired&&!d)return!0;if(angular.isNumber(d)&&(d=new Date(d)),d){if(angular.isDate(d)&&!isNaN(d))return!0;if(angular.isString(d)){var e=j.parse(d,r);return!isNaN(e)}return!1}return!0}function p(c){var d=A[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}function q(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}var r,s,t,u,v,w,x,y,z,A,B={},C=!1;a.watchData={},this.init=function(h){if(z=h,s=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):k.closeOnDateSelection,t=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):k.appendToBody,u=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):k.onOpenFocus,v=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:k.datepickerPopupTemplateUrl,w=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:k.datepickerTemplateUrl,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):k.showButtonBar,k.html5Types[c.type]?(r=k.html5Types[c.type],C=!0):(r=c.datepickerPopup||c.uibDatepickerPopup||k.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||k.datepickerPopup;if(c!==r&&(r=c,z.$modelValue=null,!r))throw new Error("uibDatepickerPopup must have a date format specified.")})),!r)throw new Error("uibDatepickerPopup must have a date format specified.");if(C&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(x=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),x.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":v}),y=angular.element(x.children()[0]),y.attr("template-url",w),C&&"month"===c.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),c.datepickerOptions){var l=a.$parent.$eval(c.datepickerOptions);l&&l.initDate&&(a.initDate=l.initDate,y.attr("init-date","initDate"),delete l.initDate),angular.forEach(l,function(a,b){y.attr(m(b),a)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(b){if(c[b]){var d=e(c[b]);if(a.$parent.$watch(d,function(c){a.watchData[b]=c,("minDate"===b||"maxDate"===b)&&(B[b]=new Date(c))}),y.attr(m(b),"watchData."+b),"datepickerMode"===b){var f=d.assign;a.$watch("watchData."+b,function(b,c){angular.isFunction(f)&&b!==c&&f(a.$parent,b)})}}}),c.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.showWeeks&&y.attr("show-weeks",c.showWeeks),c.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),C?z.$formatters.push(function(b){return a.date=b,b}):(z.$$parserName="date",z.$validators.date=o,z.$parsers.unshift(n),z.$formatters.push(function(b){return a.date=b,z.$isEmpty(b)?b:i(b,r)})),z.$viewChangeListeners.push(function(){a.date=j.parse(z.$viewValue,r,a.date)}),b.bind("keydown",q),A=d(x)(a),x.remove(),t?f.find("body").append(A):b.after(A),a.$on("$destroy",function(){a.isOpen===!0&&(g.$$phase||a.$apply(function(){a.isOpen=!1})),A.remove(),b.unbind("keydown",q),f.unbind("click",p)})},a.getText=function(b){return a[b+"Text"]||k[b+"Text"]},a.isDisabled=function(b){return"today"===b&&(b=new Date),a.watchData.minDate&&a.compare(b,B.minDate)<0||a.watchData.maxDate&&a.compare(b,B.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){angular.isDefined(c)&&(a.date=c);var d=a.date?i(a.date,r):null;b.val(d),z.$setViewValue(d),s&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(a.isOpen=!1,b[0].focus())},a.select=function(b){if("today"===b){var c=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(c.getFullYear(),c.getMonth(),c.getDate())):b=new Date(c.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(){a.isOpen=!1,b[0].focus()},a.$watch("isOpen",function(c){c?(a.position=t?h.offset(b):h.position(b),a.position.top=a.position.top+b.prop("offsetHeight"),l(function(){u&&a.$broadcast("uib:datepicker.focus"),f.bind("click",p)},0,!1)):f.unbind("click",p)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(a,b,c,d,e,f,g,h,i){i||e.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var j=this,k={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){j[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){j[d]=a?new Date(a):null,j.refreshView()}):j[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){j[d]=angular.isDefined(c)?c:b[d],a[d]=j[d],("minMode"==d&&j.modes.indexOf(a.datepickerMode)<j.modes.indexOf(j[d])||"maxMode"==d&&j.modes.indexOf(a.datepickerMode)>j.modes.indexOf(j[d]))&&(a.datepickerMode=j[d])}):(j[d]=g[d]||null,a[d]=j[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(k.$isEmpty(k.$modelValue)||k.$invalid)&&(j.activeDate=a,j.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===j.compare(b.date,j.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){k=a,k.$render=function(){j.render()}},this.render=function(){if(k.$viewValue){var a=new Date(k.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=k.$viewValue?new Date(k.$viewValue):null;k.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=k.$viewValue?new Date(k.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===j.minMode){var c=k.$viewValue?new Date(k.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),k.$setViewValue(c),k.$render()}else j.activeDate=b,a.datepickerMode=j.modes[j.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=j.activeDate.getFullYear()+a*(j.step.years||0),c=j.activeDate.getMonth()+a*(j.step.months||0);j.activeDate.setFullYear(b,c,1),j.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===j.maxMode&&1===b||a.datepickerMode===j.minMode&&-1===b||(a.datepickerMode=j.modes[j.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var l=function(){j.element[0].focus()};a.$on("uib:datepicker.focus",l),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),j.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(j.isDisabled(j.activeDate))return;a.select(j.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(j.handleKeyDown(c,b),j.refreshView()):a.toggleMode("up"===c?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(c,d,e,f){b||a.warn("datepicker is now deprecated. Use uib-datepicker instead.");var g=f[0],h=f[1];g.init(h)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(c,d,e,f){b||a.warn("daypicker is now deprecated. Use uib-daypicker instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(c,d,e,f){b||a.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(c,d,e,f){b||a.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var g=f[0];angular.extend(g,f[1]),g.yearpickerInit(),g.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(a,b){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,d,e,f){b||a.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"},link:function(){b||a.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.openClass,q=angular.noop,r=c.onToggle?d(c.onToggle):angular.noop,s=!1,t=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(m=d(c.isOpen),q=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),s=angular.isDefined(c.dropdownAppendToBody),t=angular.isDefined(c.uibKeyboardNav),s&&n.dropdownMenu&&(i.find("body").append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return t},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:angular.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(s&&n.dropdownMenu){var e=h.positionElements(b,n.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},m=n.dropdownMenu.hasClass("dropdown-menu-right");m?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),n.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,p).then(function(){angular.isDefined(c)&&c!==d&&r(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){
l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var t=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(t),n.dropdownMenu=t}f.close(o),n.selectedOption=null}angular.isFunction(q)&&q(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==o.getAutoClose()&&(o.isOpen=!1)});var u=a.$on("$destroy",function(){o.$destroy()});o.$on("$destroy",u)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=d.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===b.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:angular.isNumber(d.selectedOption)?d.selectedOption=0===d.selectedOption?0:d.selectedOption-1:d.selectedOption=b.length-1}b[d.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(a,b,c){b||a.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,c)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m){m||l.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var n,o,p=this,q=a.$new(),r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(o=d(c.isOpen),s=o.assign,a.$watch(o,function(a){q.isOpen=!!a})),u=angular.isDefined(c.dropdownAppendToBody),v=angular.isDefined(c.uibKeyboardNav),u&&p.dropdownMenu&&(i.find("body").append(p.dropdownMenu),b.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(a){return q.isOpen=arguments.length?!!a:!q.isOpen},this.isOpen=function(){return q.isOpen},q.getToggleElement=function(){return p.toggleElement},q.getAutoClose=function(){return c.autoClose||"always"},q.getElement=function(){return b},q.isKeynavEnabled=function(){return v},q.focusDropdownEntry=function(a){var c=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===c.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=c.length-1}c[p.selectedOption].focus()},q.getDropdownElement=function(){return p.dropdownMenu},q.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},q.$watch("isOpen",function(c,d){if(u&&p.dropdownMenu){var e=h.positionElements(b,p.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},l=p.dropdownMenu.hasClass("dropdown-menu-right");l?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),p.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,r).then(function(){angular.isDefined(c)&&c!==d&&t(a,{open:!!c})}),c)p.dropdownMenuTemplateUrl&&k(p.dropdownMenuTemplateUrl).then(function(a){n=q.$new(),j(a.trim())(n,function(a){var b=a;p.dropdownMenu.replaceWith(b),p.dropdownMenu=b})}),q.focusToggleElement(),f.open(q);else{if(p.dropdownMenuTemplateUrl){n&&n.$destroy();var m=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(m),p.dropdownMenu=m}f.close(q),p.selectedOption=null}angular.isFunction(s)&&s(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==q.getAutoClose()&&(q.isOpen=!1)});var w=a.$on("$destroy",function(){q.$destroy()});q.$on("$destroy",w)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(a,b){return{controller:"DropdownController",link:function(c,d,e,f){b||a.warn("dropdown is now deprecated. Use uib-dropdown instead."),f.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(a,b){return{restrict:"AC",require:"?^dropdown",link:function(c,d,e,f){if(f&&!angular.isDefined(e.dropdownNested)){b||a.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),d.addClass("dropdown-menu");var g=e.templateUrl;g&&(f.dropdownMenuTemplateUrl=g),f.dropdownMenu||(f.dropdownMenu=d)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(a,b){return{restrict:"A",require:"?^dropdown",link:function(c,d,e,f){b||a.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),d.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=f.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===b.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=b.length-1}b[f.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(a,b){return{require:"?^dropdown",link:function(c,d,e,f){if(b||a.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),f){d.addClass("dropdown-toggle"),f.toggleElement=d;var g=function(a){a.preventDefault(),d.hasClass("disabled")||e.disabled||c.$apply(function(){f.toggle()})};d.bind("click",g),d.attr({"aria-haspopup":!0,"aria-expanded":!1}),c.$watch(f.isOpen,function(a){d.attr("aria-expanded",!!a)}),c.$on("$destroy",function(){d.unbind("click",g)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,f){d.addClass("modal-backdrop"),f.modalInClass&&(e?e(d,{addClass:f.modalInClass}).start():a.addClass(d,f.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var g=c();e?e(d,{removeClass:f.modalInClass}).start().then(g):a.removeClass(d,f.modalInClass).then(g)}))}var e=null;return b.has("$animateCss")&&(e=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(a,b,c,d){var e=null;return d.has("$animateCss")&&(e=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,f,g){f.addClass(g.windowClass||""),f.addClass(g.windowTopClass||""),d.size=g.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",d.close),d.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"==a&&h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=e?e(f,{addClass:g.modalInClass}).start():c.addClass(f,g.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();e?e(f,{removeClass:g.modalInClass}).start().then(d):c.removeClass(f,g.modalInClass).then(d)})),b.when(h).then(function(){var a=f[0].querySelector("[autofocus]");a?a.focus():f[0].focus()});var i=a.getTop();i&&a.modalRendered(i.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h,i){function j(){for(var a=-1,b=u.keys(),c=0;c<b.length;c++)u.get(b[c]).value.backdrop&&(a=c);return a}function k(a,b){var d=c.find("body").eq(0),e=u.get(a).value;u.remove(a),n(e.modalDomEl,e.modalScope,function(){var b=e.openedClass||t;v.remove(b,a),d.toggleClass(b,v.hasKey(b)),l(!0)}),m(),b&&b.focus?b.focus():d.focus()}function l(a){var b;u.length()>0&&(b=u.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function m(){if(q&&-1==j()){var a=r;n(q,r,function(){a=null}),q=void 0,r=void 0}}function n(b,c,d){function e(){e.done||(e.done=!0,p?p(b,{event:"leave"}).start().then(function(){b.remove()}):a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(w.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function o(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var p=null;g.has("$animateCss")&&(p=g.get("$animateCss"));var q,r,s,t="modal-open",u=i.createNew(),v=h.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,y="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(j,function(a){r&&(r.index=a)}),c.bind("keydown",function(a){if(a.isDefaultPrevented())return a;var b=u.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){w.dismiss(b.key,"escape key press")});break;case 9:w.loadFocusElementList(b);var c=!1;a.shiftKey?w.isFocusInFirstItem(a)&&(c=w.focusLastFocusableElement()):w.isFocusInLastItem(a)&&(c=w.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),w.open=function(a,b){var f=c[0].activeElement,g=b.openedClass||t;l(!1),u.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard,openedClass:b.openedClass,windowTopClass:b.windowTopClass}),v.put(g,a);var h=c.find("body").eq(0),i=j();if(i>=0&&!q){r=e.$new(!0),r.index=i;var k=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');k.attr("backdrop-class",b.backdropClass),b.animation&&k.attr("modal-animation","true"),q=d(k)(r),h.append(q)}var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,"window-top-class":b.windowTopClass,size:b.size,index:u.length()-1,animate:"animate"}).html(b.content),b.animation&&m.attr("modal-animation","true");var n=d(m)(b.scope);u.top().value.modalDomEl=n,u.top().value.modalOpener=f,h.append(n),h.addClass(g),w.clearFocusListCache()},w.close=function(a,b){var c=u.get(a);return c&&o(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),k(a,c.value.modalOpener),!0):!c},w.dismiss=function(a,b){var c=u.get(a);return c&&o(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),k(a,c.value.modalOpener),!0):!c},w.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},w.getTop=function(){return u.top()},w.modalRendered=function(a){var b=u.get(a);b&&b.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return s.length>0?(s[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return s.length>0?(s[s.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(a){return s.length>0?(a.target||a.srcElement)==s[0]:!1},w.isFocusInLastItem=function(a){return s.length>0?(a.target||a.srcElement)==s[s.length-1]:!1},w.clearFocusListCache=function(){s=[],x=0},w.loadFocusElementList=function(a){if((void 0===s||!s.length)&&a){var b=a.value.modalDomEl;b&&b.length&&(s=b[0].querySelectorAll(y))}},w}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(b,c,d,e,f,g,h,i){function j(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function k(a){var c=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?c.push(d.when(b.invoke(a))):angular.isString(a)?c.push(d.when(b.get(a))):c.push(d.when(a))}),c}var l={},m=null;return l.getPromiseChain=function(){return m},l.open=function(b){function e(){return r}var l=d.defer(),n=d.defer(),o=d.defer(),p={result:l.promise,opened:n.promise,rendered:o.promise,close:function(a){return g.close(p,a)},dismiss:function(a){return g.dismiss(p,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var q,r=d.all([j(b)].concat(k(b.resolve)));return q=m=d.all([m]).then(e,e).then(function(a){var d=(b.scope||c).$new();d.$close=p.close,d.$dismiss=p.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var e,j={},k=1;b.controller&&(j.$scope=d,j.$uibModalInstance=p,Object.defineProperty(j,"$modalInstance",{get:function(){return h||i.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),p}}),angular.forEach(b.resolve,function(b,c){j[c]=a[k++]}),e=f(b.controller,j),b.controllerAs&&(b.bindToController&&angular.extend(e,d),d[b.controllerAs]=e)),g.open(p,{scope:d,deferred:l,renderDeferred:o,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowTopClass:b.windowTopClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size,openedClass:b.openedClass}),n.resolve(!0)},function(a){n.reject(a),l.reject(a)})["finally"](function(){m===q&&(m=null)}),p},l}]};return a}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(a,b,c,d,e){function f(b,f,h){e||d.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),f.addClass("modal-backdrop"),h.modalInClass&&(g?g(f,{addClass:h.modalInClass}).start():a.addClass(f,h.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var d=c();g?g(f,{removeClass:h.modalInClass}).start().then(d):a.removeClass(f,h.modalInClass).then(d)}))}var g=null;return b.has("$animateCss")&&(g=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),f}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(a,b,c,d,e,f){var g=null;return d.has("$animateCss")&&(g=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,h,i){f||e.warn("modal-window is now deprecated. Use uib-modal-window instead."),h.addClass(i.windowClass||""),h.addClass(i.windowTopClass||""),d.size=i.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},h.on("click",d.close),d.$isRendered=!0;var j=b.defer();i.$observe("modalRender",function(a){"true"==a&&j.resolve()}),j.promise.then(function(){var e=null;i.modalInClass&&(e=g?g(h,{addClass:i.modalInClass}).start():c.addClass(h,i.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();g?g(h,{removeClass:i.modalInClass}).start().then(d):c.removeClass(h,i.modalInClass).then(d)})),b.when(e).then(function(){var a=h[0].querySelector("[autofocus]");a?a.focus():h[0].focus()});var f=a.getTop();f&&a.modalRendered(f.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(a,b){return{compile:function(c,d){b||a.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),d.modalAnimation&&c.addClass(d.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(a,b){return{link:function(c,d,e,f,g){b||a.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),g(c.$parent,function(a){d.empty(),d.append(a)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k,l){l||k.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,j)}]).provider("$modal",["$uibModalProvider",function(a){angular.extend(this,a),this.$get=["$injector","$log","$modalSuppressWarning",function(b,c,d){return d||c.warn("$modal is now deprecated. Use $uibModal instead."),b.invoke(a.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(a,b,c,d,e){e||d.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var f=this,g={$setViewValue:angular.noop},h=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(d,e){g=d,this.config=e,g.$render=function(){f.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){f.itemsPerPage=parseInt(b,10),a.totalPages=f.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=f.calculateTotalPages()}),a.$watch("totalPages",function(b){h(a.$parent,b),a.page>b?a.selectPage(b):g.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(g.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),g.$setViewValue(b),g.$render())},a.getText=function(b){return a[b+"Text"]||f.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(a,b,c,d){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(e,f,g,h){function i(a,b,c){return{number:a,text:b,active:c}}function j(a,b){var c=[],d=1,e=b,f=angular.isDefined(m)&&b>m;f&&(n?(d=Math.max(a-Math.floor(m/2),1),e=d+m-1,e>b&&(e=b,d=e-m+1)):(d=(Math.ceil(a/m)-1)*m+1,e=Math.min(d+m-1,b)));for(var g=d;e>=g;g++){var h=i(g,g,g===a);c.push(h)}if(f&&!n){if(d>1){var j=i(d-1,"...",!1);c.unshift(j)}if(b>e){var k=i(e+1,"...",!1);c.push(k)}}return c}d||c.warn("pagination is now deprecated. Use uib-pagination instead.");var k=h[0],l=h[1];if(l){var m=angular.isDefined(g.maxSize)?e.$parent.$eval(g.maxSize):b.maxSize,n=angular.isDefined(g.rotate)?e.$parent.$eval(g.rotate):b.rotate;e.boundaryLinks=angular.isDefined(g.boundaryLinks)?e.$parent.$eval(g.boundaryLinks):b.boundaryLinks,e.directionLinks=angular.isDefined(g.directionLinks)?e.$parent.$eval(g.directionLinks):b.directionLinks,k.init(l,b),g.maxSize&&e.$parent.$watch(a(g.maxSize),function(a){m=parseInt(a,10),k.render()});var o=k.render;k.render=function(){o(),e.page>0&&e.page<=e.totalPages&&(e.pages=j(e.page,e.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(a,b,c){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(d,e,f,g){c||b.warn("pager is now deprecated. Use uib-pager instead.");var h=g[0],i=g[1];i&&(d.align=angular.isDefined(f.align)?d.$parent.$eval(f.align):a.align,h.init(i,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){var n=m.createNew();return h.on("keypress",function(a){if(27===a.which){var b=n.top();b&&(b.value.close(),n.removeTop(),b=null)}}),function(e,k,m,o){function p(a){var b=(a||o.trigger||m).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}o=angular.extend({},b,d,o);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup title="'+r+"title"+s+'" '+(o.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){L.isOpen?q():m()}function m(){(!K||a.$eval(d[k+"Enable"]))&&(u(),x(),L.popupDelay?F||(F=g(r,L.popupDelay,!1)):r())}function q(){s(),L.popupCloseDelay?G||(G=g(t,L.popupCloseDelay,!1)):t()}function r(){return s(),u(),L.content?(v(),void L.$evalAsync(function(){L.isOpen=!0,y(!0),Q()})):angular.noop}function s(){F&&(g.cancel(F),F=null),H&&(g.cancel(H),H=null)}function t(){s(),u(),L&&L.$evalAsync(function(){L.isOpen=!1,y(!1),L.animation?E||(E=g(w,150,!1)):w()})}function u(){G&&(g.cancel(G),G=null),E&&(g.cancel(E),E=null)}function v(){C||(D=L.$new(),C=c(D,function(a){I?h.find("body").append(a):b.after(a)}),z())}function w(){A(),E=null,C&&(C.remove(),C=null),D&&(D.$destroy(),D=null)}function x(){L.title=d[k+"Title"],O?L.content=O(a):L.content=d[e],L.popupClass=d[k+"Class"],L.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:o.placement;var b=parseInt(d[k+"PopupDelay"],10),c=parseInt(d[k+"PopupCloseDelay"],10);L.popupDelay=isNaN(b)?o.popupDelay:b,L.popupCloseDelay=isNaN(c)?o.popupCloseDelay:c}function y(b){N&&angular.isFunction(N.assign)&&N.assign(a,b)}function z(){P.length=0,O?(P.push(a.$watch(O,function(a){L.content=a,!a&&L.isOpen&&t()})),P.push(D.$watch(function(){M||(M=!0,D.$$postDigest(function(){M=!1,L&&L.isOpen&&Q()}))}))):P.push(d.$observe(e,function(a){L.content=a,!a&&L.isOpen?t():Q()})),P.push(d.$observe(k+"Title",function(a){L.title=a,L.isOpen&&Q()})),P.push(d.$observe(k+"Placement",function(a){L.placement=a?a:o.placement,L.isOpen&&Q()}))}function A(){P.length&&(angular.forEach(P,function(a){a()}),P.length=0)}function B(){var a=d[k+"Trigger"];R(),J=p(a),"none"!==J.show&&J.show.forEach(function(a,c){a===J.hide[c]?b[0].addEventListener(a,j):a&&(b[0].addEventListener(a,m),J.hide[c].split(" ").forEach(function(a){b[0].addEventListener(a,q)})),b.on("keypress",function(a){27===a.which&&q()})})}var C,D,E,F,G,H,I=angular.isDefined(o.appendToBody)?o.appendToBody:!1,J=p(void 0),K=angular.isDefined(d[k+"Enable"]),L=a.$new(!0),M=!1,N=angular.isDefined(d[k+"IsOpen"])?l(d[k+"IsOpen"]):!1,O=o.useContentExp?l(d[e]):!1,P=[],Q=function(){C&&C.html()&&(H||(H=g(function(){C.css({top:0,left:0});var a=i.positionElements(b,C,L.placement,I);a.top+="px",a.left+="px",a.visibility="visible",C.css(a),H=null},0,!1)))};L.origScope=a,L.isOpen=!1,n.add(L,{close:t}),L.contentExp=function(){return L.content},d.$observe("disabled",function(a){a&&s(),a&&L.isOpen&&t()}),N&&a.$watch(N,function(a){L&&!a===L.isOpen&&j()});var R=function(){J.show.forEach(function(a){b.unbind(a,m)}),J.hide.forEach(function(a){a.split(" ").forEach(function(a){b[0].removeEventListener(a,q)})})};B();var S=a.$eval(d[k+"Animation"]);L.animation=angular.isDefined(S)?!!S:o.animation;var T=a.$eval(d[k+"AppendToBody"]);I=angular.isDefined(T)?T:I,I&&a.$on("$locationChangeSuccess",function(){L.isOpen&&t()}),a.$on("$destroy",function(){s(),u(),R(),w(),n.remove(L),L=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(a){angular.extend(this,a),this.$get=["$log","$tooltipSuppressWarning","$injector",function(b,c,d){return c||b.warn("$tooltip is now deprecated. Use $uibTooltip instead."),d.invoke(a.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(a,b,c,d,e,f){return{link:function(g,h,i){f||e.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var j,k,l,m=g.$eval(i.tooltipTemplateTranscludeScope),n=0,o=function(){k&&(k.remove(),k=null),j&&(j.$destroy(),j=null),l&&(a.leave(l).then(function(){k=null}),k=l,l=null)};g.$watch(b.parseAsResourceUrl(i.tooltipTemplateTransclude),function(b){
var e=++n;b?(d(b,!0).then(function(d){if(e===n){var f=m.$new(),g=d,i=c(g)(f,function(b){o(),a.enter(b,h)});j=f,l=i,j.$emit("$includeContentLoaded",b)}},function(){e===n&&(o(),g.$emit("$includeContentError",b))}),g.$emit("$includeContentRequested",b)):o()}),g.$on("$destroy",o)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(a,b){return{restrict:"A",link:function(c,d,e){b||a.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),c.placement&&d.addClass(c.placement),c.popupClass&&d.addClass(c.popupClass),c.animation()&&d.addClass(e.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(c,d){b||a.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),d.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(c,d){b||a.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),d.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(c,d){b||a.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),d.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(c,d){b||a.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),d.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(c,d){b||a.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),d.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(a){return a("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(c,d){b||a.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),d.addClass("popover")}}}]).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c,f){e||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.title=f&&angular.isDefined(f.title)?f.title:"progressbar",b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){var a=d.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("max",function(b){d.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(a,b,c,d,e){e||d.warn("ProgressController is now deprecated. Use UibProgressController instead.");var f=this,g=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c,d){g||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.title=d&&angular.isDefined(d.title)?d.title:"progressbar",b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){b.percent=+(100*b.value/b.max).toFixed(2);var a=f.bars.reduce(function(a,b){return a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,f.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)},a.$watch("max",function(b){f.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){b||a.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(c,d,e,f){b||a.warn("bar is now deprecated. Use uib-bar instead."),f.addBar(c,d)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(c,d,e,f){b||a.warn("progressbar is now deprecated. Use uib-progressbar instead."),f.addBar(c,angular.element(d.children()[0]),{title:e.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(a,b,c,d,e){e||d.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,c("UibRatingController",{$scope:a,$attrs:b}))}]).directive("rating",["$log","$ratingSuppressWarning",function(a,b){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(c,d,e,f){b||a.warn("rating is now deprecated. Use uib-rating instead.");var g=f[0],h=f[1];g.init(h)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect(),a.selectCalled=!1)}),a.active=!0,a.selectCalled||(a.onSelect(),a.selectCalled=!0)},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(b,c,d,e,f){b.$watch("active",function(a){a&&e.select(b)}),b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase()||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(a,b,c,d){d||c.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,b("UibTabsetController",{$scope:a}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(a,b){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(c,d,e){b||a.warn("tabset is now deprecated. Use uib-tabset instead."),c.vertical=angular.isDefined(e.vertical)?c.$parent.$eval(e.vertical):!1,c.justified=angular.isDefined(e.justified)?c.$parent.$eval(e.justified):!1}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(a,b,c){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(d,e,f,g,h){c||b.warn("tab is now deprecated. Use uib-tab instead."),d.$watch("active",function(a){a&&g.select(d)}),d.disabled=!1,f.disable&&d.$parent.$watch(a(f.disable),function(a){d.disabled=!!a}),d.select=function(){d.disabled||(d.active=!0)},g.addTab(d),d.$on("$destroy",function(){g.removeTab(d)}),d.$transcludeFn=h}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(a,b){return{restrict:"A",require:"^tab",link:function(c,d){b||a.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),c.$watch("headingElement",function(a){a&&(d.html(""),d.append(a))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(a,b){function c(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(d,e,f){b||a.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var g=d.$eval(f.tabContentTransclude);g.$transcludeFn(g.$parent,function(a){angular.forEach(a,function(a){c(a)?g.headingElement=a:e.append(a)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===r[1]&&(b+=12)),b):void 0}function i(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function j(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function k(a){l(),q.$setViewValue(new Date(p)),m(a)}function l(){q.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function m(b){var c=p.getHours(),d=p.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:j(c),"m"!==b&&(a.minutes=j(d)),a.meridian=p.getHours()<12?r[0]:r[1]}function n(a,b){var c=new Date(a.getTime()+6e4*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes()),d}function o(a){p=n(p,a),k()}var p=new Date,q={$setViewValue:angular.noop},r=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){q=b,q.$render=this.render,q.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;h&&this.setupMousewheelEvents(e,f);var i=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;i&&this.setupArrowkeyEvents(e,f),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f)};var s=g.hourStep;c.hourStep&&a.$parent.$watch(d(c.hourStep),function(a){s=parseInt(a,10)});var t=g.minuteStep;c.minuteStep&&a.$parent.$watch(d(c.minuteStep),function(a){t=parseInt(a,10)});var u;a.$parent.$watch(d(c.min),function(a){var b=new Date(a);u=isNaN(b)?void 0:b});var v;a.$parent.$watch(d(c.max),function(a){var b=new Date(a);v=isNaN(b)?void 0:b}),a.noIncrementHours=function(){var a=n(p,60*s);return a>v||p>a&&u>a},a.noDecrementHours=function(){var a=n(p,60*-s);return u>a||a>p&&a>v},a.noIncrementMinutes=function(){var a=n(p,t);return a>v||p>a&&u>a},a.noDecrementMinutes=function(){var a=n(p,-t);return u>a||a>p&&a>v},a.noToggleMeridian=function(){return p.getHours()<13?n(p,720)>v:n(p,-720)<u},a.showMeridian=g.showMeridian,c.showMeridian&&a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,q.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(p.setHours(c),k())}else m()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){q.$setViewValue(null),q.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=h(),b=i();angular.isDefined(a)&&angular.isDefined(b)?(p.setHours(a),u>p||p>v?d(!0):k("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=j(a.hours)})}),a.updateMinutes=function(){var a=i(),b=h();angular.isDefined(a)&&angular.isDefined(b)?(p.setMinutes(a),u>p||p>v?d(void 0,!0):k("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=j(a.minutes)})})},this.render=function(){var b=q.$viewValue;isNaN(b)?(q.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(p=b),u>p||p>v?(q.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):l(),m())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*s)},a.decrementHours=function(){a.noDecrementHours()||o(60*-s)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(t)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(-t)},a.toggleMeridian=function(){a.noToggleMeridian()||o(720*(p.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(a,b,c,d,e,f){f||e.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,d("UibTimepickerController",{$scope:a,$element:b,$attrs:c}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(a,b){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(c,d,e,f){b||a.warn("timepicker is now deprecated. Use uib-timepicker instead.");var g=f[0],h=f[1];h&&g.init(h,d.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){K.moveInProgress||(K.moveInProgress=!0,K.$digest()),S&&g.cancel(S),S=g(function(){K.matches.length&&n(),K.moveInProgress=!1},r)}function n(){K.position=C?k.offset(b):k.position(b),K.position.top+=b.prop("offsetHeight")}var o,p,q=[9,13,27,38,40],r=200,s=a.$eval(c.typeaheadMinLength);s||0===s||(s=1);var t,u,v=a.$eval(c.typeaheadWaitMs)||0,w=a.$eval(c.typeaheadEditable)!==!1,x=e(c.typeaheadLoading).assign||angular.noop,y=e(c.typeaheadOnSelect),z=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,A=e(c.typeaheadNoResults).assign||angular.noop,B=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,C=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,D=c.typeaheadAppendToElementId||!1,E=a.$eval(c.typeaheadFocusFirst)!==!1,F=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,G=e(c.ngModel),H=e(c.ngModel+"($$$p)"),I=function(b,c){return angular.isFunction(G(a))&&p&&p.$options&&p.$options.getterSetter?H(b,{$$$p:c}):G.assign(b,c)},J=l.parse(c.uibTypeahead),K=a.$new(),L=a.$on("$destroy",function(){K.$destroy()});K.$on("$destroy",L);var M="typeahead-"+K.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var N=angular.element("<div uib-typeahead-popup></div>");N.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&N.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var O=function(){K.matches=[],K.activeIdx=-1,b.attr("aria-expanded",!1)},P=function(a){return M+"-option-"+a};K.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",P(a))});var Q=function(a,b){return K.matches.length>b&&a?a.toUpperCase()===K.matches[b].label.toUpperCase():!1},R=function(c){var d={$viewValue:c};x(a,!0),A(a,!1),f.when(J.source(a,d)).then(function(e){var f=c===o.$viewValue;if(f&&t)if(e&&e.length>0){K.activeIdx=E?0:-1,A(a,!1),K.matches.length=0;for(var g=0;g<e.length;g++)d[J.itemName]=e[g],K.matches.push({id:P(g),label:J.viewMapper(K,d),model:e[g]});K.query=c,n(),b.attr("aria-expanded",!0),F&&1===K.matches.length&&Q(c,0)&&K.select(0)}else O(),A(a,!0);f&&x(a,!1)},function(){O(),x(a,!1),A(a,!0)})};C&&(angular.element(i).bind("resize",m),h.find("body").bind("scroll",m));var S;K.moveInProgress=!1,K.query=void 0;var T,U=function(a){T=g(function(){R(a)},v)},V=function(){T&&g.cancel(T)};O(),K.select=function(d){var e,f,h={};u=!0,h[J.itemName]=f=K.matches[d].model,e=J.modelMapper(a,h),I(a,e),o.$setValidity("editable",!0),o.$setValidity("parse",!0),y(a,{$item:f,$model:e,$label:J.viewMapper(a,h)}),O(),K.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.bind("keydown",function(a){if(0!==K.matches.length&&-1!==q.indexOf(a.which)){if(-1===K.activeIdx&&(9===a.which||13===a.which))return O(),void K.$digest();a.preventDefault(),40===a.which?(K.activeIdx=(K.activeIdx+1)%K.matches.length,K.$digest()):38===a.which?(K.activeIdx=(K.activeIdx>0?K.activeIdx:K.matches.length)-1,K.$digest()):13===a.which||9===a.which?K.$apply(function(){K.select(K.activeIdx)}):27===a.which&&(a.stopPropagation(),O(),K.$digest())}}),b.bind("blur",function(){z&&K.matches.length&&-1!==K.activeIdx&&!u&&(u=!0,K.$apply(function(){K.select(K.activeIdx)})),t=!1,u=!1});var W=function(a){b[0]!==a.target&&3!==a.which&&0!==K.matches.length&&(O(),j.$$phase||K.$digest())};h.bind("click",W),a.$on("$destroy",function(){h.unbind("click",W),(C||D)&&X.remove(),C&&(angular.element(i).unbind("resize",m),h.find("body").unbind("scroll",m)),N.remove()});var X=d(N)(K);C?h.find("body").append(X):D!==!1?angular.element(h[0].getElementById(D)).append(X):b.after(X),this.init=function(b,c){o=b,p=c,o.$parsers.unshift(function(b){return t=!0,0===s||b&&b.length>=s?v>0?(V(),U(b)):R(b):(x(a,!1),V(),O()),w?b:b?void o.$setValidity("editable",!1):(o.$setValidity("editable",!0),null)}),o.$formatters.push(function(b){var c,d,e={};return w||o.$setValidity("editable",!0),B?(e.$model=b,B(a,e)):(e[J.itemName]=b,c=J.viewMapper(a,e),e[J.itemName]=void 0,d=J.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(a,b,c,d){return d||c.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),b}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k){var l=[9,13,27,38,40],m=200;return{require:["ngModel","^?ngModelOptions"],link:function(n,o,p,q){function r(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),V&&d.cancel(V),V=d(function(){N.matches.length&&s(),N.moveInProgress=!1},m)}function s(){N.position=F?h.offset(o):h.position(o),N.position.top+=o.prop("offsetHeight")}k||j.warn("typeahead is now deprecated. Use uib-typeahead instead.");var t=q[0],u=q[1],v=n.$eval(p.typeaheadMinLength);v||0===v||(v=1);var w,x,y=n.$eval(p.typeaheadWaitMs)||0,z=n.$eval(p.typeaheadEditable)!==!1,A=b(p.typeaheadLoading).assign||angular.noop,B=b(p.typeaheadOnSelect),C=angular.isDefined(p.typeaheadSelectOnBlur)?n.$eval(p.typeaheadSelectOnBlur):!1,D=b(p.typeaheadNoResults).assign||angular.noop,E=p.typeaheadInputFormatter?b(p.typeaheadInputFormatter):void 0,F=p.typeaheadAppendToBody?n.$eval(p.typeaheadAppendToBody):!1,G=p.typeaheadAppendToElementId||!1,H=n.$eval(p.typeaheadFocusFirst)!==!1,I=p.typeaheadSelectOnExact?n.$eval(p.typeaheadSelectOnExact):!1,J=b(p.ngModel),K=b(p.ngModel+"($$$p)"),L=function(a,b){return angular.isFunction(J(n))&&u&&u.$options&&u.$options.getterSetter?K(a,{$$$p:b}):J.assign(a,b)},M=i.parse(p.typeahead),N=n.$new(),O=n.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",O);var P="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());o.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":P});var Q=angular.element("<div typeahead-popup></div>");Q.attr({id:P,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(p.typeaheadTemplateUrl)&&Q.attr("template-url",p.typeaheadTemplateUrl),angular.isDefined(p.typeaheadPopupTemplateUrl)&&Q.attr("popup-template-url",p.typeaheadPopupTemplateUrl);var R=function(){N.matches=[],N.activeIdx=-1,o.attr("aria-expanded",!1)},S=function(a){return P+"-option-"+a};N.$watch("activeIdx",function(a){0>a?o.removeAttr("aria-activedescendant"):o.attr("aria-activedescendant",S(a))});var T=function(a,b){return N.matches.length>b&&a?a.toUpperCase()===N.matches[b].label.toUpperCase():!1},U=function(a){var b={$viewValue:a};A(n,!0),D(n,!1),c.when(M.source(n,b)).then(function(c){var d=a===t.$viewValue;if(d&&w)if(c&&c.length>0){N.activeIdx=H?0:-1,D(n,!1),N.matches.length=0;for(var e=0;e<c.length;e++)b[M.itemName]=c[e],N.matches.push({id:S(e),label:M.viewMapper(N,b),model:c[e]});N.query=a,s(),o.attr("aria-expanded",!0),I&&1===N.matches.length&&T(a,0)&&N.select(0)}else R(),D(n,!0);d&&A(n,!1)},function(){R(),A(n,!1),D(n,!0)})};F&&(angular.element(f).bind("resize",r),e.find("body").bind("scroll",r));var V;N.moveInProgress=!1,R(),N.query=void 0;var W,X=function(a){W=d(function(){U(a)},y)},Y=function(){W&&d.cancel(W)};t.$parsers.unshift(function(a){return w=!0,0===v||a&&a.length>=v?y>0?(Y(),X(a)):U(a):(A(n,!1),Y(),R()),z?a:a?void t.$setValidity("editable",!1):(t.$setValidity("editable",!0),null)}),t.$formatters.push(function(a){var b,c,d={};return z||t.$setValidity("editable",!0),E?(d.$model=a,E(n,d)):(d[M.itemName]=a,b=M.viewMapper(n,d),d[M.itemName]=void 0,c=M.viewMapper(n,d),b!==c?b:a)}),N.select=function(a){var b,c,e={};x=!0,e[M.itemName]=c=N.matches[a].model,b=M.modelMapper(n,e),L(n,b),t.$setValidity("editable",!0),t.$setValidity("parse",!0),B(n,{$item:c,$model:b,$label:M.viewMapper(n,e)}),R(),N.$eval(p.typeaheadFocusOnSelect)!==!1&&d(function(){o[0].focus()},0,!1)},o.bind("keydown",function(a){if(0!==N.matches.length&&-1!==l.indexOf(a.which)){if(-1===N.activeIdx&&(9===a.which||13===a.which))return R(),
void N.$digest();a.preventDefault(),40===a.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===a.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===a.which||9===a.which?N.$apply(function(){N.select(N.activeIdx)}):27===a.which&&(a.stopPropagation(),R(),N.$digest())}}),o.bind("blur",function(){C&&N.matches.length&&-1!==N.activeIdx&&!x&&(x=!0,N.$apply(function(){N.select(N.activeIdx)})),w=!1,x=!1});var Z=function(a){o[0]!==a.target&&3!==a.which&&0!==N.matches.length&&(R(),g.$$phase||N.$digest())};e.bind("click",Z),n.$on("$destroy",function(){e.unbind("click",Z),(F||G)&&$.remove(),F&&(angular.element(f).unbind("resize",r),e.find("body").unbind("scroll",r)),Q.remove()});var $=a(Q)(N);F?e.find("body").append($):G!==!1?angular.element(e[0].getElementById(G)).append($):o.after($)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(a,b){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(c,d,e){a||b.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),c.templateUrl=e.templateUrl,c.isOpen=function(){return c.matches.length>0},c.isActive=function(a){return c.active==a},c.selectActive=function(a){c.active=a},c.selectMatch=function(a){c.select({activeIdx:a})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(a,b,c,d,e){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(f,g,h){d||e.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var i=c(h.templateUrl)(f.$parent)||"template/typeahead/typeahead-match.html";a(i).then(function(a){b(a.trim())(f,function(a){g.replaceWith(a)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(a,b,c,d){function e(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(a){return/<.*>/g.test(a)}var g;return g=b.has("$sanitize"),function(b,h){return d||c.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!g&&f(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=h?(""+b).replace(new RegExp(e(h),"gi"),"<strong>$&</strong>"):b,g||(b=a.trustAsHtml(b)),b}}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(b){b.graphlib=a("./index")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":2}],2:[function(a,b,c){var d=a("./lib");b.exports={Graph:d.Graph,json:a("./lib/json"),alg:a("./lib/alg"),version:d.version}},{"./lib":18,"./lib/alg":9,"./lib/json":19}],3:[function(a,b,c){function d(a){function b(f){e.has(d,f)||(d[f]=!0,c.push(f),e.each(a.successors(f),b),e.each(a.predecessors(f),b))}var c,d={},f=[];return e.each(a.nodes(),function(a){c=[],b(a),c.length&&f.push(c)}),f}var e=a("../lodash");b.exports=d},{"../lodash":20}],4:[function(a,b,c){function d(a,b,c){f.isArray(b)||(b=[b]);var d=[],g={};return f.each(b,function(b){if(!a.hasNode(b))throw new Error("Graph does not have node: "+b);e(a,b,"post"===c,g,d)}),d}function e(a,b,c,d,g){f.has(d,b)||(d[b]=!0,c||g.push(b),f.each(a.neighbors(b),function(b){e(a,b,c,d,g)}),c&&g.push(b))}var f=a("../lodash");b.exports=d},{"../lodash":20}],5:[function(a,b,c){function d(a,b,c){return f.transform(a.nodes(),function(d,f){d[f]=e(a,f,b,c)},{})}var e=a("./dijkstra"),f=a("../lodash");b.exports=d},{"../lodash":20,"./dijkstra":6}],6:[function(a,b,c){function d(a,b,c,d){return e(a,String(b),c||h,d||function(b){return a.outEdges(b)})}function e(a,b,c,d){var e,f,h={},i=new g,j=function(a){var b=a.v!==e?a.v:a.w,d=h[b],g=c(a),j=f.distance+g;if(0>g)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+a+" Weight: "+g);j<d.distance&&(d.distance=j,d.predecessor=e,i.decrease(b,j))};for(a.nodes().forEach(function(a){var c=a===b?0:Number.POSITIVE_INFINITY;h[a]={distance:c},i.add(a,c)});i.size()>0&&(e=i.removeMin(),f=h[e],f.distance!==Number.POSITIVE_INFINITY);)d(e).forEach(j);return h}var f=a("../lodash"),g=a("../data/priority-queue");b.exports=d;var h=f.constant(1)},{"../data/priority-queue":16,"../lodash":20}],7:[function(a,b,c){function d(a){return e.filter(f(a),function(b){return b.length>1||1===b.length&&a.hasEdge(b[0],b[0])})}var e=a("../lodash"),f=a("./tarjan");b.exports=d},{"../lodash":20,"./tarjan":14}],8:[function(a,b,c){function d(a,b,c){return e(a,b||g,c||function(b){return a.outEdges(b)})}function e(a,b,c){var d={},e=a.nodes();return e.forEach(function(a){d[a]={},d[a][a]={distance:0},e.forEach(function(b){a!==b&&(d[a][b]={distance:Number.POSITIVE_INFINITY})}),c(a).forEach(function(c){var e=c.v===a?c.w:c.v,f=b(c);d[a][e]={distance:f,predecessor:a}})}),e.forEach(function(a){var b=d[a];e.forEach(function(c){var f=d[c];e.forEach(function(c){var d=f[a],e=b[c],g=f[c],h=d.distance+e.distance;h<g.distance&&(g.distance=h,g.predecessor=e.predecessor)})})}),d}var f=a("../lodash");b.exports=d;var g=f.constant(1)},{"../lodash":20}],9:[function(a,b,c){b.exports={components:a("./components"),dijkstra:a("./dijkstra"),dijkstraAll:a("./dijkstra-all"),findCycles:a("./find-cycles"),floydWarshall:a("./floyd-warshall"),isAcyclic:a("./is-acyclic"),postorder:a("./postorder"),preorder:a("./preorder"),prim:a("./prim"),tarjan:a("./tarjan"),topsort:a("./topsort")}},{"./components":3,"./dijkstra":6,"./dijkstra-all":5,"./find-cycles":7,"./floyd-warshall":8,"./is-acyclic":10,"./postorder":11,"./preorder":12,"./prim":13,"./tarjan":14,"./topsort":15}],10:[function(a,b,c){function d(a){try{e(a)}catch(b){if(b instanceof e.CycleException)return!1;throw b}return!0}var e=a("./topsort");b.exports=d},{"./topsort":15}],11:[function(a,b,c){function d(a,b){return e(a,b,"post")}var e=a("./dfs");b.exports=d},{"./dfs":4}],12:[function(a,b,c){function d(a,b){return e(a,b,"pre")}var e=a("./dfs");b.exports=d},{"./dfs":4}],13:[function(a,b,c){function d(a,b){function c(a){var c=a.v===d?a.w:a.v,e=j.priority(c);if(void 0!==e){var f=b(a);e>f&&(i[c]=d,j.decrease(c,f))}}var d,h=new f,i={},j=new g;if(0===a.nodeCount())return h;e.each(a.nodes(),function(a){j.add(a,Number.POSITIVE_INFINITY),h.setNode(a)}),j.decrease(a.nodes()[0],0);for(var k=!1;j.size()>0;){if(d=j.removeMin(),e.has(i,d))h.setEdge(d,i[d]);else{if(k)throw new Error("Input graph is not connected: "+a);k=!0}a.nodeEdges(d).forEach(c)}return h}var e=a("../lodash"),f=a("../graph"),g=a("../data/priority-queue");b.exports=d},{"../data/priority-queue":16,"../graph":17,"../lodash":20}],14:[function(a,b,c){function d(a){function b(h){var i=f[h]={onStack:!0,lowlink:c,index:c++};if(d.push(h),a.successors(h).forEach(function(a){e.has(f,a)?f[a].onStack&&(i.lowlink=Math.min(i.lowlink,f[a].index)):(b(a),i.lowlink=Math.min(i.lowlink,f[a].lowlink))}),i.lowlink===i.index){var j,k=[];do j=d.pop(),f[j].onStack=!1,k.push(j);while(h!==j);g.push(k)}}var c=0,d=[],f={},g=[];return a.nodes().forEach(function(a){e.has(f,a)||b(a)}),g}var e=a("../lodash");b.exports=d},{"../lodash":20}],15:[function(a,b,c){function d(a){function b(h){if(f.has(d,h))throw new e;f.has(c,h)||(d[h]=!0,c[h]=!0,f.each(a.predecessors(h),b),delete d[h],g.push(h))}var c={},d={},g=[];if(f.each(a.sinks(),b),f.size(c)!==a.nodeCount())throw new e;return g}function e(){}var f=a("../lodash");b.exports=d,d.CycleException=e},{"../lodash":20}],16:[function(a,b,c){function d(){this._arr=[],this._keyIndices={}}var e=a("../lodash");b.exports=d,d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(a){return a.key})},d.prototype.has=function(a){return e.has(this._keyIndices,a)},d.prototype.priority=function(a){var b=this._keyIndices[a];return void 0!==b?this._arr[b].priority:void 0},d.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(a,b){var c=this._keyIndices;if(a=String(a),!e.has(c,a)){var d=this._arr,f=d.length;return c[a]=f,d.push({key:a,priority:b}),this._decrease(f),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();return delete this._keyIndices[a.key],this._heapify(0),a.key},d.prototype.decrease=function(a,b){var c=this._keyIndices[a];if(b>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+b);this._arr[c].priority=b,this._decrease(c)},d.prototype._heapify=function(a){var b=this._arr,c=2*a,d=c+1,e=a;c<b.length&&(e=b[c].priority<b[e].priority?c:e,d<b.length&&(e=b[d].priority<b[e].priority?d:e),e!==a&&(this._swap(a,e),this._heapify(e)))},d.prototype._decrease=function(a){for(var b,c=this._arr,d=c[a].priority;0!==a&&(b=a>>1,!(c[b].priority<d));)this._swap(a,b),a=b},d.prototype._swap=function(a,b){var c=this._arr,d=this._keyIndices,e=c[a],f=c[b];c[a]=f,c[b]=e,d[f.key]=a,d[e.key]=b}},{"../lodash":20}],17:[function(a,b,c){"use strict";function d(a){this._isDirected=j.has(a,"directed")?a.directed:!0,this._isMultigraph=j.has(a,"multigraph")?a.multigraph:!1,this._isCompound=j.has(a,"compound")?a.compound:!1,this._label=void 0,this._defaultNodeLabelFn=j.constant(void 0),this._defaultEdgeLabelFn=j.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[l]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function e(a,b){a[b]?a[b]++:a[b]=1}function f(a,b){--a[b]||delete a[b]}function g(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}return e+m+f+m+(j.isUndefined(d)?k:d)}function h(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}var h={v:e,w:f};return d&&(h.name=d),h}function i(a,b){return g(a,b.v,b.w,b.name)}var j=a("./lodash");b.exports=d;var k="\x00",l="\x00",m="";d.prototype._nodeCount=0,d.prototype._edgeCount=0,d.prototype.isDirected=function(){return this._isDirected},d.prototype.isMultigraph=function(){return this._isMultigraph},d.prototype.isCompound=function(){return this._isCompound},d.prototype.setGraph=function(a){return this._label=a,this},d.prototype.graph=function(){return this._label},d.prototype.setDefaultNodeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultNodeLabelFn=a,this},d.prototype.nodeCount=function(){return this._nodeCount},d.prototype.nodes=function(){return j.keys(this._nodes)},d.prototype.sources=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._in[a])},this)},d.prototype.sinks=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._out[a])},this)},d.prototype.setNodes=function(a,b){var c=arguments;return j.each(a,function(a){c.length>1?this.setNode(a,b):this.setNode(a)},this),this},d.prototype.setNode=function(a,b){return j.has(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=b),this):(this._nodes[a]=arguments.length>1?b:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=l,this._children[a]={},this._children[l][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},d.prototype.node=function(a){return this._nodes[a]},d.prototype.hasNode=function(a){return j.has(this._nodes,a)},d.prototype.removeNode=function(a){var b=this;if(j.has(this._nodes,a)){var c=function(a){b.removeEdge(b._edgeObjs[a])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],j.each(this.children(a),function(a){this.setParent(a)},this),delete this._children[a]),j.each(j.keys(this._in[a]),c),delete this._in[a],delete this._preds[a],j.each(j.keys(this._out[a]),c),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},d.prototype.setParent=function(a,b){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(j.isUndefined(b))b=l;else{b+="";for(var c=b;!j.isUndefined(c);c=this.parent(c))if(c===a)throw new Error("Setting "+b+" as parent of "+a+" would create create a cycle");this.setNode(b)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=b,this._children[b][a]=!0,this},d.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},d.prototype.parent=function(a){if(this._isCompound){var b=this._parent[a];if(b!==l)return b}},d.prototype.children=function(a){if(j.isUndefined(a)&&(a=l),this._isCompound){var b=this._children[a];if(b)return j.keys(b)}else{if(a===l)return this.nodes();if(this.hasNode(a))return[]}},d.prototype.predecessors=function(a){var b=this._preds[a];return b?j.keys(b):void 0},d.prototype.successors=function(a){var b=this._sucs[a];return b?j.keys(b):void 0},d.prototype.neighbors=function(a){var b=this.predecessors(a);return b?j.union(b,this.successors(a)):void 0},d.prototype.filterNodes=function(a){function b(a){var f=d.parent(a);return void 0===f||c.hasNode(f)?(e[a]=f,f):f in e?e[f]:b(f)}var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph()),j.each(this._nodes,function(b,d){a(d)&&c.setNode(d,b)},this),j.each(this._edgeObjs,function(a){c.hasNode(a.v)&&c.hasNode(a.w)&&c.setEdge(a,this.edge(a))},this);var d=this,e={};return this._isCompound&&j.each(c.nodes(),function(a){c.setParent(a,b(a))}),c},d.prototype.setDefaultEdgeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultEdgeLabelFn=a,this},d.prototype.edgeCount=function(){return this._edgeCount},d.prototype.edges=function(){return j.values(this._edgeObjs)},d.prototype.setPath=function(a,b){var c=this,d=arguments;return j.reduce(a,function(a,e){return d.length>1?c.setEdge(a,e,b):c.setEdge(a,e),e}),this},d.prototype.setEdge=function(){var a,b,c,d,f=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(a=i.v,b=i.w,c=i.name,2===arguments.length&&(d=arguments[1],f=!0)):(a=i,b=arguments[1],c=arguments[3],arguments.length>2&&(d=arguments[2],f=!0)),a=""+a,b=""+b,j.isUndefined(c)||(c=""+c);var k=g(this._isDirected,a,b,c);if(j.has(this._edgeLabels,k))return f&&(this._edgeLabels[k]=d),this;if(!j.isUndefined(c)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(b),this._edgeLabels[k]=f?d:this._defaultEdgeLabelFn(a,b,c);var l=h(this._isDirected,a,b,c);return a=l.v,b=l.w,Object.freeze(l),this._edgeObjs[k]=l,e(this._preds[b],a),e(this._sucs[a],b),this._in[b][k]=l,this._out[a][k]=l,this._edgeCount++,this},d.prototype.edge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return this._edgeLabels[d]},d.prototype.hasEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return j.has(this._edgeLabels,d)},d.prototype.removeEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c),e=this._edgeObjs[d];return e&&(a=e.v,b=e.w,delete this._edgeLabels[d],delete this._edgeObjs[d],f(this._preds[b],a),f(this._sucs[a],b),delete this._in[b][d],delete this._out[a][d],this._edgeCount--),this},d.prototype.inEdges=function(a,b){var c=this._in[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.v===b}):d}},d.prototype.outEdges=function(a,b){var c=this._out[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.w===b}):d}},d.prototype.nodeEdges=function(a,b){var c=this.inEdges(a,b);return c?c.concat(this.outEdges(a,b)):void 0}},{"./lodash":20}],18:[function(a,b,c){b.exports={Graph:a("./graph"),version:a("./version")}},{"./graph":17,"./version":21}],19:[function(a,b,c){function d(a){var b={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:e(a),edges:f(a)};return h.isUndefined(a.graph())||(b.value=h.clone(a.graph())),b}function e(a){return h.map(a.nodes(),function(b){var c=a.node(b),d=a.parent(b),e={v:b};return h.isUndefined(c)||(e.value=c),h.isUndefined(d)||(e.parent=d),e})}function f(a){return h.map(a.edges(),function(b){var c=a.edge(b),d={v:b.v,w:b.w};return h.isUndefined(b.name)||(d.name=b.name),h.isUndefined(c)||(d.value=c),d})}function g(a){var b=new i(a.options).setGraph(a.value);return h.each(a.nodes,function(a){b.setNode(a.v,a.value),a.parent&&b.setParent(a.v,a.parent)}),h.each(a.edges,function(a){b.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),b}var h=a("./lodash"),i=a("./graph");b.exports={write:d,read:g}},{"./graph":17,"./lodash":20}],20:[function(a,b,c){var d;if("function"==typeof a)try{d=a("lodash")}catch(e){}d||(d=window._),b.exports=d},{lodash:void 0}],21:[function(a,b,c){b.exports="1.0.7"},{}]},{},[1]),!function(){function a(a){return a&&(a.ownerDocument||a.document||a).documentElement}function b(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function c(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function d(a){return null===a?NaN:+a}function e(a){return!isNaN(a)}function f(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function g(a){return a.length}function h(a){for(var b=1;a*b%1;)b*=10;return b}function i(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function j(){this._=Object.create(null)}function k(a){return(a+="")===ug||a[0]===vg?vg+a:a}function l(a){return(a+="")[0]===vg?a.slice(1):a}function m(a){return k(a)in this._}function n(a){return(a=k(a))in this._&&delete this._[a]}function o(){var a=[];for(var b in this._)a.push(l(b));return a}function p(){var a=0;for(var b in this._)++a;return a}function q(){for(var a in this._)return!1;return!0}function r(){this._=Object.create(null)}function s(a){return a}function t(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function u(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=wg.length;d>c;++c){var e=wg[c]+b;if(e in a)return e}}function v(){}function w(){}function x(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new j;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function y(){hg.event.preventDefault()}function z(){for(var a,b=hg.event;a=b.sourceEvent;)b=a;return b}function A(a){for(var b=new w,c=0,d=arguments.length;++c<d;)b[arguments[c]]=x(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=hg.event;e.target=a,hg.event=e,b[e.type].apply(c,d)}finally{hg.event=f}}},b}function B(a){return yg(a,Cg),a}function C(a){return"function"==typeof a?a:function(){return zg(a,this)}}function D(a){return"function"==typeof a?a:function(){return Ag(a,this)}}function E(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=hg.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function F(a){return a.trim().replace(/\s+/g," ")}function G(a){return new RegExp("(?:^|\\s+)"+hg.requote(a)+"(?:\\s+|$)","g")}function H(a){return(a+"").trim().split(/^|\s+/)}function I(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=H(a).map(J);var e=a.length;return"function"==typeof b?d:c}function J(a){var b=G(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",F(e+" "+a))):c.setAttribute("class",F(e.replace(b," ")))}}function K(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function L(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function M(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c===Dg&&b.documentElement.namespaceURI===Dg?b.createElement(a):b.createElementNS(c,a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=hg.ns.qualify(a)).local?c:b}function N(){var a=this.parentNode;a&&a.removeChild(this)}function O(a){return{__data__:a}}function P(a){return function(){return Bg(this,a)}}function Q(a){return arguments.length||(a=c),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function R(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],g=0,h=f.length;h>g;g++)(e=f[g])&&b(e,g,c);return a}function S(a){return yg(a,Fg),a}function T(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function U(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,jg(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+hg.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=V;h>0&&(a=a.slice(0,h));var j=Gg.get(a);return j&&(a=j,i=W),h?b?e:d:b?v:f}function V(a,b){return function(c){var d=hg.event;hg.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{hg.event=d}}}function W(a,b){var c=V(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function X(c){var d=".dragsuppress-"+ ++Ig,e="click"+d,f=hg.select(b(c)).on("touchmove"+d,y).on("dragstart"+d,y).on("selectstart"+d,y);if(null==Hg&&(Hg="onselectstart"in c?!1:u(c.style,"userSelect")),Hg){var g=a(c).style,h=g[Hg];g[Hg]="none"}return function(a){if(f.on(d,null),Hg&&(g[Hg]=h),a){var b=function(){f.on(e,null)};f.on(e,function(){y(),b()},!0),setTimeout(b,0)}}}function Y(a,c){c.changedTouches&&(c=c.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(0>Jg){var f=b(a);if(f.scrollX||f.scrollY){d=hg.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();Jg=!(g.f||g.e),d.remove()}}return Jg?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var h=a.getBoundingClientRect();return[c.clientX-h.left-a.clientLeft,c.clientY-h.top-a.clientTop]}function Z(){return hg.event.changedTouches[0].identifier}function $(a){return a>0?1:0>a?-1:0}function _(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function aa(a){return a>1?0:-1>a?Mg:Math.acos(a)}function ba(a){return a>1?Pg:-1>a?-Pg:Math.asin(a)}function ca(a){return((a=Math.exp(a))-1/a)/2}function da(a){return((a=Math.exp(a))+1/a)/2}function ea(a){return((a=Math.exp(2*a))-1)/(a+1)}function fa(a){return(a=Math.sin(a/2))*a}function ga(){}function ha(a,b,c){return this instanceof ha?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ha?new ha(a.h,a.s,a.l):va(""+a,wa,ha):new ha(a,b,c)}function ia(a,b,c){function d(a){return a>360?a-=360:0>a&&(a+=360),60>a?f+(g-f)*a/60:180>a?g:240>a?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:0>b?0:b>1?1:b,c=0>c?0:c>1?1:c,g=.5>=c?c*(1+b):c+b-c*b,f=2*c-g,new ra(e(a+120),e(a),e(a-120))}function ja(a,b,c){return this instanceof ja?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof ja?new ja(a.h,a.c,a.l):a instanceof la?na(a.l,a.a,a.b):na((a=xa((a=hg.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ja(a,b,c)}function ka(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new la(c,Math.cos(a*=Qg)*b,Math.sin(a)*b)}function la(a,b,c){return this instanceof la?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof la?new la(a.l,a.a,a.b):a instanceof ja?ka(a.h,a.c,a.l):xa((a=ra(a)).r,a.g,a.b):new la(a,b,c)}function ma(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=oa(e)*_g,d=oa(d)*ah,f=oa(f)*bh,new ra(qa(3.2404542*e-1.5371385*d-.4985314*f),qa(-.969266*e+1.8760108*d+.041556*f),qa(.0556434*e-.2040259*d+1.0572252*f))}function na(a,b,c){return a>0?new ja(Math.atan2(c,b)*Rg,Math.sqrt(b*b+c*c),a):new ja(NaN,NaN,a)}function oa(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function pa(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function qa(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ra(a,b,c){return this instanceof ra?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof ra?new ra(a.r,a.g,a.b):va(""+a,ra,ia):new ra(a,b,c)}function sa(a){return new ra(a>>16,a>>8&255,255&a)}function ta(a){return sa(a)+""}function ua(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function va(a,b,c){var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(za(e[0]),za(e[1]),za(e[2]))}return(f=eh.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g=g>>4|g,h=240&f,h=h>>4|h,i=15&f,i=i<<4|i):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function wa(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=.5>i?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(c>b?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&1>i?0:d),new ha(d,e,i)}function xa(a,b,c){a=ya(a),b=ya(b),c=ya(c);var d=pa((.4124564*a+.3575761*b+.1804375*c)/_g),e=pa((.2126729*a+.7151522*b+.072175*c)/ah),f=pa((.0193339*a+.119192*b+.9503041*c)/bh);return la(116*e-16,500*(d-e),200*(e-f))}function ya(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function za(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Aa(a){return"function"==typeof a?a:function(){return a}}function Ba(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Ca(b,c,a,d)}}function Ca(a,b,c,d){function e(){var a,b=i.status;if(!b&&Ea(i)||b>=200&&300>b||304===b){try{a=c.call(f,i)}catch(d){return void g.error.call(f,d)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=hg.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=hg.event;hg.event=a;try{g.progress.call(f,i)}finally{hg.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(jg(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},hg.rebind(f,g,"on"),null==d?f:f.get(Da(d))}function Da(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Ea(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Fa(a,b,c){var d=arguments.length;2>d&&(b=0),3>d&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return gh?gh.n=f:fh=f,gh=f,hh||(ih=clearTimeout(ih),hh=1,jh(Ga)),f}function Ga(){var a=Ha(),b=Ia()-a;b>24?(isFinite(b)&&(clearTimeout(ih),ih=setTimeout(Ga,b)),hh=0):(hh=1,jh(Ga))}function Ha(){for(var a=Date.now(),b=fh;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Ia(){for(var a,b=fh,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:fh=b.n;return gh=a,c}function Ja(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Ka(a,b){var c=Math.pow(10,3*tg(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function La(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:s;return function(a){var c=lh.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):("e"==n||"f"==n)&&(m=Math.max(0,Math.min(20,m)))),n=mh.get(n)||Ma;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===h?"":h;if(0>o){var i=hg.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(0>w){var x=s?a.lastIndexOf("e"):-1;0>x?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=k>y?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c}}}function Ma(a){return a+""}function Na(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Oa(a,b,c){function d(b){var c=a(b),d=f(c,1);return d-b>b-c?c:d}function e(c){return b(c=a(new oh(c-1)),1),c}function f(a,c){return b(a=new oh(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;d>g;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;d>g;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{oh=Na;var d=new Na;return d._=a,g(d,b,c)}finally{oh=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Pa(a);return i.floor=i,i.round=Pa(d),i.ceil=Pa(e),i.offset=Pa(f),i.range=h,a}function Pa(a){return function(b,c){try{oh=Na;var d=new Na;return d._=b,a(d,c)._}finally{oh=Date}}}function Qa(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=qh[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,
L:0,Z:null},e=c(d,a,b,0);if(e!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var f=null!=d.Z&&oh!==Na,g=new(f?Na:oh);return"j"in d?g.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),g.setFullYear(d.y,0,1),g.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(g.getDay()+5)%7:d.w+7*d.U-(g.getDay()+6)%7)):g.setFullYear(d.y,d.m,d.d),g.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),f?g._:g},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;i>h;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=D[g in qh?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{oh=Na;var b=new oh;return b._=a,d(b)}finally{oh=Date}}var d=b(a);return c.parse=function(a){try{oh=Na;var b=d.parse(a);return b&&b._}finally{oh=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=ib;var t=hg.map(),u=Sa(p),v=Ta(p),w=Sa(q),x=Ta(q),y=Sa(r),z=Ta(r),A=Sa(s),B=Ta(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Ra(a.getDate(),b,2)},e:function(a,b){return Ra(a.getDate(),b,2)},H:function(a,b){return Ra(a.getHours(),b,2)},I:function(a,b){return Ra(a.getHours()%12||12,b,2)},j:function(a,b){return Ra(1+nh.dayOfYear(a),b,3)},L:function(a,b){return Ra(a.getMilliseconds(),b,3)},m:function(a,b){return Ra(a.getMonth()+1,b,2)},M:function(a,b){return Ra(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Ra(a.getSeconds(),b,2)},U:function(a,b){return Ra(nh.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Ra(nh.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Ra(a.getFullYear()%100,b,2)},Y:function(a,b){return Ra(a.getFullYear()%1e4,b,4)},Z:gb,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:ab,e:ab,H:cb,I:cb,j:bb,L:fb,m:_a,M:db,p:k,S:eb,U:Va,w:Ua,W:Wa,x:i,X:j,y:Ya,Y:Xa,Z:Za,"%":hb};return b}function Ra(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(c>f?new Array(c-f+1).join(b)+e:e)}function Sa(a){return new RegExp("^(?:"+a.map(hg.requote).join("|")+")","i")}function Ta(a){for(var b=new j,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Ua(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function Va(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function Wa(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function Xa(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function Ya(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+2));return d?(a.y=$a(+d[0]),c+d[0].length):-1}function Za(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function $a(a){return a+(a>68?1900:2e3)}function _a(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function ab(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function bb(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function cb(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function db(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function eb(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function fb(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function gb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=tg(b)/60|0,e=tg(b)%60;return c+Ra(d,"0",2)+Ra(e,"0",2)}function hb(a,b,c){sh.lastIndex=0;var d=sh.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function ib(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function jb(){}function kb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function lb(a,b){a&&wh.hasOwnProperty(a.type)&&wh[a.type](a,b)}function mb(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function nb(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)mb(a[c],b,1);b.polygonEnd()}function ob(){function a(a,b){a*=Qg,b=b*Qg/2+Mg/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);yh.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;zh.point=function(g,h){zh.point=a,d=(b=g)*Qg,e=Math.cos(h=(c=h)*Qg/2+Mg/4),f=Math.sin(h)},zh.lineEnd=function(){a(b,c)}}function pb(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function qb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function rb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function sb(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function tb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function ub(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function vb(a){return[Math.atan2(a[1],a[0]),ba(a[2])]}function wb(a,b){return tg(a[0]-b[0])<Kg&&tg(a[1]-b[1])<Kg}function xb(a,b){a*=Qg;var c=Math.cos(b*=Qg);yb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function yb(a,b,c){++Ah,Ch+=(a-Ch)/Ah,Dh+=(b-Dh)/Ah,Eh+=(c-Eh)/Ah}function zb(){function a(a,e){a*=Qg;var f=Math.cos(e*=Qg),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);Bh+=j,Fh+=j*(b+(b=g)),Gh+=j*(c+(c=h)),Hh+=j*(d+(d=i)),yb(b,c,d)}var b,c,d;Lh.point=function(e,f){e*=Qg;var g=Math.cos(f*=Qg);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Lh.point=a,yb(b,c,d)}}function Ab(){Lh.point=xb}function Bb(){function a(a,b){a*=Qg;var c=Math.cos(b*=Qg),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-aa(n)/m,p=Math.atan2(m,n);Ih+=o*j,Jh+=o*k,Kh+=o*l,Bh+=p,Fh+=p*(d+(d=g)),Gh+=p*(e+(e=h)),Hh+=p*(f+(f=i)),yb(d,e,f)}var b,c,d,e,f;Lh.point=function(g,h){b=g,c=h,Lh.point=a,g*=Qg;var i=Math.cos(h*=Qg);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),yb(d,e,f)},Lh.lineEnd=function(){a(b,c),Lh.lineEnd=Ab,Lh.point=xb}}function Cb(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function Db(){return!0}function Eb(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(wb(c,d)){e.lineStart();for(var h=0;b>h;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Gb(c,a,null,!0),j=new Gb(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Gb(d,a,null,!1),j=new Gb(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Fb(f),Fb(g),f.length){for(var h=0,i=c,j=g.length;j>h;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;j>h;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Fb(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Gb(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Hb(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Ib))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=hg.merge(n);var a=Ob(r,o);n.length?(v||(f.polygonStart(),v=!0),Eb(n,Kb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Jb(),u=b(t),v=!1;return s}}function Ib(a){return a.length>1}function Jb(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:v,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Kb(a,b){return((a=a.x)[0]<0?a[1]-Pg-Kg:Pg-a[1])-((b=b.x)[0]<0?b[1]-Pg-Kg:Pg-b[1])}function Lb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Mg:-Mg,i=tg(f-c);tg(i-Mg)<Kg?(a.point(c,d=(d+g)/2>0?Pg:-Pg),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Mg&&(tg(c-e)<Kg&&(c-=e*Kg),tg(f-h)<Kg&&(f-=h*Kg),d=Mb(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Mb(a,b,c,d){var e,f,g=Math.sin(a-c);return tg(g)>Kg?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Nb(a,b,c,d){var e;if(null==a)e=c*Pg,d.point(-Mg,e),d.point(0,e),d.point(Mg,e),d.point(Mg,0),d.point(Mg,-e),d.point(0,-e),d.point(-Mg,-e),d.point(-Mg,0),d.point(-Mg,e);else if(tg(a[0]-b[0])>Kg){var f=a[0]<b[0]?Mg:-Mg;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Ob(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;yh.reset();for(var h=0,i=b.length;i>h;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Mg/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Mg/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Mg,z=o*t;if(yh.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Ng:v,y^m>=c^r>=c){var A=rb(pb(l),pb(a));ub(A);var B=rb(e,A);ub(B);var C=(y^v>=0?-1:1)*ba(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(-Kg>f||Kg>f&&-Kg>yh)^1&g}function Pb(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(0>l?Mg:-Mg),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(wb(c,n)||wb(o,n))&&(o[0]+=Kg,o[1]+=Kg,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&wb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=pb(a),e=pb(b),g=[1,0,0],h=rb(d,e),i=qb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=rb(g,h),o=tb(g,l),p=tb(h,m);sb(o,p);var q=n,r=qb(o,q),s=qb(q,q),t=r*r-s*(qb(o,o)-1);if(!(0>t)){var u=Math.sqrt(t),v=tb(q,(-r-u)/s);if(sb(v,o),v=vb(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];x>y&&(w=x,x=y,y=w);var B=y-x,C=tg(B-Mg)<Kg,D=C||Kg>B;if(!C&&z>A&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(tg(v[0]-x)<Kg?z:A):z<=v[1]&&v[1]<=A:B>Mg^(x<=v[0]&&v[0]<=y)){var E=tb(q,(-r+u)/s);return sb(E,o),[v,vb(E)]}}}function e(b,c){var d=g?a:Mg-a,e=0;return-d>b?e|=1:b>d&&(e|=2),-d>c?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=tg(f)>Kg,i=oc(a,6*Qg);return Hb(b,c,i,g?[0,-a]:[-Mg,a-Mg])}function Qb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,0>o){if(m>f)return;n>f&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(0>f)){if(f/=o,0>o){if(f>n)return;f>m&&(m=f)}else if(o>0){if(m>f)return;n>f&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,0>p){if(m>f)return;n>f&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(0>f)){if(f/=p,0>p){if(f>n)return;f>m&&(m=f)}else if(p>0){if(m>f)return;n>f&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),1>n&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Rb(a,b,c,d){function e(d,e){return tg(d[0]-a)<Kg?e>0?0:3:tg(d[0]-c)<Kg?e>0?2:1:tg(d[1]-b)<Kg?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;c>e;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];i>g;++g)f=h[g],j[1]<=d?f[1]>d&&_(j,f,a)>0&&++b:f[1]<=d&&_(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return e>=a&&c>=e&&f>=b&&d>=f}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Nh,Math.min(Nh,a)),b=Math.max(-Nh,Math.min(Nh,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Jb(),C=Qb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=hg.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Eb(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Sb(a){var b=0,c=Mg/3,d=gc(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Mg/180,c=a[1]*Mg/180):[b/Mg*180,c/Mg*180]},e}function Tb(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ba((f-(a*a+c*c)*e*e)/(2*e))]},c}function Ub(){function a(a,b){Ph+=e*a-d*b,d=a,e=b}var b,c,d,e;Uh.point=function(f,g){Uh.point=a,b=d=f,c=e=g},Uh.lineEnd=function(){a(b,c)}}function Vb(a,b){Qh>a&&(Qh=a),a>Sh&&(Sh=a),Rh>b&&(Rh=b),b>Th&&(Th=b)}function Wb(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Xb(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=Xb(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Xb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Yb(a,b){Ch+=a,Dh+=b,++Eh}function Zb(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);Fh+=g*(b+a)/2,Gh+=g*(c+d)/2,Hh+=g,Yb(b=a,c=d)}var b,c;Wh.point=function(d,e){Wh.point=a,Yb(b=d,c=e)}}function $b(){Wh.point=Yb}function _b(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);Fh+=g*(d+a)/2,Gh+=g*(e+b)/2,Hh+=g,g=e*a-d*b,Ih+=g*(d+a),Jh+=g*(e+b),Kh+=3*g,Yb(d=a,e=b)}var b,c,d,e;Wh.point=function(f,g){Wh.point=a,Yb(b=d=f,c=e=g)},Wh.lineEnd=function(){a(b,c)}}function ac(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Ng)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:v};return h}function bc(a){function b(a){return(h?d:c)(a)}function c(b){return ec(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=pb([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=tg(tg(x)-1)<Kg||tg(d-m)<Kg?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||tg((s*E+t*F)/u-.5)>.3||g>h*n+i*o+j*p)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Qg),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function cc(a){var b=bc(function(b,c){return a([b*Rg,c*Rg])});return function(a){return hc(b(a))}}function dc(a){this.stream=a}function ec(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function fc(a){return gc(function(){return a})()}function gc(a){function b(a){return a=h(a[0]*Qg,a[1]*Qg),[a[0]*m+i,j-a[1]*m]}function c(a){return a=h.invert((a[0]-i)/m,(j-a[1])/m),a&&[a[0]*Rg,a[1]*Rg]}function d(){h=Cb(g=kc(r,t,u),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=bc(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,t=0,u=0,v=Mh,w=s,x=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=hc(v(g,l(w(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(v=null==a?(x=a,Mh):Pb((x=+a)*Qg),e()):x},b.clipExtent=function(a){return arguments.length?(y=a,w=a?Rb(a[0][0],a[0][1],a[1][0],a[1][1]):s,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Qg,q=a[1]%360*Qg,d()):[p*Rg,q*Rg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Qg,t=a[1]%360*Qg,u=a.length>2?a[2]%360*Qg:0,d()):[r*Rg,t*Rg,u*Rg]},hg.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function hc(a){return ec(a,function(b,c){a.point(b*Qg,c*Qg)})}function ic(a,b){return[a,b]}function jc(a,b){return[a>Mg?a-Ng:-Mg>a?a+Ng:a,b]}function kc(a,b,c){return a?b||c?Cb(mc(a),nc(b,c)):mc(a):b||c?nc(b,c):jc}function lc(a){return function(b,c){return b+=a,[b>Mg?b-Ng:-Mg>b?b+Ng:b,c]}}function mc(a){var b=lc(a);return b.invert=lc(-a),b}function nc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),ba(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),ba(k*d-h*e)]},c}function oc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=pc(c,e),f=pc(c,f),(g>0?f>e:e>f)&&(e+=g*Ng)):(e=a+g*Ng,f=a-.5*i);for(var j,k=e;g>0?k>f:f>k;k-=i)h.point((j=vb([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function pc(a,b){var c=pb(b);c[0]-=a,ub(c);var d=aa(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Kg)%(2*Math.PI)}function qc(a,b,c){var d=hg.range(a,b-Kg,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function rc(a,b,c){var d=hg.range(a,b-Kg,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function sc(a){return a.source}function tc(a){return a.target}function uc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(fa(d-b)+e*g*fa(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Rg,Math.atan2(g,Math.sqrt(d*d+e*e))*Rg]}:function(){return[a*Rg,b*Rg]};return o.distance=m,o}function vc(){function a(a,e){var f=Math.sin(e*=Qg),g=Math.cos(e),h=tg((a*=Qg)-b),i=Math.cos(h);Xh+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;Yh.point=function(e,f){b=e*Qg,c=Math.sin(f*=Qg),d=Math.cos(f),Yh.point=a},Yh.lineEnd=function(){Yh.point=Yh.lineEnd=v}}function wc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function xc(a,b){function c(a,b){g>0?-Pg+Kg>b&&(b=-Pg+Kg):b>Pg-Kg&&(b=Pg-Kg);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Mg/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=$(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Pg]},c):zc}function yc(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return tg(e)<Kg?ic:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-$(e)*Math.sqrt(a*a+c*c)]},c)}function zc(a,b){return[a,Math.log(Math.tan(Mg/4+b/2))]}function Ac(a){var b,c=fc(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Mg*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Bc(a,b){return[Math.log(Math.tan(Mg/4+b/2)),-a]}function Cc(a){return a[0]}function Dc(a){return a[1]}function Ec(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;d>1&&_(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Fc(a,b){return a[0]-b[0]||a[1]-b[1]}function Gc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Hc(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Ic(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Jc(){cd(this),this.edge=this.site=this.circle=null}function Kc(a){var b=ii.pop()||new Jc;return b.site=a,b}function Lc(a){Vc(a),fi.remove(a),ii.push(a),cd(a)}function Mc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Lc(a);for(var i=f;i.circle&&tg(c-i.circle.x)<Kg&&tg(d-i.circle.cy)<Kg;)f=i.P,h.unshift(i),Lc(i),i=f;h.unshift(i),Vc(i);for(var j=g;j.circle&&tg(c-j.circle.x)<Kg&&tg(d-j.circle.cy)<Kg;)g=j.N,h.push(j),Lc(j),j=g;h.push(j),Vc(j);var k,l=h.length;for(k=1;l>k;++k)j=h[k],i=h[k-1],_c(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=Zc(i.site,j.site,null,e),Uc(i),Uc(j)}function Nc(a){for(var b,c,d,e,f=a.x,g=a.y,h=fi._;h;)if(d=Oc(h,g)-f,d>Kg)h=h.L;else{if(e=f-Pc(h,g),!(e>Kg)){d>-Kg?(b=h.P,c=h):e>-Kg?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Kc(a);if(fi.insert(b,i),b||c){if(b===c)return Vc(b),c=Kc(b.site),fi.insert(i,c),i.edge=c.edge=Zc(b.site,i.site),Uc(b),void Uc(c);if(!c)return void(i.edge=Zc(b.site,i.site));Vc(b),Vc(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};_c(c.edge,j,o,u),i.edge=Zc(j,a,null,u),c.edge=Zc(a,o,null,u),Uc(b),Uc(c)}}function Oc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Pc(a,b){var c=a.N;if(c)return Oc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Qc(a){this.site=a,this.edges=[]}function Rc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=ei,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;i>g;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(tg(d-b)>Kg||tg(e-c)>Kg)&&(h.splice(g,0,new ad($c(f.site,k,tg(d-l)<Kg&&o-e>Kg?{x:l,y:tg(b-l)<Kg?c:o}:tg(e-o)<Kg&&m-d>Kg?{x:tg(c-o)<Kg?b:m,y:o}:tg(d-m)<Kg&&e-n>Kg?{x:m,y:tg(b-m)<Kg?c:n}:tg(e-n)<Kg&&d-l>Kg?{x:tg(c-n)<Kg?b:l,y:n}:null),f.site,null)),++i)}function Sc(a,b){return b.angle-a.angle}function Tc(){cd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Uc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Lg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=ji.pop()||new Tc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=hi._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}hi.insert(s,r),s||(gi=r)}}}}function Vc(a){var b=a.circle;b&&(b.P||(gi=b.N),hi.remove(b),ji.push(b),cd(b),a.circle=null)}function Wc(a){for(var b,c=di,d=Qb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Xc(b,a)||!d(b)||tg(b.a.x-b.b.x)<Kg&&tg(b.a.y-b.b.y)<Kg)&&(b.a=b.b=null,c.splice(e,1))}function Xc(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(g>q||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,-1>d||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(p>n){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function Yc(a,b){this.l=a,this.r=b,this.a=this.b=null}function Zc(a,b,c,d){var e=new Yc(a,b);return di.push(e),c&&_c(e,a,b,c),d&&_c(e,b,a,d),ei[a.i].edges.push(new ad(e,a,b)),ei[b.i].edges.push(new ad(e,b,a)),e}function $c(a,b,c){var d=new Yc(a,null);return d.a=b,d.b=c,di.push(d),d}function _c(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function ad(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function bd(){this._=null}function cd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function dd(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function ed(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function fd(a){for(;a.L;)a=a.L;return a}function gd(a,b){var c,d,e,f=a.sort(hd).pop();for(di=[],ei=new Array(a.length),fi=new bd,hi=new bd;;)if(e=gi,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))(f.x!==c||f.y!==d)&&(ei[f.i]=new Qc(f),Nc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Mc(e.arc)}b&&(Wc(b),Rc(b));var g={cells:ei,edges:di};return fi=hi=di=ei=null,g}function hd(a,b){return b.y-a.y||b.x-a.x}function id(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function jd(a){return a.x}function kd(a){return a.y}function ld(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function md(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&md(a,i[0],c,d,g,h),i[1]&&md(a,i[1],g,d,e,h),i[2]&&md(a,i[2],c,h,g,f),i[3]&&md(a,i[3],g,h,e,f)}}function nd(a,b,c,d,e,f,g){var h,i=1/0;return function j(a,k,l,m,n){if(!(k>f||l>g||d>m||e>n)){if(o=a.point){var o,p=b-a.x,q=c-a.y,r=p*p+q*q;if(i>r){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=a.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;z>y;++y)if(a=t[3&y])switch(3&y){case 0:j(a,k,l,u,v);break;case 1:j(a,u,l,m,v);break;case 2:j(a,k,v,u,n);break;case 3:j(a,u,v,m,n)}}}(a,d,e,f,g),h}function od(a,b){a=hg.rgb(a),b=hg.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+ua(Math.round(c+f*a))+ua(Math.round(d+g*a))+ua(Math.round(e+h*a))}}function pd(a,b){var c,d={},e={};for(c in a)c in b?d[c]=sd(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function qd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function rd(a,b){var c,d,e,f=li.lastIndex=mi.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=li.exec(a))&&(d=mi.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:qd(c,d)})),f=mi.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;b>d;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function sd(a,b){for(var c,d=hg.interpolators.length;--d>=0&&!(c=hg.interpolators[d](a,b)););return c}function td(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;h>c;++c)d.push(sd(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;g>c;++c)e[c]=b[c];return function(a){for(c=0;h>c;++c)e[c]=d[c](a);return e}}function ud(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function vd(a){return function(b){return 1-a(1-b)}}function wd(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function xd(a){return a*a}function yd(a){return a*a*a}function zd(a){if(0>=a)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function Ad(a){return function(b){return Math.pow(b,a)}}function Bd(a){return 1-Math.cos(a*Pg)}function Cd(a){return Math.pow(2,10*(a-1))}function Dd(a){return 1-Math.sqrt(1-a*a)}function Ed(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Ng*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Ng/b)}}function Fd(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Gd(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Hd(a,b){a=hg.hcl(a),b=hg.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return ka(c+f*a,d+g*a,e+h*a)+""}}function Id(a,b){a=hg.hsl(a),b=hg.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return ia(c+f*a,d+g*a,e+h*a)+""}}function Jd(a,b){a=hg.lab(a),b=hg.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return ma(c+f*a,d+g*a,e+h*a)+""}}function Kd(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Ld(a){var b=[a.a,a.b],c=[a.c,a.d],d=Nd(b),e=Md(b,c),f=Nd(Od(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,
b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Rg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Rg:0}function Md(a,b){return a[0]*b[0]+a[1]*b[1]}function Nd(a){var b=Math.sqrt(Md(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Od(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Pd(a){return a.length?a.pop()+",":""}function Qd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:qd(a[0],b[0])},{i:e-2,x:qd(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function Rd(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push(Pd(c)+"rotate(",null,")")-2,x:qd(a,b)})):b&&c.push(Pd(c)+"rotate("+b+")")}function Sd(a,b,c,d){a!==b?d.push({i:c.push(Pd(c)+"skewX(",null,")")-2,x:qd(a,b)}):b&&c.push(Pd(c)+"skewX("+b+")")}function Td(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push(Pd(c)+"scale(",null,",",null,")");d.push({i:e-4,x:qd(a[0],b[0])},{i:e-2,x:qd(a[1],b[1])})}else(1!==b[0]||1!==b[1])&&c.push(Pd(c)+"scale("+b+")")}function Ud(a,b){var c=[],d=[];return a=hg.transform(a),b=hg.transform(b),Qd(a.translate,b.translate,c,d),Rd(a.rotate,b.rotate,c,d),Sd(a.skew,b.skew,c,d),Td(a.scale,b.scale,c,d),a=b=null,function(a){for(var b,e=-1,f=d.length;++e<f;)c[(b=d[e]).i]=b.x(a);return c.join("")}}function Vd(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Wd(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Xd(a){for(var b=a.source,c=a.target,d=Zd(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function Yd(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Zd(a,b){if(a===b)return a;for(var c=Yd(a),d=Yd(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function $d(a){a.fixed|=2}function _d(a){a.fixed&=-7}function ae(a){a.fixed|=4,a.px=a.x,a.py=a.y}function be(a){a.fixed&=-5}function ce(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(ce(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function de(a,b){return hg.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=je,a}function ee(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function fe(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function ge(a){return a.children}function he(a){return a.value}function ie(a,b){return b.value-a.value}function je(a){return hg.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function ke(a){return a.x}function le(a){return a.y}function me(a,b,c){a.y0=b,a.y=c}function ne(a){return hg.range(a.length)}function oe(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function pe(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function qe(a){return a.reduce(re,0)}function re(a,b){return a+b[1]}function se(a,b){return te(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function te(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function ue(a){return[hg.min(a),hg.max(a)]}function ve(a,b){return a.value-b.value}function we(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function xe(a,b){a._pack_next=b,b._pack_prev=a}function ye(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function ze(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-(1/0),m=1/0,n=-(1/0);if(c.forEach(Ae),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],De(d,e,f),b(f),we(d,f),d._pack_prev=f,we(f,e),e=d._pack_next,g=3;j>g;g++){De(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(ye(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!ye(i,f);i=i._pack_prev,q++);o?(q>p||p==q&&e.r<d.r?xe(d,e=h):xe(d=i,e),g--):(we(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;j>g;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(Be)}}function Ae(a){a._pack_next=a._pack_prev=a}function Be(a){delete a._pack_next,delete a._pack_prev}function Ce(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)Ce(e[f],b,c,d)}function De(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Ee(a,b){return a.parent==b.parent?1:2}function Fe(a){var b=a.children;return b.length?b[0]:a.t}function Ge(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function He(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Ie(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Je(a,b,c){return a.a.parent===b.parent?a.a:c}function Ke(a){return 1+hg.max(a,function(a){return a.y})}function Le(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Me(a){var b=a.children;return b&&b.length?Me(b[0]):a}function Ne(a){var b,c=a.children;return c&&(b=c.length)?Ne(c[b-1]):a}function Oe(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Pe(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Qe(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function Re(a){return a.rangeExtent?a.rangeExtent():Qe(a.range())}function Se(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Te(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function Ue(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:xi}function Ve(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=hg.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function We(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?Ve:Se,i=d?Wd:Vd;return g=e(a,b,i,c),h=e(b,a,i,sd),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Kd)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return $e(a,b)},f.tickFormat=function(b,c){return _e(a,b,c)},f.nice=function(b){return Ye(a,b),e()},f.copy=function(){return We(a,b,c,d)},e()}function Xe(a,b){return hg.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Ye(a,b){return Te(a,Ue(Ze(a,b)[2])),Te(a,Ue(Ze(a,b)[2])),a}function Ze(a,b){null==b&&(b=10);var c=Qe(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return.15>=f?e*=10:.35>=f?e*=5:.75>=f&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function $e(a,b){return hg.range.apply(hg,Ze(a,b))}function _e(a,b,c){var d=Ze(a,b);if(c){var e=lh.exec(c);if(e.shift(),"s"===e[8]){var f=hg.formatPrefix(Math.max(tg(d[0]),tg(d[1])));return e[7]||(e[7]="."+af(f.scale(d[2]))),e[8]="f",c=hg.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+bf(e[8],d)),c=e.join("")}else c=",."+af(d[2])+"f";return hg.format(c)}function af(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function bf(a,b){var c=af(b[2]);return a in yi?Math.abs(c-af(Math.max(tg(b[0]),tg(b[1]))))+ +("e"!==a):c-2*("%"===a)}function cf(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Te(d.map(e),c?Math:Ai);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Qe(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;k>j;j++)for(var m=1;l>m;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,c){if(!arguments.length)return zi;arguments.length<2?c=zi:"function"!=typeof c&&(c=hg.format(c));var d=Math.max(1,b*a/g.ticks().length);return function(a){var g=a/f(Math.round(e(a)));return b-.5>g*b&&(g*=b),d>=g?c(a):""}},g.copy=function(){return cf(a.copy(),b,c,d)},Xe(g,a)}function df(a,b,c){function d(b){return a(e(b))}var e=ef(b),f=ef(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return $e(c,a)},d.tickFormat=function(a,b){return _e(c,a,b)},d.nice=function(a){return d.domain(Ye(c,a))},d.exponent=function(g){return arguments.length?(e=ef(b=g),f=ef(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return df(a.copy(),b,c)},Xe(d,a)}function ef(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function ff(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return hg.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new j;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Qe(b.a[0])},c.copy=function(){return ff(a,b)},c.domain(a)}function gf(a,b){function f(){var c=0,d=b.length;for(h=[];++c<d;)h[c-1]=hg.quantile(a,c/d);return g}function g(a){return isNaN(a=+a)?void 0:b[hg.bisect(h,a)]}var h;return g.domain=function(b){return arguments.length?(a=b.map(d).filter(e).sort(c),f()):a},g.range=function(a){return arguments.length?(b=a,f()):b},g.quantiles=function(){return h},g.invertExtent=function(c){return c=b.indexOf(c),0>c?[NaN,NaN]:[c>0?h[c-1]:a[0],c<h.length?h[c]:a[a.length-1]]},g.copy=function(){return gf(a,b)},f()}function hf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=0>b?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return hf(a,b,c)},e()}function jf(a,b){function c(c){return c>=c?b[hg.bisect(a,c)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return jf(a,b)},c}function kf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return $e(a,b)},b.tickFormat=function(b,c){return _e(a,b,c)},b.copy=function(){return kf(a)},b}function lf(){return 0}function mf(a){return a.innerRadius}function nf(a){return a.outerRadius}function of(a){return a.startAngle}function pf(a){return a.endAngle}function qf(a){return a&&a.padAngle}function rf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function sf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(0>r?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function tf(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Aa(c),o=Aa(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Cc,d=Dc,e=Db,f=uf,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Gi.get(a)||uf).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function uf(a){return a.length>1?a.join("L"):a+"Z"}function vf(a){return a.join("L")+"Z"}function wf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function xf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function yf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function zf(a,b){return a.length<4?uf(a):a[1]+Cf(a.slice(1,-1),Df(a,b))}function Af(a,b){return a.length<3?vf(a):a[0]+Cf((a.push(a[0]),a),Df([a[a.length-2]].concat(a,[a[1]]),b))}function Bf(a,b){return a.length<3?uf(a):a[0]+Cf(a,Df(a,b))}function Cf(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return uf(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function Df(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function Ef(a){if(a.length<3)return uf(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",If(Ji,g),",",If(Ji,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Jf(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Ff(a){if(a.length<4)return uf(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(If(Ji,f)+","+If(Ji,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Jf(c,f,g);return c.join("")}function Gf(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[If(Ji,g),",",If(Ji,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Jf(b,g,h);return b.join("")}function Hf(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return Ef(a)}function If(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Jf(a,b,c){a.push("C",If(Hi,b),",",If(Hi,c),",",If(Ii,b),",",If(Ii,c),",",If(Ji,b),",",If(Ji,c))}function Kf(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Lf(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Kf(e,f);++b<c;)d[b]=(g+(g=Kf(e=f,f=a[b+1])))/2;return d[b]=g,d}function Mf(a){for(var b,c,d,e,f=[],g=Lf(a),h=-1,i=a.length-1;++h<i;)b=Kf(a[h],a[h+1]),tg(b)<Kg?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function Nf(a){return a.length<3?uf(a):a[0]+Cf(a,Mf(a))}function Of(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Pg,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Pf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Aa(c),v=Aa(e),w=c===d?function(){return n}:Aa(d),x=e===f?function(){return o}:Aa(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Cc,d=Cc,e=0,f=Dc,g=Db,h=uf,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Gi.get(a)||uf).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Qf(a){return a.radius}function Rf(a){return[a.x,a.y]}function Sf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Pg;return[c*Math.cos(d),c*Math.sin(d)]}}function Tf(){return 64}function Uf(){return"circle"}function Vf(a){var b=Math.sqrt(a/Mg);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Wf(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Xf(a,b,c){return yg(a,Qi),a.namespace=b,a.id=c,a}function Yf(a,b,c,d){var e=a.id,f=a.namespace;return R(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function Zf(a){return null==a&&(a=""),function(){this.textContent=a}}function $f(a){return null==a?"__transition__":"__transition_"+a+"__"}function _f(a,b,c,d,e){function f(a){var b=p.delay;return k.t=b+i,a>=b?g(a-b):void(k.c=g)}function g(c){var e=o.active,f=o[e];f&&(f.timer.c=null,f.timer.t=NaN,--o.count,delete o[e],f.event&&f.event.interrupt.call(a,a.__data__,f.index));for(var g in o)if(d>+g){var j=o[g];j.timer.c=null,j.timer.t=NaN,--o.count,delete o[g]}k.c=h,Fa(function(){return k.c&&h(c||1)&&(k.c=null,k.t=NaN),1},0,i),o.active=d,p.event&&p.event.start.call(a,a.__data__,b),n=[],p.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&n.push(d)}),m=p.ease,l=p.duration}function h(e){for(var f=e/l,g=m(f),h=n.length;h>0;)n[--h].call(a,g);return f>=1?(p.event&&p.event.end.call(a,a.__data__,b),--o.count?delete o[d]:delete a[c],1):void 0}var i,k,l,m,n,o=a[c]||(a[c]={active:0,count:0}),p=o[d];p||(i=e.time,k=Fa(f,0,i),p=o[d]={tween:new j,time:i,timer:k,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++o.count)}function ag(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function bg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function cg(a){return a.toISOString()}function dg(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=hg.bisect(Zi,e);return f==Zi.length?[b.year,Ze(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/Zi[f-1]<Zi[f]/e?f-1:f]:[aj,Ze(a,c)[2]]}return d.invert=function(b){return eg(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(eg)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,eg(+c+1),b).length}var f=d.domain(),g=Qe(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);return h&&(a=h[0],b=h[1]),d.domain(Te(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=eg(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=eg(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Qe(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],eg(+c[1]+1),1>b?1:b)},d.tickFormat=function(){return c},d.copy=function(){return dg(a.copy(),b,c)},Xe(d,a)}function eg(a){return new Date(a)}function fg(a){return JSON.parse(a.responseText)}function gg(a){var b=kg.createRange();return b.selectNode(kg.body),b.createContextualFragment(a.responseText)}var hg={version:"3.5.17"},ig=[].slice,jg=function(a){return ig.call(a)},kg=this.document;if(kg)try{jg(kg.documentElement.childNodes)[0].nodeType}catch(lg){jg=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),kg)try{kg.createElement("DIV").style.setProperty("opacity",0,"")}catch(mg){var ng=this.Element.prototype,og=ng.setAttribute,pg=ng.setAttributeNS,qg=this.CSSStyleDeclaration.prototype,rg=qg.setProperty;ng.setAttribute=function(a,b){og.call(this,a,b+"")},ng.setAttributeNS=function(a,b,c){pg.call(this,a,b,c+"")},qg.setProperty=function(a,b,c){rg.call(this,a,b+"",c)}}hg.ascending=c,hg.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},hg.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},hg.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},hg.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=d))}return[c,e]},hg.sum=function(a,b){var c,d=0,f=a.length,g=-1;if(1===arguments.length)for(;++g<f;)e(c=+a[g])&&(d+=c);else for(;++g<f;)e(c=+b.call(a,a[g],g))&&(d+=c);return d},hg.mean=function(a,b){var c,f=0,g=a.length,h=-1,i=g;if(1===arguments.length)for(;++h<g;)e(c=d(a[h]))?f+=c:--i;else for(;++h<g;)e(c=d(b.call(a,a[h],h)))?f+=c:--i;return i?f/i:void 0},hg.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},hg.median=function(a,b){var f,g=[],h=a.length,i=-1;if(1===arguments.length)for(;++i<h;)e(f=d(a[i]))&&g.push(f);else for(;++i<h;)e(f=d(b.call(a,a[i],i)))&&g.push(f);return g.length?hg.quantile(g.sort(c),.5):void 0},hg.variance=function(a,b){var c,f,g=a.length,h=0,i=0,j=-1,k=0;if(1===arguments.length)for(;++j<g;)e(c=d(a[j]))&&(f=c-h,h+=f/++k,i+=f*(c-h));else for(;++j<g;)e(c=d(b.call(a,a[j],j)))&&(f=c-h,h+=f/++k,i+=f*(c-h));return k>1?i/(k-1):void 0},hg.deviation=function(){var a=hg.variance.apply(this,arguments);return a?Math.sqrt(a):a};var sg=f(c);hg.bisectLeft=sg.left,hg.bisect=hg.bisectRight=sg.right,hg.bisector=function(a){return f(1===a.length?function(b,d){return c(a(b),d)}:a)},hg.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},hg.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},hg.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(0>d?0:d);d>c;)f[c]=[b=e,e=a[++c]];return f},hg.transpose=function(a){if(!(e=a.length))return[];for(var b=-1,c=hg.min(a,g),d=new Array(c);++b<c;)for(var e,f=-1,h=d[b]=new Array(e);++f<e;)h[f]=a[f][b];return d},hg.zip=function(){return hg.transpose(arguments)},hg.keys=function(a){var b=[];for(var c in a)b.push(c);return b},hg.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},hg.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},hg.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var tg=Math.abs;hg.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=h(tg(c)),g=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},hg.map=function(a,b){var c=new j;if(a instanceof j)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var ug="__proto__",vg="\x00";i(j,{has:m,get:function(a){return this._[k(a)]},set:function(a,b){return this._[k(a)]=b},remove:n,keys:o,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:l(b),value:this._[b]});return a},size:p,empty:q,forEach:function(a){for(var b in this._)a.call(this,l(b),this._[b])}}),hg.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,k,l,m,n=-1,o=g.length,p=f[h++],q=new j;++n<o;)(m=q.get(i=p(k=g[n])))?m.push(k):q.set(i,[k]);return b?(k=b(),l=function(c,d){k.set(c,a(b,d,h))}):(k={},l=function(c,d){k[c]=a(b,d,h)}),q.forEach(l),k}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(hg.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},hg.set=function(a){var b=new r;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b},i(r,{has:m,add:function(a){return this._[k(a+="")]=!0,a},remove:n,values:o,size:p,empty:q,forEach:function(a){for(var b in this._)a.call(this,l(b))}}),hg.behavior={},hg.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=t(a,b,b[c]);return a};var wg=["webkit","ms","moz","Moz","o","O"];hg.dispatch=function(){for(var a=new w,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=x(a);return a},w.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},hg.event=null,hg.requote=function(a){return a.replace(xg,"\\$&")};var xg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,yg={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},zg=function(a,b){return b.querySelector(a)},Ag=function(a,b){return b.querySelectorAll(a)},Bg=function(a,b){var c=a.matches||a[u(a,"matchesSelector")];return(Bg=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(zg=function(a,b){return Sizzle(a,b)[0]||null},Ag=Sizzle,Bg=Sizzle.matchesSelector),hg.selection=function(){return hg.select(kg.documentElement)};var Cg=hg.selection.prototype=[];Cg.select=function(a){var b,c,d,e,f=[];a=C(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return B(f)},Cg.selectAll=function(a){var b,c,d=[];a=D(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=jg(a.call(c,c.__data__,h,e))),b.parentNode=c);return B(d)};var Dg="http://www.w3.org/1999/xhtml",Eg={svg:"http://www.w3.org/2000/svg",xhtml:Dg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};hg.ns={prefix:Eg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Eg.hasOwnProperty(c)?{space:Eg[c],local:a}:a}},Cg.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=hg.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(E(b,a[b]));return this}return this.each(E(a,b))},Cg.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=H(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!G(a[e]).test(b))return!1;return!0}for(b in a)this.each(I(b,a[b]));return this}return this.each(I(a,b))},Cg.style=function(a,c,d){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(c="");for(d in a)this.each(K(d,a[d],c));return this}if(2>e){var f=this.node();return b(f).getComputedStyle(f,null).getPropertyValue(a)}d=""}return this.each(K(a,c,d))},Cg.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(L(b,a[b]));return this}return this.each(L(a,b))},Cg.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},Cg.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},Cg.append=function(a){return a=M(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},Cg.insert=function(a,b){return a=M(a),b=C(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},Cg.remove=function(){return this.each(N)},Cg.data=function(a,b){function c(a,c){var d,e,f,g=a.length,l=c.length,m=Math.min(g,l),n=new Array(l),o=new Array(l),p=new Array(g);if(b){var q,r=new j,s=new Array(g);for(d=-1;++d<g;)(e=a[d])&&(r.has(q=b.call(e,e.__data__,d))?p[d]=e:r.set(q,e),s[d]=q);for(d=-1;++d<l;)(e=r.get(q=b.call(c,f=c[d],d)))?e!==!0&&(n[d]=e,e.__data__=f):o[d]=O(f),r.set(q,!0);for(d=-1;++d<g;)d in s&&r.get(s[d])!==!0&&(p[d]=a[d])}else{for(d=-1;++d<m;)e=a[d],f=c[d],e?(e.__data__=f,n[d]=e):o[d]=O(f);for(;l>d;++d)o[d]=O(c[d]);for(;g>d;++d)p[d]=a[d]}o.update=n,o.parentNode=n.parentNode=p.parentNode=a.parentNode,h.push(o),i.push(n),k.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=S([]),i=B([]),k=B([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);return i.enter=function(){return h},i.exit=function(){return k},i},Cg.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},Cg.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=P(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return B(e);
},Cg.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},Cg.sort=function(a){a=Q.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Cg.each=function(a){return R(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Cg.call=function(a){var b=jg(arguments);return a.apply(b[0]=this,b),this},Cg.empty=function(){return!this.node()},Cg.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null},Cg.size=function(){var a=0;return R(this,function(){++a}),a};var Fg=[];hg.selection.enter=S,hg.selection.enter.prototype=Fg,Fg.append=Cg.append,Fg.empty=Cg.empty,Fg.node=Cg.node,Fg.call=Cg.call,Fg.size=Cg.size,Fg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return B(g)},Fg.insert=function(a,b){return arguments.length<2&&(b=T(this)),Cg.insert.call(this,a,b)},hg.select=function(b){var c;return"string"==typeof b?(c=[zg(b,kg)],c.parentNode=kg.documentElement):(c=[b],c.parentNode=a(b)),B([c])},hg.selectAll=function(a){var b;return"string"==typeof a?(b=jg(Ag(a,kg)),b.parentNode=kg.documentElement):(b=jg(a),b.parentNode=null),B([b])},Cg.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(U(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(U(a,b,c))};var Gg=hg.map({mouseenter:"mouseover",mouseleave:"mouseout"});kg&&Gg.forEach(function(a){"on"+a in kg&&Gg.remove(a)});var Hg,Ig=0;hg.mouse=function(a){return Y(a,z())};var Jg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;hg.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=z().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return Y(a,d)},hg.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function c(a,b,c,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o),n({type:"dragend"}))}var j,k=this,l=hg.event.target.correspondingElement||hg.event.target,m=k.parentNode,n=d.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=hg.select(c(l)).on(f+q,h).on(g+q,i),s=X(l),t=b(m,p);e?(j=e.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var d=A(a,"drag","dragstart","dragend"),e=null,f=c(v,hg.mouse,b,"mousemove","mouseup"),g=c(Z,hg.touch,s,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},hg.rebind(a,d,"on")},hg.touches=function(a,b){return arguments.length<2&&(b=z().touches),b?jg(b).map(function(b){var c=Y(a,b);return c.identifier=b.identifier,c}):[]};var Kg=1e-6,Lg=Kg*Kg,Mg=Math.PI,Ng=2*Mg,Og=Ng-Kg,Pg=Mg/2,Qg=Mg/180,Rg=180/Mg,Sg=Math.SQRT2,Tg=2,Ug=4;hg.interpolateZoom=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(Lg>m)d=Math.log(j/g)/Sg,c=function(a){return[e+a*k,f+a*l,g*Math.exp(Sg*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+Ug*m)/(2*g*Tg*n),p=(j*j-g*g-Ug*m)/(2*j*Tg*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/Sg,c=function(a){var b=a*d,c=da(q),h=g/(Tg*n)*(c*ea(Sg*b+q)-ca(q));return[e+h*k,f+h*l,g*c/da(Sg*b+q)]}}return c.duration=1e3*d,c},hg.behavior.zoom=function(){function a(a){a.on(F,l).on(Wg+".zoom",n).on("dblclick.zoom",o).on(I,m)}function c(a){return[(a[0]-z.x)/z.k,(a[1]-z.y)/z.k]}function d(a){return[a[0]*z.k+z.x,a[1]*z.k+z.y]}function e(a){z.k=Math.max(C[0],Math.min(C[1],a))}function f(a,b){b=d(b),z.x+=a[0]-b[0],z.y+=a[1]-b[1]}function g(b,c,d,g){b.__chart__={x:z.x,y:z.y,k:z.k},e(Math.pow(2,g)),f(q=c,d),b=hg.select(b),D>0&&(b=b.transition().duration(D)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-z.x)/z.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-z.y)/z.k}).map(w.invert))}function i(a){E++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:z.k,translate:[z.x,z.y]})}function k(a){--E||(a({type:"zoomend"}),q=null)}function l(){function a(){h=1,f(hg.mouse(e),m),j(g)}function d(){l.on(G,null).on(H,null),n(h),k(g)}var e=this,g=J.of(e,arguments),h=0,l=hg.select(b(e)).on(G,a).on(H,d),m=c(hg.mouse(e)),n=X(e);Pi.call(e),i(g)}function m(){function a(){var a=hg.touches(o);return n=z.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=c(a))}),a}function b(){var b=hg.event.target;hg.select(b).on(u,d).on(v,h),w.push(b);for(var c=hg.event.changedTouches,e=0,f=c.length;f>e;++e)q[c[e].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(500>j-t){var k=i[0];g(o,k,q[k.identifier],Math.floor(Math.log(z.k)/Math.LN2)+1),y()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function d(){var a,b,c,d,g=hg.touches(o);Pi.call(o);for(var h=0,i=g.length;i>h;++h,d=null)if(c=g[h],d=q[c.identifier]){if(b)break;a=c,b=d}if(d){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+d[0])/2,(b[1]+d[1])/2],e(l*n)}t=null,f(a,b),j(p)}function h(){if(hg.event.touches.length){for(var b=hg.event.changedTouches,c=0,d=b.length;d>c;++c)delete q[b[c].identifier];for(var e in q)return void a()}hg.selectAll(w).on(s,null),x.on(F,l).on(I,m),A(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+hg.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=hg.select(o),A=X(o);b(),i(p),x.on(F,null).on(I,b)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Pi.call(this),p=c(q=r||hg.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),y(),e(Math.pow(2,.002*Vg())*z.k),f(q,p),j(a)}function o(){var a=hg.mouse(this),b=Math.log(z.k)/Math.LN2;g(this,a,c(a),hg.event.shiftKey?Math.ceil(b)-1:Math.floor(b)+1)}var p,q,r,s,t,u,v,w,x,z={x:0,y:0,k:1},B=[960,500],C=Xg,D=250,E=0,F="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=A(a,"zoomstart","zoom","zoomend");return Wg||(Wg="onwheel"in kg?(Vg=function(){return-hg.event.deltaY*(hg.event.deltaMode?120:1)},"wheel"):"onmousewheel"in kg?(Vg=function(){return hg.event.wheelDelta},"mousewheel"):(Vg=function(){return-hg.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=z;Ni?hg.select(this).transition().each("start.zoom",function(){z=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=B[0],d=B[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=hg.interpolateZoom([(e-z.x)/z.k,(f-z.y)/z.k,c/z.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=z={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=z,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(z={x:+b[0],y:+b[1],k:z.k},h(),a):[z.x,z.y]},a.scale=function(b){return arguments.length?(z={x:z.x,y:z.y,k:null},e(+b),h(),a):z.k},a.scaleExtent=function(b){return arguments.length?(C=null==b?Xg:[+b[0],+b[1]],a):C},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(B=b&&[+b[0],+b[1]],a):B},a.duration=function(b){return arguments.length?(D=+b,a):D},a.x=function(b){return arguments.length?(v=b,u=b.copy(),z={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),z={x:0,y:0,k:1},a):x},hg.rebind(a,J,"on")};var Vg,Wg,Xg=[0,1/0];hg.color=ga,ga.prototype.toString=function(){return this.rgb()+""},hg.hsl=ha;var Yg=ha.prototype=new ga;Yg.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ha(this.h,this.s,this.l/a)},Yg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ha(this.h,this.s,a*this.l)},Yg.rgb=function(){return ia(this.h,this.s,this.l)},hg.hcl=ja;var Zg=ja.prototype=new ga;Zg.brighter=function(a){return new ja(this.h,this.c,Math.min(100,this.l+$g*(arguments.length?a:1)))},Zg.darker=function(a){return new ja(this.h,this.c,Math.max(0,this.l-$g*(arguments.length?a:1)))},Zg.rgb=function(){return ka(this.h,this.c,this.l).rgb()},hg.lab=la;var $g=18,_g=.95047,ah=1,bh=1.08883,ch=la.prototype=new ga;ch.brighter=function(a){return new la(Math.min(100,this.l+$g*(arguments.length?a:1)),this.a,this.b)},ch.darker=function(a){return new la(Math.max(0,this.l-$g*(arguments.length?a:1)),this.a,this.b)},ch.rgb=function(){return ma(this.l,this.a,this.b)},hg.rgb=ra;var dh=ra.prototype=new ga;dh.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&e>b&&(b=e),c&&e>c&&(c=e),d&&e>d&&(d=e),new ra(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new ra(e,e,e)},dh.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ra(a*this.r,a*this.g,a*this.b)},dh.hsl=function(){return wa(this.r,this.g,this.b)},dh.toString=function(){return"#"+ua(this.r)+ua(this.g)+ua(this.b)};var eh=hg.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});eh.forEach(function(a,b){eh.set(a,sa(b))}),hg.functor=Aa,hg.xhr=Ba(s),hg.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Ca(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;j>k;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new r,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},hg.csv=hg.dsv(",","text/csv"),hg.tsv=hg.dsv("	","text/tab-separated-values");var fh,gh,hh,ih,jh=this[u(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};hg.timer=function(){Fa.apply(this,arguments)},hg.timer.flush=function(){Ha(),Ia()},hg.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var kh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ka);hg.formatPrefix=function(a,b){var c=0;return(a=+a)&&(0>a&&(a*=-1),b&&(a=hg.round(a,Ja(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),kh[8+c/3]};var lh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,mh=hg.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=hg.round(a,Ja(a,b))).toFixed(Math.max(0,Math.min(20,Ja(a*(1+1e-15),b))))}}),nh=hg.time={},oh=Date;Na.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ph.setUTCDate.apply(this._,arguments)},setDay:function(){ph.setUTCDay.apply(this._,arguments)},setFullYear:function(){ph.setUTCFullYear.apply(this._,arguments)},setHours:function(){ph.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ph.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ph.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ph.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ph.setUTCSeconds.apply(this._,arguments)},setTime:function(){ph.setTime.apply(this._,arguments)}};var ph=Date.prototype;nh.year=Oa(function(a){return a=nh.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),nh.years=nh.year.range,nh.years.utc=nh.year.utc.range,nh.day=Oa(function(a){var b=new oh(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),nh.days=nh.day.range,nh.days.utc=nh.day.utc.range,nh.dayOfYear=function(a){var b=nh.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=nh[a]=Oa(function(a){return(a=nh.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=nh.year(a).getDay();return Math.floor((nh.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});nh[a+"s"]=c.range,nh[a+"s"].utc=c.utc.range,nh[a+"OfYear"]=function(a){var c=nh.year(a).getDay();return Math.floor((nh.dayOfYear(a)+(c+b)%7)/7)}}),nh.week=nh.sunday,nh.weeks=nh.sunday.range,nh.weeks.utc=nh.sunday.utc.range,nh.weekOfYear=nh.sundayOfYear;var qh={"-":"",_:" ",0:"0"},rh=/^\s*\d+/,sh=/^%/;hg.locale=function(a){return{numberFormat:La(a),timeFormat:Qa(a)}};var th=hg.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});hg.format=th.numberFormat,hg.geo={},jb.prototype={s:0,t:0,add:function(a){kb(a,this.t,uh),kb(uh.s,this.s,this),this.s?this.t+=uh.t:this.s=uh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var uh=new jb;hg.geo.stream=function(a,b){a&&vh.hasOwnProperty(a.type)?vh[a.type](a,b):lb(a,b)};var vh={Feature:function(a,b){lb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)lb(c[d].geometry,b)}},wh={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){mb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)mb(c[d],b,0)},Polygon:function(a,b){nb(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)nb(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)lb(c[d],b)}};hg.geo.area=function(a){return xh=0,hg.geo.stream(a,zh),xh};var xh,yh=new jb,zh={sphere:function(){xh+=4*Mg},point:v,lineStart:v,lineEnd:v,polygonStart:function(){yh.reset(),zh.lineStart=ob},polygonEnd:function(){var a=2*yh;xh+=0>a?4*Mg+a:a,zh.lineStart=zh.lineEnd=zh.point=v}};hg.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),l>b&&(l=b),b>n&&(n=b)}function b(b,c){var d=pb([b*Qg,c*Qg]);if(r){var e=rb(r,d),f=[e[1],-e[0],0],g=rb(f,e);ub(g),g=vb(g);var i=b-o,j=i>0?1:-1,p=g[0]*Rg*j,q=tg(i)>180;if(q^(p>j*o&&j*b>p)){var s=g[1]*Rg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(p>j*o&&j*b>p)){var s=-g[1]*Rg;l>s&&(l=s)}else l>c&&(l=c),c>n&&(n=c);q?o>b?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(k>b&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=tg(d)>180?d+(d>0?360:-360):d}else p=a,q=c;zh.point(a,c),b(a,c)}function f(){zh.lineStart()}function g(){e(p,q),zh.lineEnd(),tg(s)>Kg&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,zh.polygonStart()},polygonEnd:function(){zh.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,0>yh?(k=-(m=180),l=-(n=90)):s>Kg?n=90:-Kg>s&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],hg.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];b>d;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-(1/0),b=f.length-1,d=0,e=f[b];b>=d;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),hg.geo.centroid=function(a){Ah=Bh=Ch=Dh=Eh=Fh=Gh=Hh=Ih=Jh=Kh=0,hg.geo.stream(a,Lh);var b=Ih,c=Jh,d=Kh,e=b*b+c*c+d*d;return Lg>e&&(b=Fh,c=Gh,d=Hh,Kg>Bh&&(b=Ch,c=Dh,d=Eh),e=b*b+c*c+d*d,Lg>e)?[NaN,NaN]:[Math.atan2(c,b)*Rg,ba(d/Math.sqrt(e))*Rg]};var Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh,Kh,Lh={sphere:v,point:xb,lineStart:zb,lineEnd:Ab,polygonStart:function(){Lh.lineStart=Bb},polygonEnd:function(){Lh.lineStart=zb}},Mh=Hb(Db,Lb,Nb,[-Mg,-Mg/2]),Nh=1e9;hg.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Rb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(hg.geo.conicEqualArea=function(){return Sb(Tb)}).raw=Tb,hg.geo.albers=function(){return hg.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},hg.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=hg.geo.albers(),g=hg.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=hg.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&.234>e&&d>=-.425&&-.214>d?g:e>=.166&&.234>e&&d>=-.214&&-.115>d?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Kg,l+.12*j+Kg],[k-.214*j-Kg,l+.234*j-Kg]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Kg,l+.166*j+Kg],[k-.115*j-Kg,l+.234*j-Kg]]).stream(i).point,a},a.scale(1070)};var Oh,Ph,Qh,Rh,Sh,Th,Uh={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Ph=0,Uh.lineStart=Ub},polygonEnd:function(){Uh.lineStart=Uh.lineEnd=Uh.point=v,Oh+=tg(Ph/2)}},Vh={point:Vb,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Wh={point:Yb,lineStart:Zb,lineEnd:$b,polygonStart:function(){Wh.lineStart=_b},polygonEnd:function(){Wh.point=Yb,Wh.lineStart=Zb,Wh.lineEnd=$b}};hg.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),hg.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Oh=0,hg.geo.stream(a,e(Uh)),Oh},a.centroid=function(a){return Ch=Dh=Eh=Fh=Gh=Hh=Ih=Jh=Kh=0,hg.geo.stream(a,e(Wh)),Kh?[Ih/Kh,Jh/Kh]:Hh?[Fh/Hh,Gh/Hh]:Eh?[Ch/Eh,Dh/Eh]:[NaN,NaN]},a.bounds=function(a){return Sh=Th=-(Qh=Rh=1/0),hg.geo.stream(a,e(Vh)),[[Qh,Rh],[Sh,Th]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||cc(a):s,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new Wb:new ac(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(hg.geo.albersUsa()).context(null)},hg.geo.transform=function(a){return{stream:function(b){var c=new dc(b);for(var d in a)c[d]=a[d];return c}}},dc.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},hg.geo.projection=fc,hg.geo.projectionMutator=gc,(hg.geo.equirectangular=function(){return fc(ic)}).raw=ic.invert=ic,hg.geo.rotation=function(a){function b(b){return b=a(b[0]*Qg,b[1]*Qg),b[0]*=Rg,b[1]*=Rg,b}return a=kc(a[0]%360*Qg,a[1]*Qg,a.length>2?a[2]*Qg:0),b.invert=function(b){return b=a.invert(b[0]*Qg,b[1]*Qg),b[0]*=Rg,b[1]*=Rg,b},b},jc.invert=ic,hg.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=kc(-a[0]*Qg,-a[1]*Qg,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Rg,a[1]*=Rg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=oc((b=+d)*Qg,e*Qg),a):b},a.precision=function(d){return arguments.length?(c=oc(b*Qg,(e=+d)*Qg),a):e},a.angle(90)},hg.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Qg,e=a[1]*Qg,f=b[1]*Qg,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},hg.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return hg.range(Math.ceil(f/q)*q,e,q).map(m).concat(hg.range(Math.ceil(j/r)*r,i,r).map(n)).concat(hg.range(Math.ceil(d/o)*o,c,o).filter(function(a){return tg(a%q)>Kg}).map(k)).concat(hg.range(Math.ceil(h/p)*p,g,p).filter(function(a){return tg(a%r)>Kg}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=qc(h,g,90),l=rc(d,c,s),m=qc(j,i,90),n=rc(f,e,s),a):s},a.majorExtent([[-180,-90+Kg],[180,90-Kg]]).minorExtent([[-180,-80-Kg],[180,80+Kg]])},hg.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=sc,e=tc;return a.distance=function(){return hg.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},hg.geo.interpolate=function(a,b){return uc(a[0]*Qg,a[1]*Qg,b[0]*Qg,b[1]*Qg)},hg.geo.length=function(a){return Xh=0,hg.geo.stream(a,Yh),Xh};var Xh,Yh={sphere:v,point:v,lineStart:vc,lineEnd:v,polygonStart:v,polygonEnd:v},Zh=wc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(hg.geo.azimuthalEqualArea=function(){return fc(Zh)}).raw=Zh;var $h=wc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},s);(hg.geo.azimuthalEquidistant=function(){return fc($h)}).raw=$h,(hg.geo.conicConformal=function(){return Sb(xc)}).raw=xc,(hg.geo.conicEquidistant=function(){return Sb(yc)}).raw=yc;var _h=wc(function(a){return 1/a},Math.atan);(hg.geo.gnomonic=function(){return fc(_h)}).raw=_h,zc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Pg]},(hg.geo.mercator=function(){return Ac(zc)}).raw=zc;var ai=wc(function(){return 1},Math.asin);(hg.geo.orthographic=function(){return fc(ai)}).raw=ai;var bi=wc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(hg.geo.stereographic=function(){return fc(bi)}).raw=bi,Bc.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Pg]},(hg.geo.transverseMercator=function(){var a=Ac(Bc),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Bc,hg.geom={},hg.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Aa(c),f=Aa(d),g=a.length,h=[],i=[];for(b=0;g>b;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Fc),b=0;g>b;b++)i.push([h[b][0],-h[b][1]]);var j=Ec(h),k=Ec(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Cc,d=Dc;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},hg.geom.polygon=function(a){return yg(a,ci),a};var ci=hg.geom.polygon.prototype=[];ci.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},ci.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},ci.clip=function(a){for(var b,c,d,e,f,g,h=Ic(a),i=-1,j=this.length-Ic(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Gc(g,k,e)?(Gc(f,k,e)||a.push(Hc(f,g,k,e)),a.push(g)):Gc(f,k,e)&&a.push(Hc(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var di,ei,fi,gi,hi,ii=[],ji=[];Qc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Sc),b.length},ad.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},bd.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=fd(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(dd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ed(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(ed(this,c),a=c,c=a.U),c.C=!1,d.C=!0,dd(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?fd(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,dd(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,ed(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,dd(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,ed(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,dd(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,ed(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},hg.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];
return gd(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[];k.point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Kg)*Kg,y:Math.round(g(a,b)/Kg)*Kg,i:b}})}var d=Cc,e=Dc,f=d,g=e,h=ki;return a?b(a):(b.links=function(a){return gd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return gd(c(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Sc),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&id(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?(f=Aa(d=a),b):d},b.y=function(a){return arguments.length?(g=Aa(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?ki:a,b):h===ki?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===ki?null:h&&h[1]},b)};var ki=[[-1e6,-1e6],[1e6,1e6]];hg.geom.delaunay=function(a){return hg.geom.voronoi().triangles(a)},hg.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(tg(i-c)+tg(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=ld()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Aa(h),u=Aa(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;o>n;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;o>n;++n){var v=+t(k=a[n],n),w=+u(k,n);p>v&&(p=v),q>w&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=ld();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){md(a,z,p,q,r,s)},z.find=function(a){return nd(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Cc,i=Dc;return(g=arguments.length)?(h=jd,i=kd,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},hg.interpolateRgb=od,hg.interpolateObject=pd,hg.interpolateNumber=qd,hg.interpolateString=rd;var li=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mi=new RegExp(li.source,"g");hg.interpolate=sd,hg.interpolators=[function(a,b){var c=typeof b;return("string"===c?eh.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?od:rd:b instanceof ga?od:Array.isArray(b)?td:"object"===c&&isNaN(b)?pd:qd)(a,b)}],hg.interpolateArray=td;var ni=function(){return s},oi=hg.map({linear:ni,poly:Ad,quad:function(){return xd},cubic:function(){return yd},sin:function(){return Bd},exp:function(){return Cd},circle:function(){return Dd},elastic:Ed,back:Fd,bounce:function(){return Gd}}),pi=hg.map({"in":s,out:vd,"in-out":wd,"out-in":function(a){return wd(vd(a))}});hg.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=oi.get(c)||ni,d=pi.get(d)||s,ud(d(c.apply(null,ig.call(arguments,1))))},hg.interpolateHcl=Hd,hg.interpolateHsl=Id,hg.interpolateLab=Jd,hg.interpolateRound=Kd,hg.transform=function(a){var b=kg.createElementNS(hg.ns.prefix.svg,"g");return(hg.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Ld(c?c.matrix:qi)})(a)},Ld.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var qi={a:1,b:0,c:0,d:1,e:0,f:0};hg.interpolateTransform=Ud,hg.layout={},hg.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Xd(a[c]));return b}},hg.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=hg.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(hg.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Ng-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:p[s]},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},hg.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(i>h*h/r){if(p>i){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&p>i){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=hg.event.x,a.py=hg.event.y,i.resume()}var c,d,e,f,g,h,i={},j=hg.dispatch("start","tick","end"),k=[1,1],l=.9,m=ri,n=si,o=-30,p=ti,q=.1,r=.64,t=[],u=[];return i.tick=function(){if((e*=.99)<.005)return c=null,j.end({type:"end",alpha:e=0}),!0;var b,d,i,m,n,p,r,s,v,w=t.length,x=u.length;for(d=0;x>d;++d)i=u[d],m=i.source,n=i.target,s=n.x-m.x,v=n.y-m.y,(p=s*s+v*v)&&(p=e*g[d]*((p=Math.sqrt(p))-f[d])/p,s*=p,v*=p,n.x-=s*(r=m.weight+n.weight?m.weight/(m.weight+n.weight):.5),n.y-=v*r,m.x+=s*(r=1-r),m.y+=v*r);if((r=e*q)&&(s=k[0]/2,v=k[1]/2,d=-1,r))for(;++d<w;)i=t[d],i.x+=(s-i.x)*r,i.y+=(v-i.y)*r;if(o)for(ce(b=hg.geom.quadtree(t),e,h),d=-1;++d<w;)(i=t[d]).fixed||b.visit(a(i));for(d=-1;++d<w;)i=t[d],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*l,i.y-=(i.py-(i.py=i.y))*l);j.tick({type:"tick",alpha:e})},i.nodes=function(a){return arguments.length?(t=a,i):t},i.links=function(a){return arguments.length?(u=a,i):u},i.size=function(a){return arguments.length?(k=a,i):k},i.linkDistance=function(a){return arguments.length?(m="function"==typeof a?a:+a,i):m},i.distance=i.linkDistance,i.linkStrength=function(a){return arguments.length?(n="function"==typeof a?a:+a,i):n},i.friction=function(a){return arguments.length?(l=+a,i):l},i.charge=function(a){return arguments.length?(o="function"==typeof a?a:+a,i):o},i.chargeDistance=function(a){return arguments.length?(p=a*a,i):Math.sqrt(p)},i.gravity=function(a){return arguments.length?(q=+a,i):q},i.theta=function(a){return arguments.length?(r=a*a,i):Math.sqrt(r)},i.alpha=function(a){return arguments.length?(a=+a,e?a>0?e=a:(c.c=null,c.t=NaN,c=null,j.end({type:"end",alpha:e=0})):a>0&&(j.start({type:"start",alpha:e=a}),c=Fa(i.tick)),i):e},i.start=function(){function a(a,d){if(!c){for(c=new Array(e),i=0;e>i;++i)c[i]=[];for(i=0;j>i;++i){var f=u[i];c[f.source.index].push(f.target),c[f.target.index].push(f.source)}}for(var g,h=c[b],i=-1,k=h.length;++i<k;)if(!isNaN(g=h[i][a]))return g;return Math.random()*d}var b,c,d,e=t.length,j=u.length,l=k[0],p=k[1];for(b=0;e>b;++b)(d=t[b]).index=b,d.weight=0;for(b=0;j>b;++b)d=u[b],"number"==typeof d.source&&(d.source=t[d.source]),"number"==typeof d.target&&(d.target=t[d.target]),++d.source.weight,++d.target.weight;for(b=0;e>b;++b)d=t[b],isNaN(d.x)&&(d.x=a("x",l)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(f=[],"function"==typeof m)for(b=0;j>b;++b)f[b]=+m.call(this,u[b],b);else for(b=0;j>b;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;j>b;++b)g[b]=+n.call(this,u[b],b);else for(b=0;j>b;++b)g[b]=n;if(h=[],"function"==typeof o)for(b=0;e>b;++b)h[b]=+o.call(this,t[b],b);else for(b=0;e>b;++b)h[b]=o;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return d||(d=hg.behavior.drag().origin(s).on("dragstart.force",$d).on("drag.force",b).on("dragend.force",_d)),arguments.length?void this.on("mouseover.force",ae).on("mouseout.force",be).call(d):d},hg.rebind(i,j,"on")};var ri=20,si=1,ti=1/0;hg.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return fe(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=ie,c=ge,d=he;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(ee(b,function(a){a.children&&(a.value=0)}),fe(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},hg.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=hg.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},de(c,d)},hg.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(0>l?-1:1),o=hg.sum(j),p=o?(l-i*n)/o:0,q=hg.range(i),r=[];return null!=c&&q.sort(c===ui?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),q.forEach(function(a){r[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*p+n,padAngle:m}}),r}var b=Number,c=ui,d=0,e=Ng,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var ui={};hg.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=hg.permute(j,l),k=hg.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;r>o;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;m>n;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=s,c=ne,d=oe,e=me,f=ke,g=le;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:vi.get(b)||ne,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:wi.get(b)||oe,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var vi=hg.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(pe),f=a.map(qe),g=hg.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;d>b;++b)c=g[b],i>h?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return hg.range(a.length).reverse()},"default":ne}),wi=hg.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;f>c;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;m>c;++c){for(b=0,e=0;k>b;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];k>b;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);b>d;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,j>i&&(j=i)}for(c=0;m>c;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=g}for(c=0;f>c;++c)h[c]=0;return h},zero:oe});hg.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)h=j[f],h>=k[0]&&h<=k[1]&&(g=i[hg.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=ue,e=se;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Aa(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return te(a,b)}:Aa(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},hg.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,fe(h,function(a){a.r=+k(a.value)}),fe(h,ze),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;fe(h,function(a){a.r+=l}),fe(h,ze),fe(h,function(a){a.r-=l})}return Ce(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=hg.layout.hierarchy().sort(ve),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},de(a,c)},hg.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(fe(m,c),m.parent.m=-m.z,ee(m,d),j)ee(l,f);else{var n=l,o=l,p=l;ee(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);ee(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;h>g;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){Ie(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=Ge(g),e=Fe(e),g&&e;)i=Fe(i),f=Ge(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(He(Je(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!Ge(f)&&(f.t=g,f.m+=l-k),e&&!Fe(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=hg.layout.hierarchy().sort(null).value(null),h=Ee,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},de(a,g)},hg.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;fe(i,function(a){var b=a.children;b&&b.length?(a.x=Le(b),a.y=Ke(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Me(i),l=Ne(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return fe(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=hg.layout.hierarchy().sort(null).value(null),c=Ee,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},de(a,b)},hg.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(f>c&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=f.y=0,f.value?(f.dx=j[0],f.dy=j[1]):f.dx=f.dy=0,g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=hg.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Oe,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Oe(b):Pe(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Pe(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Oe:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},de(f,h)},hg.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=hg.random.normal.apply(hg,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=hg.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}},hg.scale={};var xi={floor:s,ceil:s};hg.scale.linear=function(){return We([0,1],[0,1],sd,!1)};var yi={s:1,g:1,p:1,r:1,e:1};hg.scale.log=function(){return cf(hg.scale.linear().domain([0,1]),10,!0,[1,10])};var zi=hg.format(".0e"),Ai={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};hg.scale.pow=function(){return df(hg.scale.linear(),1,[0,1])},hg.scale.sqrt=function(){return hg.scale.pow().exponent(.5)},hg.scale.ordinal=function(){return ff([],{t:"range",a:[[]]})},hg.scale.category10=function(){return hg.scale.ordinal().range(Bi)},hg.scale.category20=function(){return hg.scale.ordinal().range(Ci)},hg.scale.category20b=function(){return hg.scale.ordinal().range(Di)},hg.scale.category20c=function(){return hg.scale.ordinal().range(Ei)};var Bi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ta),Ci=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ta),Di=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ta),Ei=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ta);hg.scale.quantile=function(){return gf([],[])},hg.scale.quantize=function(){return hf(0,1,[0,1])},hg.scale.threshold=function(){return jf([.5],[0,1])},hg.scale.identity=function(){return kf([0,1])},hg.svg={},hg.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Pg,l=h.apply(this,arguments)-Pg,m=Math.abs(l-k),n=k>l?0:1;if(a>j&&(o=j,j=a,a=o),m>=Og)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===Fi?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=ba(q/j*Math.sin(r))),a&&(A=ba(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Mg?0:1;if(B&&rf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Mg?0:1;if(A&&rf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if(m>Kg&&(o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=j>a^n?0:1;var H=o,I=o;if(Mg>m){var J=null==y?[w,x]:null==u?[s,t]:Hc([s,t],[y,z],[u,v],[w,x]),K=s-J[0],L=t-J[1],M=u-J[0],N=v-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(a-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=u){var Q=sf(null==y?[w,x]:[y,z],[s,t],j,H,n),R=sf([u,v],[w,x],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^rf(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",s,",",t);if(null!=y){var S=sf([s,t],[y,z],a,-I,n),T=sf([w,x],null==u?[s,t]:[u,v],a,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^rf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=mf,d=nf,e=lf,f=Fi,g=of,h=pf,i=qf;return a.innerRadius=function(b){return arguments.length?(c=Aa(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Aa(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Aa(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Fi?Fi:Aa(b),a):f},a.startAngle=function(b){return arguments.length?(g=Aa(b),a):g},a.endAngle=function(b){return arguments.length?(h=Aa(b),a):h},a.padAngle=function(b){return arguments.length?(i=Aa(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Pg;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Fi="auto";hg.svg.line=function(){return tf(s)};var Gi=hg.map({linear:uf,"linear-closed":vf,step:wf,"step-before":xf,"step-after":yf,basis:Ef,"basis-open":Ff,"basis-closed":Gf,bundle:Hf,cardinal:Bf,"cardinal-open":zf,"cardinal-closed":Af,monotone:Nf});Gi.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Hi=[0,2/3,1/3,0],Ii=[0,1/3,2/3,0],Ji=[0,1/6,2/3,1/6];hg.svg.line.radial=function(){var a=tf(Of);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},xf.reverse=yf,yf.reverse=xf,hg.svg.area=function(){return Pf(s)},hg.svg.area.radial=function(){var a=Pf(Of);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},hg.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Pg,k=j.call(a,e,d)-Pg;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Mg)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=sc,g=tc,h=Qf,i=of,j=pf;return a.radius=function(b){return arguments.length?(h=Aa(b),a):h},a.source=function(b){return arguments.length?(f=Aa(b),a):f},a.target=function(b){return arguments.length?(g=Aa(b),a):g},a.startAngle=function(b){return arguments.length?(i=Aa(b),a):i},a.endAngle=function(b){return arguments.length?(j=Aa(b),a):j},a},hg.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=sc,c=tc,d=Rf;return a.source=function(c){return arguments.length?(b=Aa(c),a):b},a.target=function(b){return arguments.length?(c=Aa(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},hg.svg.diagonal.radial=function(){var a=hg.svg.diagonal(),b=Rf,c=a.projection;return a.projection=function(a){return arguments.length?c(Sf(b=a)):b},a},hg.svg.symbol=function(){function a(a,d){return(Ki.get(b.call(this,a,d))||Vf)(c.call(this,a,d))}var b=Uf,c=Tf;return a.type=function(c){return arguments.length?(b=Aa(c),a):b},a.size=function(b){return arguments.length?(c=Aa(b),a):c},a};var Ki=hg.map({circle:Vf,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Mi)),c=b*Mi;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Li),c=b*Li/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Li),c=b*Li/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});hg.svg.symbolTypes=Ki.keys();var Li=Math.sqrt(3),Mi=Math.tan(30*Qg);Cg.transition=function(a){for(var b,c,d=Ni||++Ri,e=$f(a),f=[],g=Oi||{time:Date.now(),ease:zd,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&_f(c,k,e,d,g),b.push(c)}return Xf(f,e,d)},Cg.interrupt=function(a){return this.each(null==a?Pi:Wf($f(a)))};var Ni,Oi,Pi=Wf($f()),Qi=[],Ri=0;Qi.call=Cg.call,Qi.empty=Cg.empty,Qi.node=Cg.node,Qi.size=Cg.size,hg.transition=function(a,b){return a&&a.transition?Ni?a.transition(b):a:hg.selection().transition(a)},hg.transition.prototype=Qi,Qi.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=C(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),_f(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return Xf(g,f,e)},Qi.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=D(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&_f(e,o,h,g,f),b.push(e)}return Xf(i,h,g)},Qi.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=P(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return Xf(e,this.namespace,this.id)},Qi.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):R(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Qi.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Ud:sd,h=hg.ns.qualify(a);return Yf(this,"attr."+a,b,h.local?f:e)},Qi.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=hg.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Qi.style=function(a,c,d){function e(){this.style.removeProperty(a)}function f(c){return null==c?e:(c+="",function(){var e,f=b(this).getComputedStyle(this,null).getPropertyValue(a);return f!==c&&(e=sd(f,c),function(b){this.style.setProperty(a,e(b),d)})})}var g=arguments.length;if(3>g){if("string"!=typeof a){2>g&&(c="");for(d in a)this.style(d,a[d],c);return this}d=""}return Yf(this,"style."+a,c,f)},Qi.styleTween=function(a,c,d){function e(e,f){var g=c.call(this,e,f,b(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}}return arguments.length<3&&(d=""),this.tween("style."+a,e)},Qi.text=function(a){return Yf(this,"text",a,Zf)},Qi.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Qi.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=hg.ease.apply(hg,arguments)),R(this,function(d){d[c][b].ease=a}))},Qi.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:R(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Qi.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:R(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Qi.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Oi,f=Ni;try{Ni=c,R(this,function(b,e,f){Oi=b[d][c],a.call(b,b.__data__,e,f)})}finally{Oi=e,Ni=f}}else R(this,function(e){var f=e[d][c];(f.event||(f.event=hg.dispatch("start","end","interrupt"))).on(a,b)});return this},Qi.transition=function(){for(var a,b,c,d,e=this.id,f=++Ri,g=this.namespace,h=[],i=0,j=this.length;j>i;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;l>k;k++)(c=b[k])&&(d=c[g][e],_f(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Xf(h,g,f)},hg.svg.axis=function(){function a(a){a.each(function(){var a,j=hg.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):s:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Kg),q=hg.transition(o.exit()).style("opacity",Kg).remove(),r=hg.transition(o.order()).style("opacity",1),t=Math.max(e,0)+g,u=Re(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),hg.transition(v));p.append("line"),p.append("text");var x,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=ag,x="x",z="y",y="x2",A="y2",D.attr("dy",0>G?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+G*f+"V0H"+u[1]+"V"+G*f)):(a=bg,
x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",0>G?"end":"start"),w.attr("d","M"+G*f+","+u[0]+"H0V"+u[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*t),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*t),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=hg.scale.linear(),d=Si,e=6,f=6,g=3,h=[10],i=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Ti?b+"":Si,a):d},a.ticks=function(){return arguments.length?(h=jg(arguments),a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Si="bottom",Ti={top:1,right:1,bottom:1,left:1};hg.svg.brush=function(){function a(b){b.each(function(){var b=hg.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=b.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=b.selectAll(".resize").data(p,s);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ui[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=hg.transition(b),m=hg.transition(g);j&&(i=Re(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),d(l)),k&&(i=Re(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),e(l)),c(l)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function f(){function f(){32==hg.event.keyCode&&(D||(t=null,F[0]-=l[1],F[1]-=m[1],D=2),y())}function p(){32==hg.event.keyCode&&2==D&&(F[0]+=l[1],F[1]+=m[1],D=0,y())}function q(){var a=hg.mouse(v),b=!1;u&&(a[0]+=u[0],a[1]+=u[1]),D||(hg.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),B&&r(a,j,0)&&(d(z),b=!0),C&&r(a,k,1)&&(e(z),b=!0),b&&(c(z),x({type:"brush",mode:D?"move":"resize"}))}function r(a,b,c){var d,e,f=Re(b),i=f[0],j=f[1],k=F[c],p=c?m:l,q=p[1]-p[0];return D&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],D?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),d>k?(e=d,d=k):e=k),p[0]!=d||p[1]!=e?(c?h=null:g=null,p[0]=d,p[1]=e,!0):void 0}function s(){q(),z.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),hg.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=hg.select(hg.event.target),x=i.of(v,arguments),z=hg.select(v),A=w.datum(),B=!/^(n|s)$/.test(A)&&j,C=!/^(e|w)$/.test(A)&&k,D=w.classed("extent"),E=X(v),F=hg.mouse(v),G=hg.select(b(v)).on("keydown.brush",f).on("keyup.brush",p);if(hg.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),z.interrupt().selectAll("*").interrupt(),D)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(A){var H=+/w$/.test(A),I=+/^n/.test(A);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else hg.event.altKey&&(t=F.slice());z.style("pointer-events","none").selectAll(".resize").style("display",null),hg.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var g,h,i=A(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=Vi[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:g,j:h},c=this.__chart__||b;this.__chart__=b,Ni?hg.select(this).transition().each("start.brush",function(){g=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=td(l,b.x),d=td(m,b.y);return g=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=Vi[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=Vi[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,f,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),g=[c,d],j.invert&&(c=j(c),d=j(d)),c>d&&(i=c,c=d,d=i),(c!=l[0]||d!=l[1])&&(l=[c,d])),k&&(e=b[0],f=b[1],j&&(e=e[1],f=f[1]),h=[e,f],k.invert&&(e=k(e),f=k(f)),e>f&&(i=e,e=f,f=i),(e!=m[0]||f!=m[1])&&(m=[e,f])),a):(j&&(g?(c=g[0],d=g[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),c>d&&(i=c,c=d,d=i))),k&&(h?(e=h[0],f=h[1]):(e=m[0],f=m[1],k.invert&&(e=k.invert(e),f=k.invert(f)),e>f&&(i=e,e=f,f=i))),j&&k?[[c,e],[d,f]]:j?[c,d]:k&&[e,f])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],g=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},hg.rebind(a,i,"on")};var Ui={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wi=nh.format=th.timeFormat,Xi=Wi.utc,Yi=Xi("%Y-%m-%dT%H:%M:%S.%LZ");Wi.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?cg:Yi,cg.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},cg.toString=Yi.toString,nh.second=Oa(function(a){return new oh(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),nh.seconds=nh.second.range,nh.seconds.utc=nh.second.utc.range,nh.minute=Oa(function(a){return new oh(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),nh.minutes=nh.minute.range,nh.minutes.utc=nh.minute.utc.range,nh.hour=Oa(function(a){var b=a.getTimezoneOffset()/60;return new oh(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),nh.hours=nh.hour.range,nh.hours.utc=nh.hour.utc.range,nh.month=Oa(function(a){return a=nh.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),nh.months=nh.month.range,nh.months.utc=nh.month.utc.range;var Zi=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],$i=[[nh.second,1],[nh.second,5],[nh.second,15],[nh.second,30],[nh.minute,1],[nh.minute,5],[nh.minute,15],[nh.minute,30],[nh.hour,1],[nh.hour,3],[nh.hour,6],[nh.hour,12],[nh.day,1],[nh.day,2],[nh.week,1],[nh.month,1],[nh.month,3],[nh.year,1]],_i=Wi.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Db]]),aj={range:function(a,b,c){return hg.range(Math.ceil(a/c)*c,+b,c).map(eg)},floor:s,ceil:s};$i.year=nh.year,nh.scale=function(){return dg(hg.scale.linear(),$i,_i)};var bj=$i.map(function(a){return[a[0].utc,a[1]]}),cj=Xi.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Db]]);bj.year=nh.year.utc,nh.scale.utc=function(){return dg(hg.scale.linear(),bj,cj)},hg.text=Ba(function(a){return a.responseText}),hg.json=function(a,b){return Ca(a,"application/json",fg,b)},hg.html=function(a,b){return Ca(a,"text/html",gg,b)},hg.xml=Ba(function(a){return a.responseXML}),"function"==typeof define&&define.amd?(this.d3=hg,define(hg)):"object"==typeof module&&module.exports?module.exports=hg:this.d3=hg}(),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.dagre=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports={graphlib:a("./lib/graphlib"),layout:a("./lib/layout"),debug:a("./lib/debug"),util:{time:a("./lib/util").time,notime:a("./lib/util").notime},version:a("./lib/version")}},{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(a,b,c){"use strict";function d(a){function b(a){return function(b){return a.edge(b).weight}}var c="greedy"===a.graph().acyclicer?h(a,b(a)):e(a);g.each(c,function(b){var c=a.edge(b);a.removeEdge(b),c.forwardName=b.name,c.reversed=!0,a.setEdge(b.w,b.v,c,g.uniqueId("rev"))})}function e(a){function b(f){g.has(e,f)||(e[f]=!0,d[f]=!0,g.each(a.outEdges(f),function(a){g.has(d,a.w)?c.push(a):b(a.w)}),delete d[f])}var c=[],d={},e={};return g.each(a.nodes(),b),c}function f(a){g.each(a.edges(),function(b){var c=a.edge(b);if(c.reversed){a.removeEdge(b);var d=c.forwardName;delete c.reversed,delete c.forwardName,a.setEdge(b.w,b.v,c,d)}})}var g=a("./lodash"),h=a("./greedy-fas");b.exports={run:d,undo:f}},{"./greedy-fas":8,"./lodash":10}],3:[function(a,b,c){function d(a){function b(c){var d=a.children(c),g=a.node(c);if(d.length&&f.each(d,b),f.has(g,"minRank")){g.borderLeft=[],g.borderRight=[];for(var h=g.minRank,i=g.maxRank+1;i>h;++h)e(a,"borderLeft","_bl",c,g,h),e(a,"borderRight","_br",c,g,h)}}f.each(a.children(),b)}function e(a,b,c,d,e,f){var h={width:0,height:0,rank:f,borderType:b},i=e[b][f-1],j=g.addDummyNode(a,"border",h,c);e[b][f]=j,a.setParent(j,d),i&&a.setEdge(i,j,{weight:1})}var f=a("./lodash"),g=a("./util");b.exports=d},{"./lodash":10,"./util":29}],4:[function(a,b,c){"use strict";function d(a){var b=a.graph().rankdir.toLowerCase();("lr"===b||"rl"===b)&&f(a)}function e(a){var b=a.graph().rankdir.toLowerCase();("bt"===b||"rl"===b)&&h(a),("lr"===b||"rl"===b)&&(j(a),f(a))}function f(a){l.each(a.nodes(),function(b){g(a.node(b))}),l.each(a.edges(),function(b){g(a.edge(b))})}function g(a){var b=a.width;a.width=a.height,a.height=b}function h(a){l.each(a.nodes(),function(b){i(a.node(b))}),l.each(a.edges(),function(b){var c=a.edge(b);l.each(c.points,i),l.has(c,"y")&&i(c)})}function i(a){a.y=-a.y}function j(a){l.each(a.nodes(),function(b){k(a.node(b))}),l.each(a.edges(),function(b){var c=a.edge(b);l.each(c.points,k),l.has(c,"x")&&k(c)})}function k(a){var b=a.x;a.x=a.y,a.y=b}var l=a("./lodash");b.exports={adjust:d,undo:e}},{"./lodash":10}],5:[function(a,b,c){function d(){var a={};a._next=a._prev=a,this._sentinel=a}function e(a){a._prev._next=a._next,a._next._prev=a._prev,delete a._next,delete a._prev}function f(a,b){return"_next"!==a&&"_prev"!==a?b:void 0}b.exports=d,d.prototype.dequeue=function(){var a=this._sentinel,b=a._prev;return b!==a?(e(b),b):void 0},d.prototype.enqueue=function(a){var b=this._sentinel;a._prev&&a._next&&e(a),a._next=b._next,b._next._prev=a,b._next=a,a._prev=b},d.prototype.toString=function(){for(var a=[],b=this._sentinel,c=b._prev;c!==b;)a.push(JSON.stringify(c,f)),c=c._prev;return"["+a.join(", ")+"]"}},{}],6:[function(a,b,c){function d(a){var b=f.buildLayerMatrix(a),c=new g({compound:!0,multigraph:!0}).setGraph({});return e.each(a.nodes(),function(b){c.setNode(b,{label:b}),c.setParent(b,"layer"+a.node(b).rank)}),e.each(a.edges(),function(a){c.setEdge(a.v,a.w,{},a.name)}),e.each(b,function(a,b){var d="layer"+b;c.setNode(d,{rank:"same"}),e.reduce(a,function(a,b){return c.setEdge(a,b,{style:"invis"}),b})}),c}var e=a("./lodash"),f=a("./util"),g=a("./graphlib").Graph;b.exports={debugOrdering:d}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(a,b,c){var d;if("function"==typeof a)try{d=a("graphlib")}catch(e){}d||(d=window.graphlib),b.exports=d},{graphlib:void 0}],8:[function(a,b,c){function d(a,b){if(a.nodeCount()<=1)return[];var c=g(a,b||l),d=e(c.graph,c.buckets,c.zeroIdx);return i.flatten(i.map(d,function(b){return a.outEdges(b.v,b.w)}),!0)}function e(a,b,c){for(var d,e=[],g=b[b.length-1],h=b[0];a.nodeCount();){for(;d=h.dequeue();)f(a,b,c,d);for(;d=g.dequeue();)f(a,b,c,d);if(a.nodeCount())for(var i=b.length-2;i>0;--i)if(d=b[i].dequeue()){e=e.concat(f(a,b,c,d,!0));break}}return e}function f(a,b,c,d,e){var f=e?[]:void 0;return i.each(a.inEdges(d.v),function(d){var g=a.edge(d),i=a.node(d.v);e&&f.push({v:d.v,w:d.w}),i.out-=g,h(b,c,i)}),i.each(a.outEdges(d.v),function(d){var e=a.edge(d),f=d.w,g=a.node(f);g["in"]-=e,h(b,c,g)}),a.removeNode(d.v),f}function g(a,b){var c=new j,d=0,e=0;i.each(a.nodes(),function(a){c.setNode(a,{v:a,"in":0,out:0})}),i.each(a.edges(),function(a){var f=c.edge(a.v,a.w)||0,g=b(a),h=f+g;c.setEdge(a.v,a.w,h),e=Math.max(e,c.node(a.v).out+=g),d=Math.max(d,c.node(a.w)["in"]+=g)});var f=i.range(e+d+3).map(function(){return new k}),g=d+1;return i.each(c.nodes(),function(a){h(f,g,c.node(a))}),{graph:c,buckets:f,zeroIdx:g}}function h(a,b,c){c.out?c["in"]?a[c.out-c["in"]+b].enqueue(c):a[a.length-1].enqueue(c):a[0].enqueue(c)}var i=a("./lodash"),j=a("./graphlib").Graph,k=a("./data/list");b.exports=d;var l=i.constant(1)},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(a,b,c){"use strict";function d(a,b){var c=b&&b.debugTiming?H.time:H.notime;c("layout",function(){var b=c("  buildLayoutGraph",function(){return g(a)});c("  runLayout",function(){e(b,c)}),c("  updateInputGraph",function(){f(a,b)})})}function e(a,b){b("    makeSpaceForEdgeLabels",function(){h(a)}),b("    removeSelfEdges",function(){q(a)}),b("    acyclic",function(){w.run(a)}),b("    nestingGraph.run",function(){C.run(a)}),b("    rank",function(){y(H.asNonCompoundGraph(a))}),b("    injectEdgeLabelProxies",function(){i(a)}),b("    removeEmptyRanks",function(){B(a)}),b("    nestingGraph.cleanup",function(){C.cleanup(a)}),b("    normalizeRanks",function(){z(a)}),b("    assignRankMinMax",function(){j(a)}),b("    removeEdgeLabelProxies",function(){k(a)}),b("    normalize.run",function(){x.run(a)}),b("    parentDummyChains",function(){A(a)}),b("    addBorderSegments",function(){D(a)}),b("    order",function(){F(a)}),b("    insertSelfEdges",function(){r(a)}),b("    adjustCoordinateSystem",function(){E.adjust(a)}),b("    position",function(){G(a)}),b("    positionSelfEdges",function(){s(a)}),b("    removeBorderNodes",function(){p(a)}),b("    normalize.undo",function(){x.undo(a)}),b("    fixupEdgeLabelCoords",function(){n(a)}),b("    undoCoordinateSystem",function(){E.undo(a)}),b("    translateGraph",function(){l(a)}),b("    assignNodeIntersects",function(){m(a)}),b("    reversePoints",function(){o(a)}),b("    acyclic.undo",function(){w.undo(a)})}function f(a,b){v.each(a.nodes(),function(c){var d=a.node(c),e=b.node(c);d&&(d.x=e.x,d.y=e.y,b.children(c).length&&(d.width=e.width,d.height=e.height))}),v.each(a.edges(),function(c){var d=a.edge(c),e=b.edge(c);d.points=e.points,v.has(e,"x")&&(d.x=e.x,d.y=e.y)}),a.graph().width=b.graph().width,a.graph().height=b.graph().height}function g(a){var b=new I({multigraph:!0,compound:!0}),c=u(a.graph());return b.setGraph(v.merge({},K,t(c,J),v.pick(c,L))),v.each(a.nodes(),function(c){var d=u(a.node(c));b.setNode(c,v.defaults(t(d,M),N)),b.setParent(c,a.parent(c))}),v.each(a.edges(),function(c){var d=u(a.edge(c));b.setEdge(c,v.merge({},P,t(d,O),v.pick(d,Q)))}),b}function h(a){var b=a.graph();b.ranksep/=2,v.each(a.edges(),function(c){var d=a.edge(c);d.minlen*=2,"c"!==d.labelpos.toLowerCase()&&("TB"===b.rankdir||"BT"===b.rankdir?d.width+=d.labeloffset:d.height+=d.labeloffset)})}function i(a){v.each(a.edges(),function(b){var c=a.edge(b);if(c.width&&c.height){var d=a.node(b.v),e=a.node(b.w),f={rank:(e.rank-d.rank)/2+d.rank,e:b};H.addDummyNode(a,"edge-proxy",f,"_ep")}})}function j(a){var b=0;v.each(a.nodes(),function(c){var d=a.node(c);d.borderTop&&(d.minRank=a.node(d.borderTop).rank,d.maxRank=a.node(d.borderBottom).rank,b=v.max(b,d.maxRank))}),a.graph().maxRank=b}function k(a){v.each(a.nodes(),function(b){var c=a.node(b);"edge-proxy"===c.dummy&&(a.edge(c.e).labelRank=c.rank,a.removeNode(b))})}function l(a){function b(a){var b=a.x,g=a.y,h=a.width,i=a.height;c=Math.min(c,b-h/2),d=Math.max(d,b+h/2),e=Math.min(e,g-i/2),f=Math.max(f,g+i/2)}var c=Number.POSITIVE_INFINITY,d=0,e=Number.POSITIVE_INFINITY,f=0,g=a.graph(),h=g.marginx||0,i=g.marginy||0;v.each(a.nodes(),function(c){b(a.node(c))}),v.each(a.edges(),function(c){var d=a.edge(c);v.has(d,"x")&&b(d)}),c-=h,e-=i,v.each(a.nodes(),function(b){var d=a.node(b);d.x-=c,d.y-=e}),v.each(a.edges(),function(b){var d=a.edge(b);v.each(d.points,function(a){a.x-=c,a.y-=e}),v.has(d,"x")&&(d.x-=c),v.has(d,"y")&&(d.y-=e)}),g.width=d-c+h,g.height=f-e+i}function m(a){v.each(a.edges(),function(b){var c,d,e=a.edge(b),f=a.node(b.v),g=a.node(b.w);e.points?(c=e.points[0],d=e.points[e.points.length-1]):(e.points=[],c=g,d=f),e.points.unshift(H.intersectRect(f,c)),e.points.push(H.intersectRect(g,d))})}function n(a){v.each(a.edges(),function(b){var c=a.edge(b);if(v.has(c,"x"))switch(("l"===c.labelpos||"r"===c.labelpos)&&(c.width-=c.labeloffset),c.labelpos){case"l":c.x-=c.width/2+c.labeloffset;break;case"r":c.x+=c.width/2+c.labeloffset}})}function o(a){v.each(a.edges(),function(b){var c=a.edge(b);c.reversed&&c.points.reverse()})}function p(a){v.each(a.nodes(),function(b){if(a.children(b).length){var c=a.node(b),d=a.node(c.borderTop),e=a.node(c.borderBottom),f=a.node(v.last(c.borderLeft)),g=a.node(v.last(c.borderRight));c.width=Math.abs(g.x-f.x),c.height=Math.abs(e.y-d.y),c.x=f.x+c.width/2,c.y=d.y+c.height/2}}),v.each(a.nodes(),function(b){"border"===a.node(b).dummy&&a.removeNode(b)})}function q(a){v.each(a.edges(),function(b){if(b.v===b.w){var c=a.node(b.v);c.selfEdges||(c.selfEdges=[]),c.selfEdges.push({e:b,label:a.edge(b)}),a.removeEdge(b)}})}function r(a){var b=H.buildLayerMatrix(a);v.each(b,function(b){var c=0;v.each(b,function(b,d){var e=a.node(b);e.order=d+c,v.each(e.selfEdges,function(b){H.addDummyNode(a,"selfedge",{width:b.label.width,height:b.label.height,rank:e.rank,order:d+ ++c,e:b.e,label:b.label},"_se")}),delete e.selfEdges})})}function s(a){v.each(a.nodes(),function(b){var c=a.node(b);if("selfedge"===c.dummy){var d=a.node(c.e.v),e=d.x+d.width/2,f=d.y,g=c.x-e,h=d.height/2;a.setEdge(c.e,c.label),a.removeNode(b),c.label.points=[{x:e+2*g/3,y:f-h},{x:e+5*g/6,y:f-h},{x:e+g,y:f},{x:e+5*g/6,y:f+h},{x:e+2*g/3,y:f+h}],c.label.x=c.x,c.label.y=c.y}})}function t(a,b){return v.mapValues(v.pick(a,b),Number)}function u(a){var b={};return v.each(a,function(a,c){b[c.toLowerCase()]=a}),b}var v=a("./lodash"),w=a("./acyclic"),x=a("./normalize"),y=a("./rank"),z=a("./util").normalizeRanks,A=a("./parent-dummy-chains"),B=a("./util").removeEmptyRanks,C=a("./nesting-graph"),D=a("./add-border-segments"),E=a("./coordinate-system"),F=a("./order"),G=a("./position"),H=a("./util"),I=a("./graphlib").Graph;b.exports=d;var J=["nodesep","edgesep","ranksep","marginx","marginy"],K={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},L=["acyclicer","ranker","rankdir","align"],M=["width","height"],N={width:0,height:0},O=["minlen","weight","width","height","labeloffset"],P={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Q=["labelpos"]},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(a,b,c){var d;if("function"==typeof a)try{d=a("lodash")}catch(e){}d||(d=window._),b.exports=d},{lodash:void 0}],11:[function(a,b,c){function d(a){var b=j.addDummyNode(a,"root",{},"_root"),c=f(a),d=i.max(c)-1,h=2*d+1;a.graph().nestingRoot=b,i.each(a.edges(),function(b){a.edge(b).minlen*=h});var k=g(a)+1;i.each(a.children(),function(f){e(a,b,h,k,d,c,f)}),a.graph().nodeRankFactor=h}function e(a,b,c,d,f,g,h){var k=a.children(h);if(!k.length)return void(h!==b&&a.setEdge(b,h,{weight:0,minlen:c}));var l=j.addBorderNode(a,"_bt"),m=j.addBorderNode(a,"_bb"),n=a.node(h);a.setParent(l,h),n.borderTop=l,a.setParent(m,h),n.borderBottom=m,i.each(k,function(i){e(a,b,c,d,f,g,i);var j=a.node(i),k=j.borderTop?j.borderTop:i,n=j.borderBottom?j.borderBottom:i,o=j.borderTop?d:2*d,p=k!==n?1:f-g[h]+1;a.setEdge(l,k,{weight:o,minlen:p,nestingEdge:!0}),a.setEdge(n,m,{weight:o,minlen:p,nestingEdge:!0})}),a.parent(h)||a.setEdge(b,l,{weight:0,minlen:f+g[h]})}function f(a){function b(d,e){var f=a.children(d);f&&f.length&&i.each(f,function(a){b(a,e+1)}),c[d]=e}var c={};return i.each(a.children(),function(a){b(a,1)}),c}function g(a){return i.reduce(a.edges(),function(b,c){return b+a.edge(c).weight},0)}function h(a){var b=a.graph();a.removeNode(b.nestingRoot),delete b.nestingRoot,i.each(a.edges(),function(b){var c=a.edge(b);c.nestingEdge&&a.removeEdge(b)})}var i=a("./lodash"),j=a("./util");b.exports={run:d,cleanup:h}},{"./lodash":10,"./util":29}],12:[function(a,b,c){"use strict";function d(a){a.graph().dummyChains=[],g.each(a.edges(),function(b){e(a,b)})}function e(a,b){var c=b.v,d=a.node(c).rank,e=b.w,f=a.node(e).rank,g=b.name,i=a.edge(b),j=i.labelRank;if(f!==d+1){a.removeEdge(b);var k,l,m;for(m=0,++d;f>d;++m,++d)i.points=[],l={width:0,height:0,edgeLabel:i,edgeObj:b,rank:d},k=h.addDummyNode(a,"edge",l,"_d"),d===j&&(l.width=i.width,l.height=i.height,l.dummy="edge-label",l.labelpos=i.labelpos),a.setEdge(c,k,{weight:i.weight},g),0===m&&a.graph().dummyChains.push(k),c=k;a.setEdge(c,e,{weight:i.weight},g)}}function f(a){g.each(a.graph().dummyChains,function(b){var c,d=a.node(b),e=d.edgeLabel;for(a.setEdge(d.edgeObj,e);d.dummy;)c=a.successors(b)[0],a.removeNode(b),e.points.push({x:d.x,y:d.y}),"edge-label"===d.dummy&&(e.x=d.x,e.y=d.y,e.width=d.width,e.height=d.height),b=c,d=a.node(b)})}var g=a("./lodash"),h=a("./util");b.exports={run:d,undo:f}},{"./lodash":10,"./util":29}],13:[function(a,b,c){function d(a,b,c){var d,f={};e.each(c,function(c){for(var e,g,h=a.parent(c);h;){if(e=a.parent(h),e?(g=f[e],f[e]=h):(g=d,d=h),g&&g!==h)return void b.setEdge(g,h);h=e}})}var e=a("../lodash");b.exports=d},{"../lodash":10}],14:[function(a,b,c){function d(a,b){return e.map(b,function(b){var c=a.inEdges(b);if(c.length){var d=e.reduce(c,function(b,c){var d=a.edge(c),e=a.node(c.v);return{sum:b.sum+d.weight*e.order,weight:b.weight+d.weight}},{sum:0,weight:0});return{v:b,barycenter:d.sum/d.weight,weight:d.weight}}return{v:b}})}var e=a("../lodash");b.exports=d},{"../lodash":10}],15:[function(a,b,c){function d(a,b,c){var d=e(a),h=new g({compound:!0}).setGraph({root:d}).setDefaultNodeLabel(function(b){return a.node(b)});return f.each(a.nodes(),function(e){var g=a.node(e),i=a.parent(e);(g.rank===b||g.minRank<=b&&b<=g.maxRank)&&(h.setNode(e),h.setParent(e,i||d),f.each(a[c](e),function(b){var c=b.v===e?b.w:b.v,d=h.edge(c,e),g=f.isUndefined(d)?0:d.weight;h.setEdge(c,e,{weight:a.edge(b).weight+g})}),f.has(g,"minRank")&&h.setNode(e,{borderLeft:g.borderLeft[b],borderRight:g.borderRight[b]}))}),h}function e(a){for(var b;a.hasNode(b=f.uniqueId("_root")););return b}var f=a("../lodash"),g=a("../graphlib").Graph;b.exports=d},{"../graphlib":7,"../lodash":10}],16:[function(a,b,c){"use strict";function d(a,b){for(var c=0,d=1;d<b.length;++d)c+=e(a,b[d-1],b[d]);return c}function e(a,b,c){for(var d=f.zipObject(c,f.map(c,function(a,b){return b})),e=f.flatten(f.map(b,function(b){return f.chain(a.outEdges(b)).map(function(b){return{pos:d[b.w],weight:a.edge(b).weight}}).sortBy("pos").value()}),!0),g=1;g<c.length;)g<<=1;var h=2*g-1;g-=1;var i=f.map(new Array(h),function(){return 0}),j=0;return f.each(e.forEach(function(a){var b=a.pos+g;i[b]+=a.weight;for(var c=0;b>0;)b%2&&(c+=i[b+1]),b=b-1>>1,i[b]+=a.weight;j+=a.weight*c})),j}var f=a("../lodash");b.exports=d},{"../lodash":10}],17:[function(a,b,c){"use strict";function d(a){var b=o.maxRank(a),c=e(a,h.range(1,b+1),"inEdges"),d=e(a,h.range(b-1,-1,-1),"outEdges"),k=i(a);g(a,k);for(var l,m=Number.POSITIVE_INFINITY,n=0,p=0;4>p;++n,++p){f(n%2?c:d,n%4>=2),k=o.buildLayerMatrix(a);var q=j(a,k);m>q&&(p=0,l=h.cloneDeep(k),m=q)}g(a,l)}function e(a,b,c){return h.map(b,function(b){return l(a,b,c)})}function f(a,b){var c=new n;h.each(a,function(a){var d=a.graph().root,e=k(a,d,c,b);h.each(e.vs,function(b,c){a.node(b).order=c}),m(a,c,e.vs)})}function g(a,b){h.each(b,function(b){h.each(b,function(b,c){a.node(b).order=c})})}var h=a("../lodash"),i=a("./init-order"),j=a("./cross-count"),k=a("./sort-subgraph"),l=a("./build-layer-graph"),m=a("./add-subgraph-constraints"),n=a("../graphlib").Graph,o=a("../util");b.exports=d},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,"./init-order":18,"./sort-subgraph":20}],18:[function(a,b,c){"use strict";function d(a){function b(d){if(!e.has(c,d)){c[d]=!0;var f=a.node(d);g[f.rank].push(d),e.each(a.successors(d),b)}}var c={},d=e.filter(a.nodes(),function(b){return!a.children(b).length}),f=e.max(e.map(d,function(b){return a.node(b).rank})),g=e.map(e.range(f+1),function(){return[]}),h=e.sortBy(d,function(b){return a.node(b).rank});return e.each(h,b),g}var e=a("../lodash");b.exports=d},{"../lodash":10}],19:[function(a,b,c){"use strict";function d(a,b){var c={};g.each(a,function(a,b){var d=c[a.v]={indegree:0,"in":[],out:[],vs:[a.v],i:b};g.isUndefined(a.barycenter)||(d.barycenter=a.barycenter,d.weight=a.weight)}),g.each(b.edges(),function(a){var b=c[a.v],d=c[a.w];g.isUndefined(b)||g.isUndefined(d)||(d.indegree++,b.out.push(c[a.w]))});var d=g.filter(c,function(a){return!a.indegree});return e(d)}function e(a){function b(a){return function(b){b.merged||(g.isUndefined(b.barycenter)||g.isUndefined(a.barycenter)||b.barycenter>=a.barycenter)&&f(a,b)}}function c(b){return function(c){c["in"].push(b),0===--c.indegree&&a.push(c)}}for(var d=[];a.length;){var e=a.pop();d.push(e),g.each(e["in"].reverse(),b(e)),g.each(e.out,c(e))}return g.chain(d).filter(function(a){return!a.merged}).map(function(a){return g.pick(a,["vs","i","barycenter","weight"])}).value()}function f(a,b){var c=0,d=0;a.weight&&(c+=a.barycenter*a.weight,d+=a.weight),b.weight&&(c+=b.barycenter*b.weight,d+=b.weight),a.vs=b.vs.concat(a.vs),a.barycenter=c/d,a.weight=d,a.i=Math.min(b.i,a.i),b.merged=!0}var g=a("../lodash");b.exports=d},{"../lodash":10}],20:[function(a,b,c){function d(a,b,c,k){var l=a.children(b),m=a.node(b),n=m?m.borderLeft:void 0,o=m?m.borderRight:void 0,p={};n&&(l=g.filter(l,function(a){return a!==n&&a!==o}));var q=h(a,l);g.each(q,function(b){if(a.children(b.v).length){var e=d(a,b.v,c,k);p[b.v]=e,g.has(e,"barycenter")&&f(b,e)}});var r=i(q,c);e(r,p);var s=j(r,k);if(n&&(s.vs=g.flatten([n,s.vs,o],!0),a.predecessors(n).length)){var t=a.node(a.predecessors(n)[0]),u=a.node(a.predecessors(o)[0]);g.has(s,"barycenter")||(s.barycenter=0,s.weight=0),s.barycenter=(s.barycenter*s.weight+t.order+u.order)/(s.weight+2),s.weight+=2}return s}function e(a,b){g.each(a,function(a){a.vs=g.flatten(a.vs.map(function(a){return b[a]?b[a].vs:a}),!0)})}function f(a,b){g.isUndefined(a.barycenter)?(a.barycenter=b.barycenter,a.weight=b.weight):(a.barycenter=(a.barycenter*a.weight+b.barycenter*b.weight)/(a.weight+b.weight),a.weight+=b.weight)}var g=a("../lodash"),h=a("./barycenter"),i=a("./resolve-conflicts"),j=a("./sort");b.exports=d},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],21:[function(a,b,c){function d(a,b){var c=h.partition(a,function(a){return g.has(a,"barycenter")}),d=c.lhs,i=g.sortBy(c.rhs,function(a){return-a.i}),j=[],k=0,l=0,m=0;d.sort(f(!!b)),m=e(j,i,m),g.each(d,function(a){m+=a.vs.length,j.push(a.vs),k+=a.barycenter*a.weight,l+=a.weight,m=e(j,i,m)});var n={vs:g.flatten(j,!0)};return l&&(n.barycenter=k/l,n.weight=l),n}function e(a,b,c){for(var d;b.length&&(d=g.last(b)).i<=c;)b.pop(),a.push(d.vs),c++;return c}function f(a){return function(b,c){return b.barycenter<c.barycenter?-1:b.barycenter>c.barycenter?1:a?c.i-b.i:b.i-c.i}}var g=a("../lodash"),h=a("../util");b.exports=d},{"../lodash":10,"../util":29}],22:[function(a,b,c){function d(a){var b=f(a);g.each(a.graph().dummyChains,function(c){for(var d=a.node(c),f=d.edgeObj,g=e(a,b,f.v,f.w),h=g.path,i=g.lca,j=0,k=h[j],l=!0;c!==f.w;){if(d=a.node(c),l){for(;(k=h[j])!==i&&a.node(k).maxRank<d.rank;)j++;k===i&&(l=!1)}if(!l){for(;j<h.length-1&&a.node(k=h[j+1]).minRank<=d.rank;)j++;k=h[j]}a.setParent(c,k),c=a.successors(c)[0]}})}function e(a,b,c,d){var e,f,g=[],h=[],i=Math.min(b[c].low,b[d].low),j=Math.max(b[c].lim,b[d].lim);e=c;do e=a.parent(e),g.push(e);while(e&&(b[e].low>i||j>b[e].lim));for(f=e,e=d;(e=a.parent(e))!==f;)h.push(e);return{path:g.concat(h.reverse()),lca:f}}function f(a){function b(e){var f=d;g.each(a.children(e),b),c[e]={low:f,lim:d++}}var c={},d=0;return g.each(a.children(),b),c}var g=a("./lodash");b.exports=d},{"./lodash":10}],23:[function(a,b,c){"use strict";function d(a,b){function c(b,c){var e=0,h=0,i=b.length,j=r.last(c);return r.each(c,function(b,k){var l=f(a,b),m=l?a.node(l).order:i;(l||b===j)&&(r.each(c.slice(h,k+1),function(b){r.each(a.predecessors(b),function(c){var f=a.node(c),h=f.order;!(e>h||h>m)||f.dummy&&a.node(b).dummy||g(d,c,b)})}),h=k+1,e=m)}),c}var d={};return r.reduce(b,c),d}function e(a,b){function c(b,c,d,f,h){var i;r.each(r.range(c,d),function(c){i=b[c],a.node(i).dummy&&r.each(a.predecessors(i),function(b){var c=a.node(b);c.dummy&&(c.order<f||c.order>h)&&g(e,b,i)})})}function d(b,d){var e,f=-1,g=0;return r.each(d,function(h,i){if("border"===a.node(h).dummy){var j=a.predecessors(h);j.length&&(e=a.node(j[0]).order,c(d,g,i,f,e),g=i,f=e)}c(d,g,d.length,e,b.length)}),d}var e={};return r.reduce(b,d),e}function f(a,b){return a.node(b).dummy?r.find(a.predecessors(b),function(b){return a.node(b).dummy}):void 0}function g(a,b,c){if(b>c){var d=b;b=c,c=d}var e=a[b];e||(a[b]=e={}),e[c]=!0}function h(a,b,c){if(b>c){var d=b;b=c,c=d}return r.has(a[b],c)}function i(a,b,c,d){var e={},f={},g={};return r.each(b,function(a){r.each(a,function(a,b){e[a]=a,f[a]=a,g[a]=b})}),r.each(b,function(a){var b=-1;r.each(a,function(a){var i=d(a);if(i.length){i=r.sortBy(i,function(a){return g[a]});for(var j=(i.length-1)/2,k=Math.floor(j),l=Math.ceil(j);l>=k;++k){var m=i[k];f[a]===a&&b<g[m]&&!h(c,a,m)&&(f[m]=a,f[a]=e[a]=e[m],b=g[m])}}})}),{root:e,align:f}}function j(a,b,c,d,e){function f(a){r.has(j,a)||(j[a]=!0,h[a]=r.reduce(i.inEdges(a),function(a,b){return f(b.v),Math.max(a,h[b.v]+i.edge(b))},0))}function g(b){if(2!==j[b]){j[b]++;var c=a.node(b),d=r.reduce(i.outEdges(b),function(a,b){return g(b.w),Math.min(a,h[b.w]-i.edge(b))},Number.POSITIVE_INFINITY);d!==Number.POSITIVE_INFINITY&&c.borderType!==l&&(h[b]=Math.max(h[b],d))}}var h={},i=k(a,b,c,e),j={};r.each(i.nodes(),f);var l=e?"borderLeft":"borderRight";return r.each(i.nodes(),g),r.each(d,function(a){h[a]=h[c[a]]}),h}function k(a,b,c,d){
var e=new s,f=a.graph(),g=p(f.nodesep,f.edgesep,d);return r.each(b,function(b){var d;r.each(b,function(b){var f=c[b];if(e.setNode(f),d){var h=c[d],i=e.edge(h,f);e.setEdge(h,f,Math.max(g(a,b,d),i||0))}d=b})}),e}function l(a,b){return r.min(b,function(b){var c=r.min(b,function(b,c){return b-q(a,c)/2}),d=r.max(b,function(b,c){return b+q(a,c)/2});return d-c})}function m(a,b){var c=r.min(b),d=r.max(b);r.each(["u","d"],function(e){r.each(["l","r"],function(f){var g,h=e+f,i=a[h];i!==b&&(g="l"===f?c-r.min(i):d-r.max(i),g&&(a[h]=r.mapValues(i,function(a){return a+g})))})})}function n(a,b){return r.mapValues(a.ul,function(c,d){if(b)return a[b.toLowerCase()][d];var e=r.sortBy(r.pluck(a,d));return(e[1]+e[2])/2})}function o(a){var b,c=t.buildLayerMatrix(a),f=r.merge(d(a,c),e(a,c)),g={};r.each(["u","d"],function(d){b="u"===d?c:r.values(c).reverse(),r.each(["l","r"],function(c){"r"===c&&(b=r.map(b,function(a){return r.values(a).reverse()}));var e=r.bind("u"===d?a.predecessors:a.successors,a),h=i(a,b,f,e),k=j(a,b,h.root,h.align,"r"===c);"r"===c&&(k=r.mapValues(k,function(a){return-a})),g[d+c]=k})});var h=l(a,g);return m(g,h),n(g,a.graph().align)}function p(a,b,c){return function(d,e,f){var g,h=d.node(e),i=d.node(f),j=0;if(j+=h.width/2,r.has(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":g=-h.width/2;break;case"r":g=h.width/2}if(g&&(j+=c?g:-g),g=0,j+=(h.dummy?b:a)/2,j+=(i.dummy?b:a)/2,j+=i.width/2,r.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":g=i.width/2;break;case"r":g=-i.width/2}return g&&(j+=c?g:-g),g=0,j}}function q(a,b){return a.node(b).width}var r=a("../lodash"),s=a("../graphlib").Graph,t=a("../util");b.exports={positionX:o,findType1Conflicts:d,findType2Conflicts:e,addConflict:g,hasConflict:h,verticalAlignment:i,horizontalCompaction:j,alignCoordinates:m,findSmallestWidthAlignment:l,balance:n}},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(a,b,c){"use strict";function d(a){a=g.asNonCompoundGraph(a),e(a),f.each(h(a),function(b,c){a.node(c).x=b})}function e(a){var b=g.buildLayerMatrix(a),c=a.graph().ranksep,d=0;f.each(b,function(b){var e=f.max(f.map(b,function(b){return a.node(b).height}));f.each(b,function(b){a.node(b).y=d+e/2}),d+=e+c})}var f=a("../lodash"),g=a("../util"),h=a("./bk").positionX;b.exports=d},{"../lodash":10,"../util":29,"./bk":23}],25:[function(a,b,c){"use strict";function d(a){var b=new i({directed:!1}),c=a.nodes()[0],d=a.nodeCount();b.setNode(c,{});for(var h,k;e(b,a)<d;)h=f(b,a),k=b.hasNode(h.v)?j(a,h):-j(a,h),g(b,a,k);return b}function e(a,b){function c(d){h.each(b.nodeEdges(d),function(e){var f=e.v,g=d===f?e.w:f;a.hasNode(g)||j(b,e)||(a.setNode(g,{}),a.setEdge(d,g,{}),c(g))})}return h.each(a.nodes(),c),a.nodeCount()}function f(a,b){return h.min(b.edges(),function(c){return a.hasNode(c.v)!==a.hasNode(c.w)?j(b,c):void 0})}function g(a,b,c){h.each(a.nodes(),function(a){b.node(a).rank+=c})}var h=a("../lodash"),i=a("../graphlib").Graph,j=a("./util").slack;b.exports=d},{"../graphlib":7,"../lodash":10,"./util":28}],26:[function(a,b,c){"use strict";function d(a){switch(a.graph().ranker){case"network-simplex":f(a);break;case"tight-tree":e(a);break;case"longest-path":k(a);break;default:f(a)}}function e(a){h(a),i(a)}function f(a){j(a)}var g=a("./util"),h=g.longestPath,i=a("./feasible-tree"),j=a("./network-simplex");b.exports=d;var k=h},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(a,b,c){"use strict";function d(a){a=v(a),s(a);var b=q(a);h(b),e(b,a);for(var c,d;c=j(b);)d=k(b,a,c),l(b,a,c,d)}function e(a,b){var c=u(a,a.nodes());c=c.slice(0,c.length-1),p.each(c,function(c){f(a,b,c)})}function f(a,b,c){var d=a.node(c),e=d.parent;a.edge(c,e).cutvalue=g(a,b,c)}function g(a,b,c){var d=a.node(c),e=d.parent,f=!0,g=b.edge(c,e),h=0;return g||(f=!1,g=b.edge(e,c)),h=g.weight,p.each(b.nodeEdges(c),function(d){var g=d.v===c,i=g?d.w:d.v;if(i!==e){var j=g===f,k=b.edge(d).weight;if(h+=j?k:-k,n(a,c,i)){var l=a.edge(c,i).cutvalue;h+=j?-l:l}}}),h}function h(a,b){arguments.length<2&&(b=a.nodes()[0]),i(a,{},1,b)}function i(a,b,c,d,e){var f=c,g=a.node(d);return b[d]=!0,p.each(a.neighbors(d),function(e){p.has(b,e)||(c=i(a,b,c,e,d))}),g.low=f,g.lim=c++,e?g.parent=e:delete g.parent,c}function j(a){return p.find(a.edges(),function(b){return a.edge(b).cutvalue<0})}function k(a,b,c){var d=c.v,e=c.w;b.hasEdge(d,e)||(d=c.w,e=c.v);var f=a.node(d),g=a.node(e),h=f,i=!1;f.lim>g.lim&&(h=g,i=!0);var j=p.filter(b.edges(),function(b){return i===o(a,a.node(b.v),h)&&i!==o(a,a.node(b.w),h)});return p.min(j,function(a){return r(b,a)})}function l(a,b,c,d){var f=c.v,g=c.w;a.removeEdge(f,g),a.setEdge(d.v,d.w,{}),h(a),e(a,b),m(a,b)}function m(a,b){var c=p.find(a.nodes(),function(a){return!b.node(a).parent}),d=t(a,c);d=d.slice(1),p.each(d,function(c){var d=a.node(c).parent,e=b.edge(c,d),f=!1;e||(e=b.edge(d,c),f=!0),b.node(c).rank=b.node(d).rank+(f?e.minlen:-e.minlen)})}function n(a,b,c){return a.hasEdge(b,c)}function o(a,b,c){return c.low<=b.lim&&b.lim<=c.lim}var p=a("../lodash"),q=a("./feasible-tree"),r=a("./util").slack,s=a("./util").longestPath,t=a("../graphlib").alg.preorder,u=a("../graphlib").alg.postorder,v=a("../util").simplify;b.exports=d,d.initLowLimValues=h,d.initCutValues=e,d.calcCutValue=g,d.leaveEdge=j,d.enterEdge=k,d.exchangeEdges=l},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(a,b,c){"use strict";function d(a){function b(d){var e=a.node(d);if(f.has(c,d))return e.rank;c[d]=!0;var g=f.min(f.map(a.outEdges(d),function(c){return b(c.w)-a.edge(c).minlen}));return g===Number.POSITIVE_INFINITY&&(g=0),e.rank=g}var c={};f.each(a.sources(),b)}function e(a,b){return a.node(b.w).rank-a.node(b.v).rank-a.edge(b).minlen}var f=a("../lodash");b.exports={longestPath:d,slack:e}},{"../lodash":10}],29:[function(a,b,c){"use strict";function d(a,b,c,d){var e;do e=r.uniqueId(d);while(a.hasNode(e));return c.dummy=b,a.setNode(e,c),e}function e(a){var b=(new s).setGraph(a.graph());return r.each(a.nodes(),function(c){b.setNode(c,a.node(c))}),r.each(a.edges(),function(c){var d=b.edge(c.v,c.w)||{weight:0,minlen:1},e=a.edge(c);b.setEdge(c.v,c.w,{weight:d.weight+e.weight,minlen:Math.max(d.minlen,e.minlen)})}),b}function f(a){var b=new s({multigraph:a.isMultigraph()}).setGraph(a.graph());return r.each(a.nodes(),function(c){a.children(c).length||b.setNode(c,a.node(c))}),r.each(a.edges(),function(c){b.setEdge(c,a.edge(c))}),b}function g(a){var b=r.map(a.nodes(),function(b){var c={};return r.each(a.outEdges(b),function(b){c[b.w]=(c[b.w]||0)+a.edge(b).weight}),c});return r.zipObject(a.nodes(),b)}function h(a){var b=r.map(a.nodes(),function(b){var c={};return r.each(a.inEdges(b),function(b){c[b.v]=(c[b.v]||0)+a.edge(b).weight}),c});return r.zipObject(a.nodes(),b)}function i(a,b){var c=a.x,d=a.y,e=b.x-c,f=b.y-d,g=a.width/2,h=a.height/2;if(!e&&!f)throw new Error("Not possible to find intersection inside of the rectangle");var i,j;return Math.abs(f)*g>Math.abs(e)*h?(0>f&&(h=-h),i=h*e/f,j=h):(0>e&&(g=-g),i=g,j=g*f/e),{x:c+i,y:d+j}}function j(a){var b=r.map(r.range(n(a)+1),function(){return[]});return r.each(a.nodes(),function(c){var d=a.node(c),e=d.rank;r.isUndefined(e)||(b[e][d.order]=c)}),b}function k(a){var b=r.min(r.map(a.nodes(),function(b){return a.node(b).rank}));r.each(a.nodes(),function(c){var d=a.node(c);r.has(d,"rank")&&(d.rank-=b)})}function l(a){var b=r.min(r.map(a.nodes(),function(b){return a.node(b).rank})),c=[];r.each(a.nodes(),function(d){var e=a.node(d).rank-b;c[e]||(c[e]=[]),c[e].push(d)});var d=0,e=a.graph().nodeRankFactor;r.each(c,function(b,c){r.isUndefined(b)&&c%e!==0?--d:d&&r.each(b,function(b){a.node(b).rank+=d})})}function m(a,b,c,e){var f={width:0,height:0};return arguments.length>=4&&(f.rank=c,f.order=e),d(a,"border",f,b)}function n(a){return r.max(r.map(a.nodes(),function(b){var c=a.node(b).rank;return r.isUndefined(c)?void 0:c}))}function o(a,b){var c={lhs:[],rhs:[]};return r.each(a,function(a){b(a)?c.lhs.push(a):c.rhs.push(a)}),c}function p(a,b){var c=r.now();try{return b()}finally{console.log(a+" time: "+(r.now()-c)+"ms")}}function q(a,b){return b()}var r=a("./lodash"),s=a("./graphlib").Graph;b.exports={addDummyNode:d,simplify:e,asNonCompoundGraph:f,successorWeights:g,predecessorWeights:h,intersectRect:i,buildLayerMatrix:j,normalizeRanks:k,removeEmptyRanks:l,addBorderNode:m,maxRank:n,partition:o,time:p,notime:q}},{"./graphlib":7,"./lodash":10}],30:[function(a,b,c){b.exports="0.7.4"},{}]},{},[1])(1)}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.dagreD3=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports={graphlib:a("./lib/graphlib"),dagre:a("./lib/dagre"),intersect:a("./lib/intersect"),render:a("./lib/render"),util:a("./lib/util"),version:a("./lib/version")}},{"./lib/dagre":8,"./lib/graphlib":9,"./lib/intersect":10,"./lib/render":25,"./lib/util":27,"./lib/version":28}],2:[function(a,b,c){function d(a,b,c,d){var e=a.append("marker").attr("id",b).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),f=e.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");g.applyStyle(f,c[d+"Style"]),c[d+"Class"]&&f.attr("class",c[d+"Class"])}function e(a,b,c,d){var e=a.append("marker").attr("id",b).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),f=e.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");g.applyStyle(f,c[d+"Style"]),c[d+"Class"]&&f.attr("class",c[d+"Class"])}function f(a,b,c,d){var e=a.append("marker").attr("id",b).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),f=e.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");g.applyStyle(f,c[d+"Style"]),c[d+"Class"]&&f.attr("class",c[d+"Class"])}var g=a("./util");b.exports={"default":d,normal:d,vee:e,undirected:f}},{"./util":27}],3:[function(a,b,c){function d(a,b){var c=b.nodes().filter(function(a){return e.isSubgraph(b,a)}),d=a.selectAll("g.cluster").data(c,function(a){return a});return d.selectAll("*").remove(),d.enter().append("g").attr("class","cluster").attr("id",function(a){var c=b.node(a);return c.id}).style("opacity",0),e.applyTransition(d,b).style("opacity",1),d.each(function(a){var c=b.node(a),d=d3.select(this);d3.select(this).append("rect");var e=d.append("g").attr("class","label");f(e,c,c.clusterLabelPos)}),d.selectAll("rect").each(function(a){var c=b.node(a),d=d3.select(this);e.applyStyle(d,c.style)}),e.applyTransition(d.exit(),b).style("opacity",0).remove(),d}var e=a("./util"),f=a("./label/add-label");b.exports=d},{"./label/add-label":18,"./util":27}],4:[function(a,b,c){"use strict";function d(a,b){var c=a.selectAll("g.edgeLabel").data(b.edges(),function(a){return g.edgeToId(a)}).classed("update",!0);return c.selectAll("*").remove(),c.enter().append("g").classed("edgeLabel",!0).style("opacity",0),c.each(function(a){var c=b.edge(a),d=f(h.select(this),b.edge(a),0,0).classed("label",!0),g=d.node().getBBox();c.labelId&&d.attr("id",c.labelId),e.has(c,"width")||(c.width=g.width),e.has(c,"height")||(c.height=g.height)}),g.applyTransition(c.exit(),b).style("opacity",0).remove(),c}var e=a("./lodash"),f=a("./label/add-label"),g=a("./util"),h=a("./d3");b.exports=d},{"./d3":7,"./label/add-label":18,"./lodash":21,"./util":27}],5:[function(a,b,c){"use strict";function d(a,b,c){var d=a.selectAll("g.edgePath").data(b.edges(),function(a){return m.edgeToId(a)}).classed("update",!0);return i(d,b),j(d,b),m.applyTransition(d,b).style("opacity",1),d.each(function(a){var c=n.select(this),d=b.edge(a);d.elem=this,d.id&&c.attr("id",d.id),m.applyClass(c,d["class"],(c.classed("update")?"update ":"")+"edgePath")}),d.selectAll("path.path").each(function(a){var c=b.edge(a);c.arrowheadId=k.uniqueId("arrowhead");var d=n.select(this).attr("marker-end",function(){return"url("+e(location.href,c.arrowheadId)+")"}).style("fill","none");m.applyTransition(d,b).attr("d",function(a){return f(b,a)}),m.applyStyle(d,c.style)}),d.selectAll("defs *").remove(),d.selectAll("defs").each(function(a){var d=b.edge(a),e=c[d.arrowhead];e(n.select(this),d.arrowheadId,d,"arrowhead")}),d}function e(a,b){var c=a.split("#")[0];return c+"#"+b}function f(a,b){var c=a.edge(b),d=a.node(b.v),e=a.node(b.w),f=c.points.slice(1,c.points.length-1);return f.unshift(l(d,f[0])),f.push(l(e,f[f.length-1])),g(c,f)}function g(a,b){var c=n.svg.line().x(function(a){return a.x}).y(function(a){return a.y});return k.has(a,"lineInterpolate")&&c.interpolate(a.lineInterpolate),k.has(a,"lineTension")&&c.tension(Number(a.lineTension)),c(b)}function h(a){var b=a.getBBox(),c=a.ownerSVGElement.getScreenCTM().inverse().multiply(a.getScreenCTM()).translate(b.width/2,b.height/2);return{x:c.e,y:c.f}}function i(a,b){var c=a.enter().append("g").attr("class","edgePath").style("opacity",0);c.append("path").attr("class","path").attr("d",function(a){var c=b.edge(a),d=b.node(a.v).elem,e=k.range(c.points.length).map(function(){return h(d)});return g(c,e)}),c.append("defs")}function j(a,b){var c=a.exit();m.applyTransition(c,b).style("opacity",0).remove(),m.applyTransition(c.select("path.path"),b).attr("d",function(a){var c=b.node(a.v);if(c){var d=k.range(this.getTotalLength()).map(function(){return c});return g({},d)}return n.select(this).attr("d")})}var k=a("./lodash"),l=a("./intersect/intersect-node"),m=a("./util"),n=a("./d3");b.exports=d},{"./d3":7,"./intersect/intersect-node":14,"./lodash":21,"./util":27}],6:[function(a,b,c){"use strict";function d(a,b,c){var d=b.nodes().filter(function(a){return!g.isSubgraph(b,a)}),i=a.selectAll("g.node").data(d,function(a){return a}).classed("update",!0);return i.selectAll("*").remove(),i.enter().append("g").attr("class","node").style("opacity",0),i.each(function(a){var d=b.node(a),i=h.select(this),j=i.append("g").attr("class","label"),k=f(j,d),l=c[d.shape],m=e.pick(k.node().getBBox(),"width","height");d.elem=this,d.id&&i.attr("id",d.id),d.labelId&&j.attr("id",d.labelId),g.applyClass(i,d["class"],(i.classed("update")?"update ":"")+"node"),e.has(d,"width")&&(m.width=d.width),e.has(d,"height")&&(m.height=d.height),m.width+=d.paddingLeft+d.paddingRight,m.height+=d.paddingTop+d.paddingBottom,j.attr("transform","translate("+(d.paddingLeft-d.paddingRight)/2+","+(d.paddingTop-d.paddingBottom)/2+")");var n=l(h.select(this),m,d);g.applyStyle(n,d.style);var o=n.node().getBBox();d.width=o.width,d.height=o.height}),g.applyTransition(i.exit(),b).style("opacity",0).remove(),i}var e=a("./lodash"),f=a("./label/add-label"),g=a("./util"),h=a("./d3");b.exports=d},{"./d3":7,"./label/add-label":18,"./lodash":21,"./util":27}],7:[function(a,b,c){b.exports=window.d3},{}],8:[function(a,b,c){var d;if(a)try{d=a("dagre")}catch(e){}d||(d=window.dagre),b.exports=d},{dagre:void 0}],9:[function(a,b,c){var d;if(a)try{d=a("graphlib")}catch(e){}d||(d=window.graphlib),b.exports=d},{graphlib:void 0}],10:[function(a,b,c){b.exports={node:a("./intersect-node"),circle:a("./intersect-circle"),ellipse:a("./intersect-ellipse"),polygon:a("./intersect-polygon"),rect:a("./intersect-rect")}},{"./intersect-circle":11,"./intersect-ellipse":12,"./intersect-node":14,"./intersect-polygon":15,"./intersect-rect":16}],11:[function(a,b,c){function d(a,b,c){return e(a,b,b,c)}var e=a("./intersect-ellipse");b.exports=d},{"./intersect-ellipse":12}],12:[function(a,b,c){function d(a,b,c,d){var e=a.x,f=a.y,g=e-d.x,h=f-d.y,i=Math.sqrt(b*b*h*h+c*c*g*g),j=Math.abs(b*c*g/i);d.x<e&&(j=-j);var k=Math.abs(b*c*h/i);return d.y<f&&(k=-k),{x:e+j,y:f+k}}b.exports=d},{}],13:[function(a,b,c){function d(a,b,c,d){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return f=b.y-a.y,h=a.x-b.x,j=b.x*a.y-a.x*b.y,n=f*c.x+h*c.y+j,o=f*d.x+h*d.y+j,0!==n&&0!==o&&e(n,o)||(g=d.y-c.y,i=c.x-d.x,k=d.x*c.y-c.x*d.y,l=g*a.x+i*a.y+k,m=g*b.x+i*b.y+k,0!==l&&0!==m&&e(l,m)||(p=f*i-g*h,0===p))?void 0:(q=Math.abs(p/2),r=h*k-i*j,s=0>r?(r-q)/p:(r+q)/p,r=g*j-f*k,t=0>r?(r-q)/p:(r+q)/p,{x:s,y:t})}function e(a,b){return a*b>0}b.exports=d},{}],14:[function(a,b,c){function d(a,b){return a.intersect(b)}b.exports=d},{}],15:[function(a,b,c){function d(a,b,c){var d=a.x,f=a.y,g=[],h=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY;b.forEach(function(a){h=Math.min(h,a.x),i=Math.min(i,a.y)});for(var j=d-a.width/2-h,k=f-a.height/2-i,l=0;l<b.length;l++){var m=b[l],n=b[l<b.length-1?l+1:0],o=e(a,c,{x:j+m.x,y:k+m.y},{x:j+n.x,y:k+n.y});o&&g.push(o)}return g.length?(g.length>1&&g.sort(function(a,b){var d=a.x-c.x,e=a.y-c.y,f=Math.sqrt(d*d+e*e),g=b.x-c.x,h=b.y-c.y,i=Math.sqrt(g*g+h*h);return i>f?-1:f===i?0:1}),g[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",a),a)}var e=a("./intersect-line");b.exports=d},{"./intersect-line":13}],16:[function(a,b,c){function d(a,b){var c,d,e=a.x,f=a.y,g=b.x-e,h=b.y-f,i=a.width/2,j=a.height/2;return Math.abs(h)*i>Math.abs(g)*j?(0>h&&(j=-j),c=0===h?0:j*g/h,d=j):(0>g&&(i=-i),c=i,d=0===g?0:i*h/g),{x:e+c,y:f+d}}b.exports=d},{}],17:[function(a,b,c){function d(a,b){var c=a.append("foreignObject").attr("width","100000"),d=c.append("xhtml:div");d.attr("xmlns","http://www.w3.org/1999/xhtml");var f=b.label;switch(typeof f){case"function":d.insert(f);break;case"object":d.insert(function(){return f});break;default:d.html(f)}e.applyStyle(d,b.labelStyle),d.style("display","inline-block"),d.style("white-space","nowrap");var g=d[0][0].getBoundingClientRect();return c.attr("width",g.width).attr("height",g.height),c}var e=a("../util");b.exports=d},{"../util":27}],18:[function(a,b,c){function d(a,b,c){var d=b.label,h=a.append("g");"svg"===b.labelType?g(h,b):"string"!=typeof d||"html"===b.labelType?f(h,b):e(h,b);var i,j=h.node().getBBox();switch(c){case"top":i=-b.height/2;break;case"bottom":i=b.height/2-j.height;break;default:i=-j.height/2}return h.attr("transform","translate("+-j.width/2+","+i+")"),h}var e=a("./add-text-label"),f=a("./add-html-label"),g=a("./add-svg-label");b.exports=d},{"./add-html-label":17,"./add-svg-label":19,"./add-text-label":20}],19:[function(a,b,c){function d(a,b){var c=a;return c.node().appendChild(b.label),e.applyStyle(c,b.labelStyle),c}var e=a("../util");b.exports=d},{"../util":27}],20:[function(a,b,c){function d(a,b){for(var c=a.append("text"),d=e(b.label).split("\n"),g=0;g<d.length;g++)c.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(d[g]);return f.applyStyle(c,b.labelStyle),c}function e(a){for(var b,c="",d=!1,e=0;e<a.length;++e)if(b=a[e],d){switch(b){case"n":c+="\n";break;default:c+=b}d=!1}else"\\"===b?d=!0:c+=b;return c}var f=a("../util");b.exports=d},{"../util":27}],21:[function(a,b,c){var d;if(a)try{d=a("lodash")}catch(e){}d||(d=window._),b.exports=d},{lodash:void 0}],22:[function(a,b,c){"use strict";function d(a,b){function c(a){var c=b.node(a);return"translate("+c.x+","+c.y+")"}var d=a.filter(function(){return!f.select(this).classed("update")});d.attr("transform",c),e.applyTransition(a,b).style("opacity",1).attr("transform",c),e.applyTransition(d.selectAll("rect"),b).attr("width",function(a){return b.node(a).width}).attr("height",function(a){return b.node(a).height}).attr("x",function(a){var c=b.node(a);return-c.width/2}).attr("y",function(a){var c=b.node(a);return-c.height/2})}var e=a("./util"),f=a("./d3");b.exports=d},{"./d3":7,"./util":27}],23:[function(a,b,c){"use strict";function d(a,b){function c(a){var c=b.edge(a);return g.has(c,"x")?"translate("+c.x+","+c.y+")":""}var d=a.filter(function(){return!f.select(this).classed("update")});d.attr("transform",c),e.applyTransition(a,b).style("opacity",1).attr("transform",c)}var e=a("./util"),f=a("./d3"),g=a("./lodash");b.exports=d},{"./d3":7,"./lodash":21,"./util":27}],24:[function(a,b,c){"use strict";function d(a,b){function c(a){var c=b.node(a);return"translate("+c.x+","+c.y+")"}var d=a.filter(function(){return!f.select(this).classed("update")});d.attr("transform",c),e.applyTransition(a,b).style("opacity",1).attr("transform",c)}var e=a("./util"),f=a("./d3");b.exports=d},{"./d3":7,"./util":27}],25:[function(a,b,c){function d(){var b=a("./create-nodes"),c=a("./create-clusters"),d=a("./create-edge-labels"),h=a("./create-edge-paths"),j=a("./position-nodes"),k=a("./position-edge-labels"),l=a("./position-clusters"),m=a("./shapes"),n=a("./arrows"),o=function(a,o){e(o);var p=g(a,"output"),q=g(p,"clusters"),r=g(p,"edgePaths"),s=d(g(p,"edgeLabels"),o),t=b(g(p,"nodes"),o,m);i(o),j(t,o),k(s,o),h(r,o,n);var u=c(q,o);l(u,o),f(o)};return o.createNodes=function(a){return arguments.length?(b=a,o):b},o.createClusters=function(a){return arguments.length?(c=a,o):c},o.createEdgeLabels=function(a){return arguments.length?(d=a,o):d},o.createEdgePaths=function(a){return arguments.length?(h=a,o):h},o.shapes=function(a){return arguments.length?(m=a,o):m},o.arrows=function(a){return arguments.length?(n=a,o):n},o}function e(a){a.nodes().forEach(function(b){var c=a.node(b);h.has(c,"label")||a.children(b).length||(c.label=b),h.has(c,"paddingX")&&h.defaults(c,{paddingLeft:c.paddingX,paddingRight:c.paddingX}),h.has(c,"paddingY")&&h.defaults(c,{paddingTop:c.paddingY,paddingBottom:c.paddingY}),h.has(c,"padding")&&h.defaults(c,{paddingLeft:c.padding,paddingRight:c.padding,paddingTop:c.padding,paddingBottom:c.padding}),h.defaults(c,j),h.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(a){c[a]=Number(c[a])}),h.has(c,"width")&&(c._prevWidth=c.width),h.has(c,"height")&&(c._prevHeight=c.height)}),a.edges().forEach(function(b){var c=a.edge(b);h.has(c,"label")||(c.label=""),h.defaults(c,k)})}function f(a){h.each(a.nodes(),function(b){var c=a.node(b);h.has(c,"_prevWidth")?c.width=c._prevWidth:delete c.width,h.has(c,"_prevHeight")?c.height=c._prevHeight:delete c.height,delete c._prevWidth,delete c._prevHeight})}function g(a,b){var c=a.select("g."+b);return c.empty()&&(c=a.append("g").attr("class",b)),c}var h=a("./lodash"),i=a("./dagre").layout;b.exports=d;var j={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},k={arrowhead:"normal",lineInterpolate:"linear"}},{"./arrows":2,"./create-clusters":3,"./create-edge-labels":4,"./create-edge-paths":5,"./create-nodes":6,"./dagre":8,"./lodash":21,"./position-clusters":22,"./position-edge-labels":23,"./position-nodes":24,"./shapes":26}],26:[function(a,b,c){"use strict";function d(a,b,c){var d=a.insert("rect",":first-child").attr("rx",c.rx).attr("ry",c.ry).attr("x",-b.width/2).attr("y",-b.height/2).attr("width",b.width).attr("height",b.height);return c.intersect=function(a){return h(c,a)},d}function e(a,b,c){var d=b.width/2,e=b.height/2,f=a.insert("ellipse",":first-child").attr("x",-b.width/2).attr("y",-b.height/2).attr("rx",d).attr("ry",e);return c.intersect=function(a){return i(c,d,e,a)},f}function f(a,b,c){var d=Math.max(b.width,b.height)/2,e=a.insert("circle",":first-child").attr("x",-b.width/2).attr("y",-b.height/2).attr("r",d);return c.intersect=function(a){return j(c,d,a)},e}function g(a,b,c){var d=b.width*Math.SQRT2/2,e=b.height*Math.SQRT2/2,f=[{x:0,y:-e},{x:-d,y:0},{x:0,y:e},{x:d,y:0}],g=a.insert("polygon",":first-child").attr("points",f.map(function(a){return a.x+","+a.y}).join(" "));return c.intersect=function(a){return k(c,f,a)},g}var h=a("./intersect/intersect-rect"),i=a("./intersect/intersect-ellipse"),j=a("./intersect/intersect-circle"),k=a("./intersect/intersect-polygon");b.exports={rect:d,ellipse:e,circle:f,diamond:g}},{"./intersect/intersect-circle":11,"./intersect/intersect-ellipse":12,"./intersect/intersect-polygon":15,"./intersect/intersect-rect":16}],27:[function(a,b,c){function d(a,b){return!!a.children(b).length}function e(a){return f(a.v)+":"+f(a.w)+":"+f(a.name)}function f(a){return a?String(a).replace(k,"\\:"):""}function g(a,b){b&&a.attr("style",b)}function h(a,b,c){b&&a.attr("class",b).attr("class",c+" "+a.attr("class"))}function i(a,b){var c=b.graph();if(j.isPlainObject(c)){var d=c.transition;if(j.isFunction(d))return d(a)}return a}var j=a("./lodash");b.exports={isSubgraph:d,edgeToId:e,applyStyle:g,applyClass:h,applyTransition:i};var k=/:/g},{"./lodash":21}],28:[function(a,b,c){b.exports="0.4.17"},{}]},{},[1])(1)}),function(){var a={};a.dev=!1,a.tooltip=a.tooltip||{},a.utils=a.utils||{},a.models=a.models||{},a.charts={},a.logs={},a.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),a.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),a.dev&&(a.dispatch.on("render_start",function(b){a.logs.startTime=+new Date}),a.dispatch.on("render_end",function(b){a.logs.endTime=+new Date,a.logs.totalTime=a.logs.endTime-a.logs.startTime,a.log("total",a.logs.totalTime)})),a.log=function(){if(a.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(a.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var b=Function.prototype.bind.call(console.log,console);b.apply(console,arguments)}return arguments[arguments.length-1]},a.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")},a.render=function(b){b=b||1,a.render.active=!0,a.dispatch.render_start();var c=function(){for(var d,e,f=0;b>f&&(e=a.render.queue[f]);f++)d=e.generate(),typeof e.callback==typeof Function&&e.callback(d);a.render.queue.splice(0,f),a.render.queue.length?setTimeout(c):(a.dispatch.render_end(),a.render.active=!1)};setTimeout(c)},a.render.active=!1,a.render.queue=[],a.addGraph=function(b){typeof arguments[0]==typeof Function&&(b={generate:arguments[0],callback:arguments[1]}),a.render.queue.push(b),a.render.active||a.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=a),"undefined"!=typeof window&&(window.nv=a),a.dom.write=function(a){return void 0!==window.fastdom?fastdom.mutate(a):a()},a.dom.read=function(a){return void 0!==window.fastdom?fastdom.measure(a):a()},a.interactiveGuideline=function(){"use strict";function b(l){l.each(function(l){function m(){var a=d3.mouse(this),d=a[0],e=a[1],h=!0,i=!1;if(k&&(d=d3.event.offsetX,e=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(h=!1),d3.event.target.className.baseVal.match("nv-legend")&&(i=!0)),h&&(d-=c.left,e-=c.top),"mouseout"===d3.event.type||0>d||0>e||d>o||e>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||i){if(k&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(j.nvPointerEventsClass)))return;return g.elementMouseout({mouseX:d,mouseY:e}),b.renderGuideLine(null),void j.hidden(!0)}j.hidden(!1);var l="function"==typeof f.rangeBands,m=void 0;if(l){var n=d3.bisect(f.range(),d)-1;if(!(f.range()[n]+f.rangeBand()>=d))return g.elementMouseout({mouseX:d,mouseY:e}),b.renderGuideLine(null),void j.hidden(!0);m=f.domain()[d3.bisect(f.range(),d)-1]}else m=f.invert(d);g.elementMousemove({mouseX:d,mouseY:e,pointXValue:m}),"dblclick"===d3.event.type&&g.elementDblclick({mouseX:d,mouseY:e,pointXValue:m}),"click"===d3.event.type&&g.elementClick({mouseX:d,mouseY:e,pointXValue:m}),"mousedown"===d3.event.type&&g.elementMouseDown({mouseX:d,mouseY:e,pointXValue:m}),"mouseup"===d3.event.type&&g.elementMouseUp({mouseX:d,mouseY:e,pointXValue:m})}var n=d3.select(this),o=d||960,p=e||400,q=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([l]),r=q.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");r.append("g").attr("class","nv-interactiveGuideLine"),i&&(i.on("touchmove",m).on("mousemove",m,!0).on("mouseout",m,!0).on("mousedown",m,!0).on("mouseup",m,!0).on("dblclick",m).on("click",m),b.guideLine=null,b.renderGuideLine=function(c){h&&(b.guideLine&&b.guideLine.attr("x1")===c||a.dom.write(function(){var b=q.select(".nv-interactiveGuideLine").selectAll("line").data(null!=c?[a.utils.NaNtoZero(c)]:[],String);b.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",p).attr("y2",0),b.exit().remove()}))})})}var c={left:0,top:0},d=null,e=null,f=d3.scale.linear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),h=!0,i=null,j=a.models.tooltip(),k=window.ActiveXObject;return j.duration(0).hideDelay(0).hidden(!1),b.dispatch=g,b.tooltip=j,b.margin=function(a){return arguments.length?(c.top="undefined"!=typeof a.top?a.top:c.top,c.left="undefined"!=typeof a.left?a.left:c.left,b):c},b.width=function(a){return arguments.length?(d=a,b):d},b.height=function(a){return arguments.length?(e=a,b):e},b.xScale=function(a){return arguments.length?(f=a,b):f},b.showGuideLine=function(a){return arguments.length?(h=a,b):h},b.svgContainer=function(a){return arguments.length?(i=a,b):i},b},a.interactiveBisect=function(a,b,c){"use strict";if(!(a instanceof Array))return null;var d;d="function"!=typeof c?function(a){return a.x}:c;var e=function(a,b){return d(a)-b},f=d3.bisector(e).left,g=d3.max([0,f(a,b)-1]),h=d(a[g]);if("undefined"==typeof h&&(h=g),h===b)return g;var i=d3.min([g+1,a.length-1]),j=d(a[i]);return"undefined"==typeof j&&(j=i),Math.abs(j-b)>=Math.abs(h-b)?g:i},a.nearestValueIndex=function(a,b,c){"use strict";var d=1/0,e=null;return a.forEach(function(a,f){var g=Math.abs(b-a);null!=a&&d>=g&&c>g&&(d=g,e=f)}),e},a.models.tooltip=function(){"use strict";function b(){if(!l||!l.node()){var a=[1];l=d3.select(document.body).select("#"+d).data(a),l.enter().append("div").attr("class","nvtooltip "+(i?i:"xy-tooltip")).attr("id",d).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(q,!0).classed(q,!0),l.exit().remove()}}function c(){return n&&w(e)?(a.dom.write(function(){b();var a=u(e);a&&(l.node().innerHTML=a),y()}),c):void 0}var d="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,f="w",g=25,h=0,i=null,j=!0,k=200,l=null,m={left:null,top:null},n=!0,o=100,p=!0,q="nv-pointer-events-none",r=function(a,b){return a},s=function(a){return a},t=function(a,b){return a},u=function(a){if(null===a)return"";var b=d3.select(document.createElement("table"));if(p){var c=b.selectAll("thead").data([a]).enter().append("thead");c.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(s(a.value))}var d=b.selectAll("tbody").data([a]).enter().append("tbody"),e=d.selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});e.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color}),e.append("td").classed("key",!0).classed("total",function(a){return!!a.total}).html(function(a,b){return t(a.key,b)}),e.append("td").classed("value",!0).html(function(a,b){return r(a.value,b)}),e.filter(function(a,b){return void 0!==a.percent}).append("td").classed("percent",!0).html(function(a,b){return"("+d3.format("%")(a.percent)+")";
}),e.selectAll("td").each(function(a){if(a.highlight){var b=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),c=.6;d3.select(this).style("border-bottom-color",b(c)).style("border-top-color",b(c))}});var f=b.node().outerHTML;return void 0!==a.footer&&(f+="<div class='footer'>"+a.footer+"</div>"),f},v=function(){var a={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var b=document.body.getBoundingClientRect();a.left-=b.left,a.top-=b.top}return a},w=function(b){if(b&&b.series){if(a.utils.isArray(b.series))return!0;if(a.utils.isObject(b.series))return b.series=[b.series],!0}return!1},x=function(a){var b,c,d,e=l.node().offsetHeight,h=l.node().offsetWidth,i=document.documentElement.clientWidth,j=document.documentElement.clientHeight;switch(f){case"e":b=-h-g,c=-(e/2),a.left+b<0&&(b=g),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"w":b=g,c=-(e/2),a.left+b+h>i&&(b=-h-g),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"n":b=-(h/2)-5,c=g,a.top+c+e>j&&(c=-e-g),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"s":b=-(h/2),c=-e-g,a.top+c<0&&(c=g),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"center":b=-(h/2),c=-(e/2);break;default:b=0,c=0}return{left:b,top:c}},y=function(){a.dom.read(function(){var a=v(),b=x(a),c=a.left+b.left,d=a.top+b.top;if(j)l.interrupt().transition().delay(k).duration(0).style("opacity",0);else{var e="translate("+m.left+"px, "+m.top+"px)",f="translate("+Math.round(c)+"px, "+Math.round(d)+"px)",g=d3.interpolateString(e,f),h=l.style("opacity")<.1;l.interrupt().transition().duration(h?0:o).styleTween("transform",function(a){return g},"important").styleTween("-webkit-transform",function(a){return g}).style("-ms-transform",f).style("opacity",1)}m.left=c,m.top=d})};return c.nvPointerEventsClass=q,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{duration:{get:function(){return o},set:function(a){o=a}},gravity:{get:function(){return f},set:function(a){f=a}},distance:{get:function(){return g},set:function(a){g=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return i},set:function(a){i=a}},enabled:{get:function(){return n},set:function(a){n=a}},hideDelay:{get:function(){return k},set:function(a){k=a}},contentGenerator:{get:function(){return u},set:function(a){u=a}},valueFormatter:{get:function(){return r},set:function(a){r=a}},headerFormatter:{get:function(){return s},set:function(a){s=a}},keyFormatter:{get:function(){return t},set:function(a){t=a}},headerEnabled:{get:function(){return p},set:function(a){p=a}},position:{get:function(){return v},set:function(a){v=a}},chartContainer:{get:function(){return document.body},set:function(b){a.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(b){a.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(b){a.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return j},set:function(a){j!=a&&(j=!!a,c())}},data:{get:function(){return e},set:function(a){a.point&&(a.value=a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color),e=a}},node:{get:function(){return l.node()},set:function(a){}},id:{get:function(){return d},set:function(a){}}}),a.utils.initOptions(c),c},a.utils.windowSize=function(){var a={width:640,height:480};return window.innerWidth&&window.innerHeight?(a.width=window.innerWidth,a.height=window.innerHeight,a):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a):document.body&&document.body.offsetWidth?(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight,a):a},a.utils.isArray=Array.isArray,a.utils.isObject=function(a){return null!==a&&"object"==typeof a},a.utils.isFunction=function(a){return"function"==typeof a},a.utils.isDate=function(a){return"[object Date]"===toString.call(a)},a.utils.isNumber=function(a){return!isNaN(a)&&"number"==typeof a},a.utils.windowResize=function(b){return window.addEventListener?window.addEventListener("resize",b):a.log("ERROR: Failed to bind to window.resize with: ",b),{callback:b,clear:function(){window.removeEventListener("resize",b)}}},a.utils.getColor=function(b){if(void 0===b)return a.utils.defaultColor();if(a.utils.isArray(b)){var c=d3.scale.ordinal().range(b);return function(a,b){var d=void 0===b?a:b;return a.color||c(d)}}return b},a.utils.defaultColor=function(){return a.utils.getColor(d3.scale.category20().range())},a.utils.customTheme=function(b,c,d){c=c||function(a){return a.key},d=d||d3.scale.category20().range();var e=d.length;return function(f,g){var h=c(f);return a.utils.isFunction(b[h])?b[h]():void 0!==b[h]?b[h]:(e||(e=d.length),e-=1,d[e])}},a.utils.pjax=function(b,c){var d=function(d){d3.html(d,function(d){var e=d3.select(c).node();e.parentNode.replaceChild(d3.select(d).select(c).node(),e),a.utils.pjax(b,c)})};d3.selectAll(b).on("click",function(){history.pushState(this.href,this.textContent,this.href),d(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})},a.utils.calcApproxTextWidth=function(b){if(a.utils.isFunction(b.style)&&a.utils.isFunction(b.text)){var c=parseInt(b.style("font-size").replace("px",""),10),d=b.text().length;return a.utils.NaNtoZero(d*c*.5)}return 0},a.utils.NaNtoZero=function(b){return!a.utils.isNumber(b)||isNaN(b)||null===b||b===1/0||b===-(1/0)?0:b},d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)},a.utils.renderWatch=function(b,c){if(!(this instanceof a.utils.renderWatch))return new a.utils.renderWatch(b,c);var d=void 0!==c?c:250,e=[],f=this;this.models=function(a){return a=[].slice.call(arguments,0),a.forEach(function(a){a.__rendered=!1,function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=!0,f.renderEnd("model")})}(a),e.indexOf(a)<0&&e.push(a)}),this},this.reset=function(a){void 0!==a&&(d=a),e=[]},this.transition=function(a,b,c){if(b=arguments.length>1?[].slice.call(arguments,1):[],c=b.length>1?b.pop():void 0!==d?d:250,a.__rendered=!1,e.indexOf(a)<0&&e.push(a),0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var g=0;return a.transition().duration(c).each(function(){++g}).each("end",function(c,d){0===--g&&(a.__rendered=!0,f.renderEnd.apply(this,b))})},this.renderEnd=function(){e.every(function(a){return a.__rendered})&&(e.forEach(function(a){a.__rendered=!1}),b.renderEnd.apply(this,arguments))}},a.utils.deepExtend=function(b){var c=arguments.length>1?[].slice.call(arguments,1):[];c.forEach(function(c){for(var d in c){var e=a.utils.isArray(b[d]),f=a.utils.isObject(b[d]),g=a.utils.isObject(c[d]);f&&!e&&g?a.utils.deepExtend(b[d],c[d]):b[d]=c[d]}})},a.utils.state=function(){if(!(this instanceof a.utils.state))return new a.utils.state;var b={},c=function(){},d=function(){return{}},e=null,f=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(a){c(a,!0)}),this.getter=function(a){return d=a,this},this.setter=function(a,b){return b||(b=function(){}),c=function(c,d){a(c),d&&b()},this},this.init=function(b){e=e||{},a.utils.deepExtend(e,b)};var g=function(){var a=d();if(JSON.stringify(a)===JSON.stringify(b))return!1;for(var c in a)void 0===b[c]&&(b[c]={}),b[c]=a[c],f=!0;return!0};this.update=function(){e&&(c(e,!1),e=null),g.call(this)&&this.dispatch.change(b)}},a.utils.optionsFunc=function(b){return b&&d3.map(b).forEach(function(b,c){a.utils.isFunction(this[b])&&this[b](c)}.bind(this)),this},a.utils.calcTicksX=function(b,c){var d=1,e=0;for(e;e<c.length;e+=1){var f=c[e]&&c[e].values?c[e].values.length:0;d=f>d?f:d}return a.log("Requested number of ticks: ",b),a.log("Calculated max values to be: ",d),b=b>d?b=d-1:b,b=1>b?1:b,b=Math.floor(b),a.log("Calculating tick count as: ",b),b},a.utils.calcTicksY=function(b,c){return a.utils.calcTicksX(b,c)},a.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){return arguments.length?(a._overrides[b]=!0,a._options[b]=c,a):a._options[b]},a["_"+b]=function(c){return arguments.length?(a._overrides[b]||(a._options[b]=c),a):a._options[b]})},a.utils.initOptions=function(b){b._overrides=b._overrides||{};var c=Object.getOwnPropertyNames(b._options||{}),d=Object.getOwnPropertyNames(b._calls||{});c=c.concat(d);for(var e in c)a.utils.initOption(b,c[e])},a.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]),c.unshift(b),c.unshift(a),d3.rebind.apply(this,c)},a.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})},a.utils.symbolMap=d3.map(),a.utils.symbol=function(){function b(b,e){var f=c.call(this,b,e),g=d.call(this,b,e);return-1!==d3.svg.symbolTypes.indexOf(f)?d3.svg.symbol().type(f).size(g)():a.utils.symbolMap.get(f)(g)}var c,d=64;return b.type=function(a){return arguments.length?(c=d3.functor(a),b):c},b.size=function(a){return arguments.length?(d=d3.functor(a),b):d},b},a.utils.inheritOptions=function(b,c){var d=Object.getOwnPropertyNames(c._options||{}),e=Object.getOwnPropertyNames(c._calls||{}),f=c._inherited||[],g=c._d3options||[],h=d.concat(e).concat(f).concat(g);h.unshift(c),h.unshift(b),d3.rebind.apply(this,h),b._inherited=a.utils.arrayUnique(d.concat(e).concat(f).concat(d).concat(b._inherited||[])),b._d3options=a.utils.arrayUnique(g.concat(b._d3options||[]))},a.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})},a.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400},a.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960},a.utils.availableHeight=function(b,c,d){return Math.max(0,a.utils.sanitizeHeight(b,c)-d.top-d.bottom)},a.utils.availableWidth=function(b,c,d){return Math.max(0,a.utils.sanitizeWidth(b,c)-d.left-d.right)},a.utils.noData=function(b,c){var d=b.options(),e=d.margin(),f=d.noData(),g=null==f?["No Data Available."]:[f],h=a.utils.availableHeight(null,c,e),i=a.utils.availableWidth(null,c,e),j=e.left+i/2,k=e.top+h/2;c.selectAll("g").remove();var l=c.selectAll(".nv-noData").data(g);l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",j).attr("y",k).text(function(a){return a})},a.utils.wrapTicks=function(a,b){a.each(function(){for(var a,c=d3.select(this),d=c.text().split(/\s+/).reverse(),e=[],f=0,g=1.1,h=c.attr("y"),i=parseFloat(c.attr("dy")),j=c.text(null).append("tspan").attr("x",0).attr("y",h).attr("dy",i+"em");a=d.pop();)e.push(a),j.text(e.join(" ")),j.node().getComputedTextLength()>b&&(e.pop(),j.text(e.join(" ")),e=[a],j=c.append("tspan").attr("x",0).attr("y",h).attr("dy",++f*g+i+"em").text(a))})},a.utils.arrayEquals=function(b,c){if(b===c)return!0;if(!b||!c)return!1;if(b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)if(b[d]instanceof Array&&c[d]instanceof Array){if(!a.arrayEquals(b[d],c[d]))return!1}else if(b[d]!=c[d])return!1;return!0},a.models.axis=function(){"use strict";function b(g){return t.reset(),g.each(function(b){var g=d3.select(this);a.utils.initSVG(g);var q=g.selectAll("g.nv-wrap.nv-axis").data([b]),r=q.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),u=(r.append("g"),q.select("g"));null!==n?c.ticks(n):("top"==c.orient()||"bottom"==c.orient())&&c.ticks(Math.abs(d.range()[1]-d.range()[0])/100),u.watchTransition(t,"axis").call(c),s=s||c.scale();var v=c.tickFormat();null==v&&(v=s.tickFormat());var w=u.selectAll("text.nv-axislabel").data([h||null]);w.exit().remove(),void 0!==p&&u.selectAll("g").select("text").style("font-size",p);var x,y,z;switch(c.orient()){case"top":w.enter().append("text").attr("class","nv-axislabel"),z=0,1===d.range().length?z=m?2*d.range()[0]+d.rangeBand():0:2===d.range().length?z=m?d.range()[0]+d.range()[1]+d.rangeBand():d.range()[1]:d.range().length>2&&(z=d.range()[d.range().length-1]+(d.range()[1]-d.range()[0])),w.attr("text-anchor","middle").attr("y",0).attr("x",z/2),i&&(y=q.selectAll("g.nv-axisMaxMin").data(d.domain()),y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),y.exit().remove(),y.attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(d(b))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-c.tickPadding()).attr("text-anchor","middle").text(function(a,b){var c=v(a);return(""+c).match("NaN")?"":c}),y.watchTransition(t,"min-max top").attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(d.range()[c])+",0)"}));break;case"bottom":x=o+36;var A=30,B=0,C=u.selectAll("g").select("text"),D="";if(j%360){C.attr("transform",""),C.each(function(a,b){var c=this.getBoundingClientRect(),d=c.width;B=c.height,d>A&&(A=d)}),D="rotate("+j+" 0,"+(B/2+c.tickPadding())+")";var E=Math.abs(Math.sin(j*Math.PI/180));x=(E?E*A:A)+30,C.attr("transform",D).style("text-anchor",j%360>0?"start":"end")}else l?C.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"}):C.attr("transform","translate(0,0)");w.enter().append("text").attr("class","nv-axislabel"),z=0,1===d.range().length?z=m?2*d.range()[0]+d.rangeBand():0:2===d.range().length?z=m?d.range()[0]+d.range()[1]+d.rangeBand():d.range()[1]:d.range().length>2&&(z=d.range()[d.range().length-1]+(d.range()[1]-d.range()[0])),w.attr("text-anchor","middle").attr("y",x).attr("x",z/2),i&&(y=q.selectAll("g.nv-axisMaxMin").data([d.domain()[0],d.domain()[d.domain().length-1]]),y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),y.exit().remove(),y.attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(d(b)+(m?d.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",c.tickPadding()).attr("transform",D).style("text-anchor",j?j%360>0?"start":"end":"middle").text(function(a,b){var c=v(a);return(""+c).match("NaN")?"":c}),y.watchTransition(t,"min-max bottom").attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(d(b)+(m?d.rangeBand()/2:0))+",0)"}));break;case"right":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",k?"middle":"begin").attr("transform",k?"rotate(90)":"").attr("y",k?-Math.max(e.right,f)+12-(o||0):-10).attr("x",k?d3.max(d.range())/2:c.tickPadding()),i&&(y=q.selectAll("g.nv-axisMaxMin").data(d.domain()),y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),y.exit().remove(),y.attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(d(b))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",c.tickPadding()).style("text-anchor","start").text(function(a,b){var c=v(a);return(""+c).match("NaN")?"":c}),y.watchTransition(t,"min-max right").attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(d.range()[c])+")"}).select("text").style("opacity",1));break;case"left":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",k?"middle":"end").attr("transform",k?"rotate(-90)":"").attr("y",k?-Math.max(e.left,f)+25-(o||0):-10).attr("x",k?-d3.max(d.range())/2:-c.tickPadding()),i&&(y=q.selectAll("g.nv-axisMaxMin").data(d.domain()),y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),y.exit().remove(),y.attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(s(b))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-c.tickPadding()).attr("text-anchor","end").text(function(a,b){var c=v(a);return(""+c).match("NaN")?"":c}),y.watchTransition(t,"min-max right").attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(d.range()[c])+")"}).select("text").style("opacity",1))}if(w.text(function(a){return a}),!i||"left"!==c.orient()&&"right"!==c.orient()||(u.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1),(d(a)<d.range()[1]+10||d(a)>d.range()[0]-10)&&((a>1e-10||-1e-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),d.domain()[0]==d.domain()[1]&&0==d.domain()[0]&&q.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1})),i&&("top"===c.orient()||"bottom"===c.orient())){var F=[];q.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?F.push(d(a)-this.getBoundingClientRect().width-4):F.push(d(a)+this.getBoundingClientRect().width+4)}catch(c){b?F.push(d(a)-4):F.push(d(a)+4)}}),u.selectAll("g").each(function(a,b){(d(a)<F[0]||d(a)>F[1])&&(a>1e-10||-1e-10>a?d3.select(this).remove():d3.select(this).select("text").remove())})}u.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1e5*a)/1e6)&&void 0!==a}).classed("zero",!0),s=d.copy()}),t.renderEnd("axis immediate"),b}var c=d3.svg.axis(),d=d3.scale.linear(),e={top:0,right:0,bottom:0,left:0},f=75,g=60,h=null,i=!0,j=0,k=!0,l=!1,m=!1,n=null,o=0,p=void 0,q=250,r=d3.dispatch("renderEnd");c.scale(d).orient("bottom").tickFormat(function(a){return a});var s,t=a.utils.renderWatch(r,q);return b.axis=c,b.dispatch=r,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{axisLabelDistance:{get:function(){return o},set:function(a){o=a}},staggerLabels:{get:function(){return l},set:function(a){l=a}},rotateLabels:{get:function(){return j},set:function(a){j=a}},rotateYLabel:{get:function(){return k},set:function(a){k=a}},showMaxMin:{get:function(){return i},set:function(a){i=a}},axisLabel:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return g},set:function(a){g=a}},ticks:{get:function(){return n},set:function(a){n=a}},width:{get:function(){return f},set:function(a){f=a}},fontSize:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},duration:{get:function(){return q},set:function(a){q=a,t.reset(q)}},scale:{get:function(){return d},set:function(e){d=e,c.scale(d),m="function"==typeof d.rangeBands,a.utils.inheritOptionsD3(b,d,["domain","range","rangeBand","rangeBands"])}}}),a.utils.initOptions(b),a.utils.inheritOptionsD3(b,c,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),a.utils.inheritOptionsD3(b,d,["domain","range","rangeBand","rangeBands"]),b},a.models.boxPlot=function(){"use strict";function b(l){return E.reset(),l.each(function(b){var l=j-i.left-i.right,F=k-i.top-i.bottom;A=d3.select(this),a.utils.initSVG(A),m.domain(c||b.map(function(a,b){return o(a,b)})).rangeBands(d||[0,l],.1);var G=[];if(!e){var H,I,J=[];b.forEach(function(a,b){var c=p(a),d=r(a),e=s(a),f=t(a),g=v(a);g&&g.forEach(function(a,b){J.push(w(a,b,void 0))}),e&&J.push(e),c&&J.push(c),d&&J.push(d),f&&J.push(f)}),H=d3.min(J),I=d3.max(J),G=[H,I]}n.domain(e||G),n.range(f||[F,0]),g=g||m,h=h||n.copy().range([n(0),n(0)]);var K=A.selectAll("g.nv-wrap").data([b]);K.enter().append("g").attr("class","nvd3 nv-wrap");K.attr("transform","translate("+i.left+","+i.top+")");var L=K.selectAll(".nv-boxplot").data(function(a){return a}),M=L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);L.attr("class","nv-boxplot").attr("transform",function(a,b,c){return"translate("+(m(o(a,b))+.05*m.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover}),L.watchTransition(E,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(a,c){return c*C/b.length}).attr("transform",function(a,b){return"translate("+(m(o(a,b))+.05*m.rangeBand())+", 0)"}),L.exit().remove(),M.each(function(a,b){var c=d3.select(this);[s,t].forEach(function(d){if(void 0!==d(a)&&null!==d(a)){var e=d===s?"low":"high";c.append("line").style("stroke",u(a)||z(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),c.append("line").style("stroke",u(a)||z(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var N=function(){return null===D?.9*m.rangeBand():Math.min(75,.9*m.rangeBand())},O=function(){return.45*m.rangeBand()-N()/2},P=function(){return.45*m.rangeBand()+N()/2};[s,t].forEach(function(a){var b=a===s?"low":"high",c=a===s?p:r;L.select("line.nv-boxplot-whisker.nv-boxplot-"+b).watchTransition(E,"nv-boxplot: boxplots").attr("x1",.45*m.rangeBand()).attr("y1",function(b,c){return n(a(b))}).attr("x2",.45*m.rangeBand()).attr("y2",function(a,b){return n(c(a))}),L.select("line.nv-boxplot-tick.nv-boxplot-"+b).watchTransition(E,"nv-boxplot: boxplots").attr("x1",O).attr("y1",function(b,c){return n(a(b))}).attr("x2",P).attr("y2",function(b,c){return n(a(b))})}),[s,t].forEach(function(a){var b=a===s?"low":"high";M.selectAll(".nv-boxplot-"+b).on("mouseover",function(b,c,d){d3.select(this).classed("hover",!0),B.elementMouseover({series:{key:a(b),color:u(b)||z(b,d)},e:d3.event})}).on("mouseout",function(b,c,d){d3.select(this).classed("hover",!1),B.elementMouseout({series:{key:a(b),color:u(b)||z(b,d)},e:d3.event})}).on("mousemove",function(a,b){B.elementMousemove({e:d3.event})})}),M.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",!0),B.elementMouseover({key:o(a),value:o(a),series:[{key:"Q3",value:r(a),color:u(a)||z(a,b)},{key:"Q2",value:q(a),color:u(a)||z(a,b)},{key:"Q1",value:p(a),color:u(a)||z(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),B.elementMouseout({key:o(a),value:o(a),series:[{key:"Q3",value:r(a),color:u(a)||z(a,b)},{key:"Q2",value:q(a),color:u(a)||z(a,b)},{key:"Q1",value:p(a),color:u(a)||z(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(a,b){B.elementMousemove({e:d3.event})}),L.select("rect.nv-boxplot-box").watchTransition(E,"nv-boxplot: boxes").attr("y",function(a,b){return n(r(a))}).attr("width",N).attr("x",O).attr("height",function(a,b){return Math.abs(n(r(a))-n(p(a)))||1}).style("fill",function(a,b){return u(a)||z(a,b)}).style("stroke",function(a,b){return u(a)||z(a,b)}),M.append("line").attr("class","nv-boxplot-median"),L.select("line.nv-boxplot-median").watchTransition(E,"nv-boxplot: boxplots line").attr("x1",O).attr("y1",function(a,b){return n(q(a))}).attr("x2",P).attr("y2",function(a,b){return n(q(a))});var Q=L.selectAll(".nv-boxplot-outlier").data(function(a){return v(a)||[]});Q.enter().append("circle").style("fill",function(a,b,c){return y(a,b,c)||z(a,c)}).style("stroke",function(a,b,c){return y(a,b,c)||z(a,c)}).style("z-index",9e3).on("mouseover",function(a,b,c){d3.select(this).classed("hover",!0),B.elementMouseover({series:{key:x(a,b,c),color:y(a,b,c)||z(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",!1),B.elementMouseout({series:{key:x(a,b,c),color:y(a,b,c)||z(a,c)},e:d3.event})}).on("mousemove",function(a,b){B.elementMousemove({e:d3.event})}),Q.attr("class","nv-boxplot-outlier"),Q.watchTransition(E,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*m.rangeBand()).attr("cy",function(a,b,c){return n(w(a,b,c))}).attr("r","3"),Q.exit().remove(),g=m.copy(),h=n.copy()}),E.renderEnd("nv-boxplot immediate"),b}var c,d,e,f,g,h,i={top:0,right:0,bottom:0,left:0},j=960,k=500,l=Math.floor(1e4*Math.random()),m=d3.scale.ordinal(),n=d3.scale.linear(),o=function(a){return a.label},p=function(a){return a.values.Q1},q=function(a){return a.values.Q2},r=function(a){return a.values.Q3},s=function(a){return a.values.whisker_low},t=function(a){return a.values.whisker_high},u=function(a){return a.color},v=function(a){return a.values.outliers},w=function(a,b,c){return a},x=function(a,b,c){return a},y=function(a,b,c){return void 0},z=a.utils.defaultColor(),A=null,B=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=250,D=null,E=a.utils.renderWatch(B,C);return b.dispatch=B,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},maxBoxWidth:{get:function(){return D},set:function(a){D=a}},x:{get:function(){return o},set:function(a){o=a}},q1:{get:function(){return p},set:function(a){p=a}},q2:{get:function(){return q},set:function(a){q=a}},q3:{get:function(){return r},set:function(a){r=a}},wl:{get:function(){return s},set:function(a){s=a}},wh:{get:function(){return t},set:function(a){t=a}},itemColor:{get:function(){return u},set:function(a){u=a}},outliers:{get:function(){return v},set:function(a){v=a}},outlierValue:{get:function(){return w},set:function(a){w=a}},outlierLabel:{get:function(){return x},set:function(a){x=a}},outlierColor:{get:function(){return y},set:function(a){y=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return d},set:function(a){d=a}},yRange:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return l},set:function(a){l=a}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(a){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},color:{get:function(){return z},set:function(b){z=a.utils.getColor(b)}},duration:{get:function(){return C},set:function(a){C=a,E.reset(C)}}}),a.utils.initOptions(b),b},a.models.boxPlotChart=function(){"use strict";function b(k){return t.reset(),t.models(e),l&&t.models(f),m&&t.models(g),k.each(function(k){var p=d3.select(this);a.utils.initSVG(p);var t=(i||parseInt(p.style("width"))||960)-h.left-h.right,u=(j||parseInt(p.style("height"))||400)-h.top-h.bottom;if(b.update=function(){r.beforeUpdate(),p.transition().duration(s).call(b)},b.container=this,!k||!k.length){var v=p.selectAll(".nv-noData").data([q]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",h.left+t/2).attr("y",h.top+u/2).text(function(a){return a}),b}p.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale().clamp(!0);var w=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([k]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),y=x.append("defs"),z=w.select("g");x.append("g").attr("class","nv-x nv-axis"),x.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),x.append("g").attr("class","nv-barsWrap"),z.attr("transform","translate("+h.left+","+h.top+")"),n&&z.select(".nv-y.nv-axis").attr("transform","translate("+t+",0)"),e.width(t).height(u);var A=z.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled}));if(A.transition().call(e),y.append("clipPath").attr("id","nv-x-label-clip-"+e.id()).append("rect"),z.select("#nv-x-label-clip-"+e.id()+" rect").attr("width",c.rangeBand()*(o?2:1)).attr("height",16).attr("x",-c.rangeBand()/(o?1:2)),l){f.scale(c).ticks(a.utils.calcTicksX(t/100,k)).tickSize(-u,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),z.select(".nv-x.nv-axis").call(f);var B=z.select(".nv-x.nv-axis").selectAll("g");o&&B.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2===0?"5":"17")+")"})}m&&(g.scale(d).ticks(Math.floor(u/36)).tickSize(-t,0),z.select(".nv-y.nv-axis").call(g)),z.select(".nv-zeroLine line").attr("x1",0).attr("x2",t).attr("y1",d(0)).attr("y2",d(0))}),t.renderEnd("nv-boxplot chart immediate"),b}var c,d,e=a.models.boxPlot(),f=a.models.axis(),g=a.models.axis(),h={top:15,right:10,bottom:50,left:60},i=null,j=null,k=a.utils.getColor(),l=!0,m=!0,n=!1,o=!1,p=a.models.tooltip(),q="No Data Available.",r=d3.dispatch("beforeUpdate","renderEnd"),s=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),g.orient(n?"right":"left").tickFormat(d3.format(",.1f")),p.duration(0);var t=a.utils.renderWatch(r,s);return e.dispatch.on("elementMouseover.tooltip",function(a){p.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){p.data(a).hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){p()}),b.dispatch=r,b.boxplot=e,b.xAxis=f,b.yAxis=g,b.tooltip=p,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},staggerLabels:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return l},set:function(a){l=a}},showYAxis:{get:function(){return m},set:function(a){m=a}},tooltipContent:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return s},set:function(a){s=a,t.reset(s),e.duration(s),f.duration(s),g.duration(s)}},color:{get:function(){return k},set:function(b){k=a.utils.getColor(b),e.color(k)}},rightAlignYAxis:{get:function(){return n},set:function(a){n=a,g.orient(a?"right":"left")}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.bullet=function(){"use strict";function b(a,b){var c=a.slice();a.sort(function(a,d){var e=c.indexOf(a),f=c.indexOf(d);return d3.descending(b[e],b[f])})}function c(e){return e.each(function(c,e){var s=p-d.left-d.right,y=q-d.top-d.bottom;r=d3.select(this),a.utils.initSVG(r);var z=g.call(this,c,e).slice(),A=h.call(this,c,e).slice(),B=i.call(this,c,e).slice(),C=j.call(this,c,e).slice(),D=k.call(this,c,e).slice(),E=l.call(this,c,e).slice(),F=m.call(this,c,e).slice(),G=n.call(this,c,e).slice();b(D,z),b(E,A),b(F,B),b(G,C),z.sort(d3.descending),A.sort(d3.descending),B.sort(d3.descending),C.sort(d3.descending);var H=d3.scale.linear().domain(d3.extent(d3.merge([o,z]))).range(f?[s,0]:[0,s]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(H.range());this.__chart__=H;for(var I=(d3.min(z),d3.max(z),z[1],r.selectAll("g.nv-wrap.nv-bullet").data([c])),J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),K=J.append("g"),L=I.select("g"),e=0,M=z.length;M>e;e++){var N="nv-range nv-range"+e;2>=e&&(N=N+" nv-range"+w[e]),K.append("rect").attr("class",N)}K.append("rect").attr("class","nv-measure"),I.attr("transform","translate("+d.left+","+d.top+")");for(var O=function(a){return Math.abs(H(a)-H(0))},P=function(a){return H(0>a?a:0)},e=0,M=z.length;M>e;e++){var Q=z[e];L.select("rect.nv-range"+e).datum(Q).attr("height",y).transition().duration(x).attr("width",O(Q)).attr("x",P(Q))}L.select("rect.nv-measure").style("fill",t).attr("height",y/3).attr("y",y/3).on("mouseover",function(){u.elementMouseover({value:C[0],label:G[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){u.elementMousemove({value:C[0],label:G[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){u.elementMouseout({value:C[0],label:G[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(x).attr("width",0>C?H(0)-H(C[0]):H(C[0])-H(0)).attr("x",P(C));var R=y/6,S=A.map(function(a,b){return{value:a,label:E[b]}});K.selectAll("path.nv-markerTriangle").data(S).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+R+"L"+R+","+-R+" "+-R+","+-R+"Z").on("mouseover",function(a){u.elementMouseover({value:a.value,label:a.label||"Previous",
color:d3.select(this).style("fill"),pos:[H(a.value),y/2]})}).on("mousemove",function(a){u.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){u.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}),L.selectAll("path.nv-markerTriangle").data(S).transition().duration(x).attr("transform",function(a){return"translate("+H(a.value)+","+y/2+")"});var T=B.map(function(a,b){return{value:a,label:F[b]}});K.selectAll("line.nv-markerLine").data(T).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(a){return H(a.value)}).attr("y1","2").attr("x2",function(a){return H(a.value)}).attr("y2",y-2).on("mouseover",function(a){u.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[H(a.value),y/2]})}).on("mousemove",function(a){u.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){u.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}),L.selectAll("line.nv-markerLine").data(T).transition().duration(x).attr("x1",function(a){return H(a.value)}).attr("x2",function(a){return H(a.value)}),I.selectAll(".nv-range").on("mouseover",function(a,b){var c=D[b]||v[b];u.elementMouseover({value:a,label:c,color:d3.select(this).style("fill")})}).on("mousemove",function(){u.elementMousemove({value:C[0],label:G[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){var c=D[b]||v[b];u.elementMouseout({value:a,label:c,color:d3.select(this).style("fill")})})}),c}var d={top:0,right:0,bottom:0,left:0},e="left",f=!1,g=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[]},i=function(a){return a.markerLines?a.markerLines:[0]},j=function(a){return a.measures},k=function(a){return a.rangeLabels?a.rangeLabels:[]},l=function(a){return a.markerLabels?a.markerLabels:[]},m=function(a){return a.markerLineLabels?a.markerLineLabels:[]},n=function(a){return a.measureLabels?a.measureLabels:[]},o=[0],p=380,q=30,r=null,s=null,t=a.utils.getColor(["#1f77b4"]),u=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),v=["Maximum","Mean","Minimum"],w=["Max","Avg","Min"],x=1e3;return c.dispatch=u,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return j},set:function(a){j=a}},forceX:{get:function(){return o},set:function(a){o=a}},width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},tickFormat:{get:function(){return s},set:function(a){s=a}},duration:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},orient:{get:function(){return e},set:function(a){e=a,f="right"==e||"bottom"==e}},color:{get:function(){return t},set:function(b){t=a.utils.getColor(b)}}}),a.utils.initOptions(c),c},a.models.bulletChart=function(){"use strict";function b(d){return d.each(function(e,o){var p=d3.select(this);a.utils.initSVG(p);var q=a.utils.availableWidth(k,p,g),r=l-g.top-g.bottom;if(b.update=function(){b(d)},b.container=this,!e||!h.call(this,e,o))return a.utils.noData(b,p),b;p.selectAll(".nv-noData").remove();var s=h.call(this,e,o).slice().sort(d3.descending),t=i.call(this,e,o).slice().sort(d3.descending),u=j.call(this,e,o).slice().sort(d3.descending),v=p.selectAll("g.nv-wrap.nv-bulletChart").data([e]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),x=w.append("g"),y=v.select("g");x.append("g").attr("class","nv-bulletWrap"),x.append("g").attr("class","nv-titles"),v.attr("transform","translate("+g.left+","+g.top+")");var z=d3.scale.linear().domain([0,Math.max(s[0],t[0]||0,u[0])]).range(f?[q,0]:[0,q]),A=this.__chart__||d3.scale.linear().domain([0,1/0]).range(z.range());this.__chart__=z;var B=x.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(l-g.top-g.bottom)/2+")");B.append("text").attr("class","nv-title").text(function(a){return a.title}),B.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle}),c.width(q).height(r);var C=y.select(".nv-bulletWrap");d3.transition(C).call(c);var D=m||z.tickFormat(q/100),E=y.selectAll("g.nv-tick").data(z.ticks(n?n:q/50),function(a){return this.textContent||D(a)}),F=E.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+A(a)+",0)"}).style("opacity",1e-6);F.append("line").attr("y1",r).attr("y2",7*r/6),F.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*r/6).text(D);var G=d3.transition(E).transition().duration(c.duration()).attr("transform",function(a){return"translate("+z(a)+",0)"}).style("opacity",1);G.select("line").attr("y1",r).attr("y2",7*r/6),G.select("text").attr("y",7*r/6),d3.transition(E.exit()).transition().duration(c.duration()).attr("transform",function(a){return"translate("+z(a)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),b}var c=a.models.bullet(),d=a.models.tooltip(),e="left",f=!1,g={top:5,right:40,bottom:20,left:120},h=function(a){return a.ranges},i=function(a){return a.markers?a.markers:[]},j=function(a){return a.measures},k=null,l=55,m=null,n=null,o=null,p=d3.dispatch();return d.duration(0).headerEnabled(!1),c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color},d.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){d()}),b.bullet=c,b.dispatch=p,b.tooltip=d,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{ranges:{get:function(){return h},set:function(a){h=a}},markers:{get:function(){return i},set:function(a){i=a}},measures:{get:function(){return j},set:function(a){j=a}},width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},tickFormat:{get:function(){return m},set:function(a){m=a}},ticks:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},orient:{get:function(){return e},set:function(a){e=a,f="right"==e||"bottom"==e}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.candlestickBar=function(){"use strict";function b(x){return x.each(function(b){c=d3.select(this);var x=a.utils.availableWidth(i,c,h),y=a.utils.availableHeight(j,c,h);a.utils.initSVG(c);var A=x/b[0].values.length*.45;l.domain(d||d3.extent(b[0].values.map(n).concat(t))),v?l.range(f||[.5*x/b[0].values.length,x*(b[0].values.length-.5)/b[0].values.length]):l.range(f||[5+A/2,x-A/2-5]),m.domain(e||[d3.min(b[0].values.map(s).concat(u)),d3.max(b[0].values.map(r).concat(u))]).range(g||[y,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var B=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([b[0].values]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),D=C.append("defs"),E=C.append("g"),F=B.select("g");E.append("g").attr("class","nv-ticks"),B.attr("transform","translate("+h.left+","+h.top+")"),c.on("click",function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:k})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+k).append("rect"),B.select("#nv-chart-clip-path-"+k+" rect").attr("width",x).attr("height",y),F.attr("clip-path",w?"url(#nv-chart-clip-path-"+k+")":"");var G=B.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});G.exit().remove();var H=G.enter().append("g");G.attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});H.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+l(n(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return m(r(a,b))}).attr("x2",0).attr("y2",function(a,b){return m(s(a,b))}),H.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(l(n(a,b))-A/2)+","+(m(o(a,b))-(p(a,b)>q(a,b)?m(q(a,b))-m(p(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(a,b){var c=p(a,b),d=q(a,b);return c>d?m(d)-m(c):m(c)-m(d)});G.select(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+l(n(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return m(r(a,b))}).attr("x2",0).attr("y2",function(a,b){return m(s(a,b))}),G.select(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(l(n(a,b))-A/2)+","+(m(o(a,b))-(p(a,b)>q(a,b)?m(q(a,b))-m(p(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(a,b){var c=p(a,b),d=q(a,b);return c>d?m(d)-m(c):m(c)-m(d)})}),b}var c,d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=Math.floor(1e4*Math.random()),l=d3.scale.linear(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=function(a){return a.open},q=function(a){return a.close},r=function(a){return a.high},s=function(a){return a.low},t=[],u=[],v=!1,w=!0,x=a.utils.defaultColor(),y=!1,z=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return b.highlightPoint=function(a,d){b.clearHighlights(),c.select(".nv-candlestickBar .nv-tick-0-"+a).classed("hover",d)},b.clearHighlights=function(){c.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},b.dispatch=z,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return t},set:function(a){t=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return k},set:function(a){k=a}},interactive:{get:function(){return y},set:function(a){y=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},open:{get:function(){return p()},set:function(a){p=a}},close:{get:function(){return q()},set:function(a){q=a}},high:{get:function(){return r},set:function(a){r=a}},low:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!=a.top?a.top:h.top,h.right=void 0!=a.right?a.right:h.right,h.bottom=void 0!=a.bottom?a.bottom:h.bottom,h.left=void 0!=a.left?a.left:h.left}},color:{get:function(){return x},set:function(b){x=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.cumulativeLineChart=function(){"use strict";function b(l){return I.reset(),I.models(f),s&&I.models(g),t&&I.models(h),l.each(function(l){function B(a,c){d3.select(b.container).style("cursor","ew-resize")}function F(a,b){H.x=d3.event.x,H.i=Math.round(G.invert(H.x)),L()}function I(a,c){d3.select(b.container).style("cursor","auto"),z.index=H.i,D.stateChange(z)}function L(){ba.data([H]);var a=b.duration();b.duration(0),b.update(),b.duration(a)}var M=d3.select(this);a.utils.initSVG(M),M.classed("nv-chart-"+y,!0);var N=a.utils.availableWidth(p,M,m),O=a.utils.availableHeight(q,M,m);if(b.update=function(){0===E?M.call(b):M.transition().duration(E).call(b)},b.container=this,z.setter(K(l),b.update).getter(J(l)).update(),z.disabled=l.map(function(a){return!!a.disabled}),!A){var P;A={};for(P in z)z[P]instanceof Array?A[P]=z[P].slice(0):A[P]=z[P]}var Q=d3.behavior.drag().on("dragstart",B).on("drag",F).on("dragend",I);if(!(l&&l.length&&l.filter(function(a){return a.values.length}).length))return a.utils.noData(b,M),b;if(M.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale(),x)f.yDomain(null);else{var R=l.filter(function(a){return!a.disabled}).map(function(a,b){var c=d3.extent(a.values,f.y());return c[0]<-.95&&(c[0]=-.95),[(c[0]-c[1])/(1+c[1]),(c[1]-c[0])/(1+c[0])]}),S=[d3.min(R,function(a){return a[0]}),d3.max(R,function(a){return a[1]})];f.yDomain(S)}G.domain([0,l[0].values.length-1]).range([0,N]).clamp(!0);var l=c(H.i,l),T=w?"none":"all",U=M.selectAll("g.nv-wrap.nv-cumulativeLine").data([l]),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),W=U.select("g");if(V.append("g").attr("class","nv-interactive"),V.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-background"),V.append("g").attr("class","nv-linesWrap").style("pointer-events",T),V.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),r?(i.width(N),W.select(".nv-legendWrap").datum(l).call(i),n||i.height()===m.top||(m.top=i.height(),O=a.utils.availableHeight(q,M,m)),W.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")):W.select(".nv-legendWrap").selectAll("*").remove(),v){var X=[{key:"Re-scale y-axis",disabled:!x}];j.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),W.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-m.top+")").call(j)}else W.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+m.left+","+m.top+")"),u&&W.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)");var Y=l.filter(function(a){return a.tempDisabled});U.select(".tempDisabled").remove(),Y.length&&U.append("text").attr("class","tempDisabled").attr("x",N/2).attr("y","-.71em").style("text-anchor","end").text(Y.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period."),w&&(k.width(N).height(O).margin({left:m.left,top:m.top}).svgContainer(M).xScale(d),U.select(".nv-interactive").call(k)),V.select(".nv-background").append("rect"),W.select(".nv-background rect").attr("width",N).attr("height",O),f.y(function(a){return a.display.y}).width(N).height(O).color(l.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!l[b].disabled&&!l[b].tempDisabled}));var Z=W.select(".nv-linesWrap").datum(l.filter(function(a){return!a.disabled&&!a.tempDisabled}));Z.call(f),l.forEach(function(a,b){a.seriesIndex=b});var $=l.filter(function(a){return!a.disabled&&!!C(a)}),_=W.select(".nv-avgLinesWrap").selectAll("line").data($,function(a){return a.key}),aa=function(a){var b=e(C(a));return 0>b?0:b>O?O:b};_.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return f.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",N).attr("y1",aa).attr("y2",aa),_.style("stroke-opacity",function(a){var b=e(C(a));return 0>b||b>O?0:1}).attr("x1",0).attr("x2",N).attr("y1",aa).attr("y2",aa),_.exit().remove();var ba=Z.selectAll(".nv-indexLine").data([H]);ba.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(Q),ba.attr("transform",function(a){return"translate("+G(a.i)+",0)"}).attr("height",O),s&&(g.scale(d)._ticks(a.utils.calcTicksX(N/70,l)).tickSize(-O,0),W.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),W.select(".nv-x.nv-axis").call(g)),t&&(h.scale(e)._ticks(a.utils.calcTicksY(O/36,l)).tickSize(-N,0),W.select(".nv-y.nv-axis").call(h)),W.select(".nv-background rect").on("click",function(){H.x=d3.mouse(this)[0],H.i=Math.round(G.invert(H.x)),z.index=H.i,D.stateChange(z),L()}),f.dispatch.on("elementClick",function(a){H.i=a.pointIndex,H.x=G(H.i),z.index=H.i,D.stateChange(z),L()}),j.dispatch.on("legendClick",function(a,c){a.disabled=!a.disabled,x=!a.disabled,z.rescaleY=x,D.stateChange(z),b.update()}),i.dispatch.on("stateChange",function(a){for(var c in a)z[c]=a[c];D.stateChange(z),b.update()}),k.dispatch.on("elementMousemove",function(c){f.clearHighlights();var d,e,i,j=[];if(l.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(g,h){e=a.interactiveBisect(g.values,c.pointXValue,b.x()),f.highlightPoint(h,e,!0);var k=g.values[e];"undefined"!=typeof k&&("undefined"==typeof d&&(d=k),"undefined"==typeof i&&(i=b.xScale()(b.x()(k,e))),j.push({key:g.key,value:b.y()(k,e),color:o(g,g.seriesIndex)}))}),j.length>2){var m=b.yScale().invert(c.mouseY),n=Math.abs(b.yScale().domain()[0]-b.yScale().domain()[1]),p=.03*n,q=a.nearestValueIndex(j.map(function(a){return a.value}),m,p);null!==q&&(j[q].highlight=!0)}var r=g.tickFormat()(b.x()(d,e),e);k.tooltip.valueFormatter(function(a,b){return h.tickFormat()(a)}).data({value:r,series:j})(),k.renderGuideLine(i)}),k.dispatch.on("elementMouseout",function(a){f.clearHighlights()}),D.on("changeState",function(a){"undefined"!=typeof a.disabled&&(l.forEach(function(b,c){b.disabled=a.disabled[c]}),z.disabled=a.disabled),"undefined"!=typeof a.index&&(H.i=a.index,H.x=G(H.i),z.index=a.index,ba.data([H])),"undefined"!=typeof a.rescaleY&&(x=a.rescaleY),b.update()})}),I.renderEnd("cumulativeLineChart immediate"),b}function c(a,b){return L||(L=f.y()),b.map(function(b,c){if(!b.values)return b;var d=b.values[a];if(null==d)return b;var e=L(d,a);return-.95>e&&!F?(b.tempDisabled=!0,b):(b.tempDisabled=!1,b.values=b.values.map(function(a,b){return a.display={y:(L(a,b)-e)/(1+e)},a}),b)})}var d,e,f=a.models.line(),g=a.models.axis(),h=a.models.axis(),i=a.models.legend(),j=a.models.legend(),k=a.interactiveGuideline(),l=a.models.tooltip(),m={top:30,right:30,bottom:50,left:60},n=null,o=a.utils.defaultColor(),p=null,q=null,r=!0,s=!0,t=!0,u=!1,v=!0,w=!1,x=!0,y=f.id(),z=a.utils.state(),A=null,B=null,C=function(a){return a.average},D=d3.dispatch("stateChange","changeState","renderEnd"),E=250,F=!1;z.index=0,z.rescaleY=x,g.orient("bottom").tickPadding(7),h.orient(u?"right":"left"),l.valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),j.updateState(!1);var G=d3.scale.linear(),H={i:0,x:0},I=a.utils.renderWatch(D,E),J=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:H.i,rescaleY:x}}},K=function(a){return function(b){void 0!==b.index&&(H.i=b.index),void 0!==b.rescaleY&&(x=b.rescaleY),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};f.dispatch.on("elementMouseover.tooltip",function(a){var c={x:b.x()(a.point),y:b.y()(a.point),color:a.point.color};a.point=c,l.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)});var L=null;return b.dispatch=D,b.lines=f,b.legend=i,b.controls=j,b.xAxis=g,b.yAxis=h,b.interactiveLayer=k,b.state=z,b.tooltip=l,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},rescaleY:{get:function(){return x},set:function(a){x=a}},showControls:{get:function(){return v},set:function(a){v=a}},showLegend:{get:function(){return r},set:function(a){r=a}},average:{get:function(){return C},set:function(a){C=a}},defaultState:{get:function(){return A},set:function(a){A=a}},noData:{get:function(){return B},set:function(a){B=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},noErrorCheck:{get:function(){return F},set:function(a){F=a}},margin:{get:function(){return m},set:function(a){void 0!==a.top&&(m.top=a.top,n=a.top),m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b),i.color(o)}},useInteractiveGuideline:{get:function(){return w},set:function(a){w=a,a===!0&&(b.interactive(!1),b.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,h.orient(a?"right":"left")}},duration:{get:function(){return E},set:function(a){E=a,f.duration(E),g.duration(E),h.duration(E),I.reset(E)}}}),a.utils.inheritOptions(b,f),a.utils.initOptions(b),b},a.models.discreteBar=function(){"use strict";function b(m){return y.reset(),m.each(function(b){var m=k-j.left-j.right,x=l-j.top-j.bottom;c=d3.select(this),a.utils.initSVG(c),b.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var z=d&&e?[]:b.map(function(a){return a.values.map(function(a,b){return{x:p(a,b),y:q(a,b),y0:a.y0}})});n.domain(d||d3.merge(z).map(function(a){return a.x})).rangeBands(f||[0,m],.1),o.domain(e||d3.extent(d3.merge(z).map(function(a){return a.y}).concat(r))),t?o.range(g||[x-(o.domain()[0]<0?12:0),o.domain()[1]>0?12:0]):o.range(g||[x,0]),h=h||n,i=i||o.copy().range([o(0),o(0)]);var A=c.selectAll("g.nv-wrap.nv-discretebar").data([b]),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),C=B.append("g");A.select("g");C.append("g").attr("class","nv-groups"),A.attr("transform","translate("+j.left+","+j.top+")");var D=A.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),D.exit().watchTransition(y,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),D.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),D.watchTransition(y,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var E=D.selectAll("g.nv-bar").data(function(a){return a.values});E.exit().remove();var F=E.enter().append("g").attr("transform",function(a,b,c){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", "+o(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),v.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),v.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){v.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){var c=this;v.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}).on("dblclick",function(a,b){v.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});F.append("rect").attr("height",0).attr("width",.9*n.rangeBand()/b.length),t?(F.append("text").attr("text-anchor","middle"),E.select("text").text(function(a,b){return u(q(a,b))}).watchTransition(y,"discreteBar: bars text").attr("x",.9*n.rangeBand()/2).attr("y",function(a,b){return q(a,b)<0?o(q(a,b))-o(0)+12:-4})):E.selectAll("text").remove(),E.attr("class",function(a,b){return q(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||s(a,b)}).style("stroke",function(a,b){return a.color||s(a,b)}).select("rect").attr("class",w).watchTransition(y,"discreteBar: bars rect").attr("width",.9*n.rangeBand()/b.length),E.watchTransition(y,"discreteBar: bars").attr("transform",function(a,b){var c=n(p(a,b))+.05*n.rangeBand(),d=q(a,b)<0?o(0):o(0)-o(q(a,b))<1?o(0)-1:o(q(a,b));return"translate("+c+", "+d+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(o(q(a,b))-o(0)),1)}),h=n.copy(),i=o.copy()}),y.renderEnd("discreteBar immediate"),b}var c,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=Math.floor(1e4*Math.random()),n=d3.scale.ordinal(),o=d3.scale.linear(),p=function(a){return a.x},q=function(a){return a.y},r=[0],s=a.utils.defaultColor(),t=!1,u=d3.format(",.2f"),v=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w="discreteBar",x=250,y=a.utils.renderWatch(v,x);return b.dispatch=v,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},forceY:{get:function(){return r},set:function(a){r=a}},showValues:{get:function(){return t},set:function(a){t=a}},x:{get:function(){return p},set:function(a){p=a}},y:{get:function(){return q},set:function(a){q=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},valueFormat:{get:function(){return u},set:function(a){u=a}},id:{get:function(){return m},set:function(a){m=a}},rectClass:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},color:{get:function(){return s},set:function(b){s=a.utils.getColor(b)}},duration:{get:function(){return x},set:function(a){x=a,y.reset(x)}}}),a.utils.initOptions(b),b},a.models.discreteBarChart=function(){"use strict";function b(i){return y.reset(),y.models(e),p&&y.models(f),q&&y.models(g),i.each(function(i){var n=d3.select(this);a.utils.initSVG(n);var v=a.utils.availableWidth(l,n,j),y=a.utils.availableHeight(m,n,j);if(b.update=function(){w.beforeUpdate(),n.transition().duration(x).call(b)},b.container=this,!(i&&i.length&&i.filter(function(a){return a.values.length}).length))return a.utils.noData(b,n),b;n.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale().clamp(!0);var z=n.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([i]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),B=A.append("defs"),C=z.select("g");A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),A.append("g").attr("class","nv-barsWrap"),A.append("g").attr("class","nv-legendWrap"),C.attr("transform","translate("+j.left+","+j.top+")"),o?(h.width(v),C.select(".nv-legendWrap").datum(i).call(h),k||h.height()===j.top||(j.top=h.height(),y=a.utils.availableHeight(m,n,j)),z.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")):C.select(".nv-legendWrap").selectAll("*").remove(),r&&C.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)"),e.width(v).height(y);var D=C.select(".nv-barsWrap").datum(i.filter(function(a){return!a.disabled}));if(D.transition().call(e),B.append("clipPath").attr("id","nv-x-label-clip-"+e.id()).append("rect"),C.select("#nv-x-label-clip-"+e.id()+" rect").attr("width",c.rangeBand()*(s?2:1)).attr("height",16).attr("x",-c.rangeBand()/(s?1:2)),p){f.scale(c)._ticks(a.utils.calcTicksX(v/100,i)).tickSize(-y,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+(d.range()[0]+(e.showValues()&&d.domain()[0]<0?16:0))+")"),C.select(".nv-x.nv-axis").call(f);var E=C.select(".nv-x.nv-axis").selectAll("g");s&&E.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"}),u&&E.selectAll(".tick text").attr("transform","rotate("+u+" 0,0)").style("text-anchor",u>0?"start":"end"),t&&C.selectAll(".tick text").call(a.utils.wrapTicks,b.xAxis.rangeBand())}q&&(g.scale(d)._ticks(a.utils.calcTicksY(y/36,i)).tickSize(-v,0),C.select(".nv-y.nv-axis").call(g)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",r?-v:v).attr("y1",d(0)).attr("y2",d(0))}),y.renderEnd("discreteBar chart immediate"),b}var c,d,e=a.models.discreteBar(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend(),i=a.models.tooltip(),j={top:15,right:10,bottom:50,left:60},k=null,l=null,m=null,n=a.utils.getColor(),o=!1,p=!0,q=!0,r=!1,s=!1,t=!1,u=0,v=null,w=d3.dispatch("beforeUpdate","renderEnd"),x=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),g.orient(r?"right":"left").tickFormat(d3.format(",.1f")),i.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).keyFormatter(function(a,b){return f.tickFormat()(a,b)});var y=a.utils.renderWatch(w,x);return e.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color},i.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){i.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){i()}),b.dispatch=w,b.discretebar=e,b.legend=h,b.xAxis=f,b.yAxis=g,b.tooltip=i,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},showLegend:{get:function(){return o},set:function(a){o=a}},staggerLabels:{get:function(){return s},set:function(a){s=a}},rotateLabels:{get:function(){return u},set:function(a){u=a}},wrapLabels:{get:function(){return t},set:function(a){t=!!a}},showXAxis:{get:function(){return p},set:function(a){p=a}},showYAxis:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return j},set:function(a){void 0!==a.top&&(j.top=a.top,k=a.top),j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return x},set:function(a){x=a,y.reset(x),e.duration(x),f.duration(x),g.duration(x)}},color:{get:function(){return n},set:function(b){n=a.utils.getColor(b),e.color(n),h.color(n)}},rightAlignYAxis:{get:function(){return r},set:function(a){r=a,g.orient(a?"right":"left")}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.distribution=function(){"use strict";function b(k){return m.reset(),k.each(function(b){var k=(e-("x"===g?d.left+d.right:d.top+d.bottom),"x"==g?"y":"x"),l=d3.select(this);a.utils.initSVG(l),c=c||j;var n=l.selectAll("g.nv-distribution").data([b]),o=n.enter().append("g").attr("class","nvd3 nv-distribution"),p=(o.append("g"),n.select("g"));n.attr("transform","translate("+d.left+","+d.top+")");var q=p.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});q.enter().append("g"),q.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return i(a,b)});var r=q.selectAll("line.nv-dist"+g).data(function(a){return a.values});r.enter().append("line").attr(g+"1",function(a,b){return c(h(a,b))}).attr(g+"2",function(a,b){return c(h(a,b))}),m.transition(q.exit().selectAll("line.nv-dist"+g),"dist exit").attr(g+"1",function(a,b){return j(h(a,b))}).attr(g+"2",function(a,b){return j(h(a,b))}).style("stroke-opacity",0).remove(),r.attr("class",function(a,b){return"nv-dist"+g+" nv-dist"+g+"-"+b}).attr(k+"1",0).attr(k+"2",f),m.transition(r,"dist").attr(g+"1",function(a,b){return j(h(a,b))}).attr(g+"2",function(a,b){return j(h(a,b))}),c=j.copy()}),m.renderEnd("distribution immediate"),b}var c,d={top:0,right:0,bottom:0,left:0},e=400,f=8,g="x",h=function(a){return a[g]},i=a.utils.defaultColor(),j=d3.scale.linear(),k=250,l=d3.dispatch("renderEnd"),m=a.utils.renderWatch(l,k);return b.options=a.utils.optionsFunc.bind(b),b.dispatch=l,b.margin=function(a){return arguments.length?(d.top="undefined"!=typeof a.top?a.top:d.top,d.right="undefined"!=typeof a.right?a.right:d.right,
d.bottom="undefined"!=typeof a.bottom?a.bottom:d.bottom,d.left="undefined"!=typeof a.left?a.left:d.left,b):d},b.width=function(a){return arguments.length?(e=a,b):e},b.axis=function(a){return arguments.length?(g=a,b):g},b.size=function(a){return arguments.length?(f=a,b):f},b.getData=function(a){return arguments.length?(h=d3.functor(a),b):h},b.scale=function(a){return arguments.length?(j=a,b):j},b.color=function(c){return arguments.length?(i=a.utils.getColor(c),b):i},b.duration=function(a){return arguments.length?(k=a,m.reset(k),b):k},b},a.models.focus=function(b){"use strict";function c(u){return t.reset(),t.models(b),m&&t.models(f),n&&t.models(g),u.each(function(t){function u(a){var b=+("e"==a),c=b?1:-1,d=z/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function v(){h.empty()||h.extent(p),E.data([h.empty()?d.domain():p]).each(function(a,b){var c=d(a[0])-d.range()[0],e=y-d(a[1]);d3.select(this).select(".left").attr("width",0>c?0:c),d3.select(this).select(".right").attr("x",d(a[1])).attr("width",0>e?0:e)})}function w(a){p=h.empty()?null:h.extent();var b=h.empty()?d.domain():h.extent();r.brush({extent:b,brush:h}),v(),a&&r.onBrush(b)}var x=d3.select(this);a.utils.initSVG(x);var y=a.utils.availableWidth(k,x,i),z=l-i.top-i.bottom;c.update=function(){0===q?x.call(c):x.transition().duration(q).call(c)},c.container=this,d=b.xScale(),e=b.yScale();var A=x.selectAll("g.nv-focus").data([t]),B=A.enter().append("g").attr("class","nvd3 nv-focus").append("g"),C=A.select("g");A.attr("transform","translate("+i.left+","+i.top+")"),B.append("g").attr("class","nv-background").append("rect"),B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-contentWrap"),B.append("g").attr("class","nv-brushBackground"),B.append("g").attr("class","nv-x nv-brush"),o&&C.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),C.select(".nv-background rect").attr("width",y).attr("height",z),b.width(y).height(z).color(t.map(function(a,b){return a.color||j(a,b)}).filter(function(a,b){return!t[b].disabled}));var D=C.select(".nv-contentWrap").datum(t.filter(function(a){return!a.disabled}));d3.transition(D).call(b),h.x(d).on("brush",function(){w(s)}),h.on("brushend",function(){s||r.onBrush(h.empty()?d.domain():h.extent())}),p&&h.extent(p);var E=C.select(".nv-brushBackground").selectAll("g").data([p||h.extent()]),F=E.enter().append("g");F.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",z),F.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",z);var G=C.select(".nv-x.nv-brush").call(h);G.selectAll("rect").attr("height",z),G.selectAll(".resize").append("path").attr("d",u),w(!0),C.select(".nv-background rect").attr("width",y).attr("height",z),m&&(f.scale(d)._ticks(a.utils.calcTicksX(y/100,t)).tickSize(-z,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),d3.transition(C.select(".nv-x.nv-axis")).call(f)),n&&(g.scale(e)._ticks(a.utils.calcTicksY(z/36,t)).tickSize(-y,0),d3.transition(C.select(".nv-y.nv-axis")).call(g)),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")")}),t.renderEnd("focus immediate"),c}var d,e,b=b||a.models.line(),f=a.models.axis(),g=a.models.axis(),h=d3.svg.brush(),i={top:10,right:0,bottom:30,left:0},j=a.utils.defaultColor(),k=null,l=70,m=!0,n=!1,o=!1,p=null,q=250,r=d3.dispatch("brush","onBrush","renderEnd"),s=!0;b.interactive(!1),b.pointActive(function(a){return!1});var t=a.utils.renderWatch(r,q);return c.dispatch=r,c.content=b,c.brush=h,c.xAxis=f,c.yAxis=g,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return n},set:function(a){n=a}},brushExtent:{get:function(){return p},set:function(a){p=a}},syncBrushing:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},duration:{get:function(){return q},set:function(a){q=a,t.reset(q),b.duration(q),f.duration(q),g.duration(q)}},color:{get:function(){return j},set:function(c){j=a.utils.getColor(c),b.color(j)}},interpolate:{get:function(){return b.interpolate()},set:function(a){b.interpolate(a)}},xTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a)}},x:{get:function(){return b.x()},set:function(a){b.x(a)}},y:{get:function(){return b.y()},set:function(a){b.y(a)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a,g.orient(o?"right":"left")}}}),a.utils.inheritOptions(c,b),a.utils.initOptions(c),c},a.models.forceDirectedGraph=function(){"use strict";function b(g){return u.reset(),g.each(function(g){f=d3.select(this),a.utils.initSVG(f);var j=a.utils.availableWidth(d,f,c),u=a.utils.availableHeight(e,f,c);if(f.attr("width",j).attr("height",u),!(g&&g.links&&g.nodes))return a.utils.noData(b,f),b;f.selectAll(".nv-noData").remove(),f.selectAll("*").remove();var v=new Set;g.nodes.forEach(function(a){var b=Object.keys(a);b.forEach(function(a){v.add(a)})});var w=d3.layout.force().nodes(g.nodes).links(g.links).size([j,u]).linkStrength(k).friction(l).linkDistance(m).charge(n).gravity(o).theta(p).alpha(q).start(),x=f.selectAll(".link").data(g.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(a){return Math.sqrt(a.value)}),y=f.selectAll(".node").data(g.nodes).enter().append("g").attr("class","nv-force-node").call(w.drag);y.append("circle").attr("r",r).style("fill",function(a){return h(a)}).on("mouseover",function(a){f.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.py),f.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.px);var b=h(a);a.series=[],v.forEach(function(c){a.series.push({color:b,key:c,value:a[c]})}),i.data(a).hidden(!1)}).on("mouseout",function(a){i.hidden(!0)}),i.headerFormatter(function(a){return"Node"}),t(x),s(y),w.on("tick",function(){x.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),y.attr("transform",function(a){return"translate("+a.x+", "+a.y+")"})})}),b}var c={top:2,right:0,bottom:2,left:0},d=400,e=32,f=null,g=d3.dispatch("renderEnd"),h=a.utils.getColor(["#000"]),i=a.models.tooltip(),j=null,k=.1,l=.9,m=30,n=-120,o=.1,p=.8,q=.1,r=5,s=function(a){},t=function(a){},u=a.utils.renderWatch(g);return b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},linkStrength:{get:function(){return k},set:function(a){k=a}},friction:{get:function(){return l},set:function(a){l=a}},linkDist:{get:function(){return m},set:function(a){m=a}},charge:{get:function(){return n},set:function(a){n=a}},gravity:{get:function(){return o},set:function(a){o=a}},theta:{get:function(){return p},set:function(a){p=a}},alpha:{get:function(){return q},set:function(a){q=a}},radius:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return getX},set:function(a){getX=d3.functor(a)}},y:{get:function(){return getY},set:function(a){getY=d3.functor(a)}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}},noData:{get:function(){return j},set:function(a){j=a}},nodeExtras:{get:function(){return s},set:function(a){s=a}},linkExtras:{get:function(){return t},set:function(a){t=a}}}),b.dispatch=g,b.tooltip=i,a.utils.initOptions(b),b},a.models.furiousLegend=function(){"use strict";function b(r){function s(a,b){return"furious"!=q?"#000":o?a.disengaged?h(a,b):"#fff":o?void 0:a.disabled?h(a,b):"#fff"}function t(a,b){return o&&"furious"==q?a.disengaged?"#fff":h(a,b):a.disabled?"#fff":h(a,b)}return r.each(function(b){var r=d-c.left-c.right,u=d3.select(this);a.utils.initSVG(u);var v=u.selectAll("g.nv-legend").data([b]),w=(v.enter().append("g").attr("class","nvd3 nv-legend").append("g"),v.select("g"));v.attr("transform","translate("+c.left+","+c.top+")");var x,y=w.selectAll(".nv-series").data(function(a){return"furious"!=q?a:a.filter(function(a){return o?!0:!a.disengaged})}),z=y.enter().append("g").attr("class","nv-series");if("classic"==q)z.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),x=y.select("circle");else if("furious"==q){z.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),x=y.select("rect"),z.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var A=y.select(".nv-check-box");A.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",s(a,b))})}z.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var B=y.select("text.nv-legend-text");y.on("mouseover",function(a,b){p.legendMouseover(a,b)}).on("mouseout",function(a,b){p.legendMouseout(a,b)}).on("click",function(a,b){p.legendClick(a,b);var c=y.data();if(m){if("classic"==q)n?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==q)if(o)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!o){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}p.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=q||!o)&&(p.legendDblclick(a,b),m)){var c=y.data();c.forEach(function(a){a.disabled=!0,"furious"==q&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==q&&(a.userDisabled=a.disabled),p.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),y.classed("nv-disabled",function(a){return a.userDisabled}),y.exit().remove(),B.attr("fill",s).text(function(a){return g(f(a))});var C;switch(q){case"furious":C=23;break;case"classic":C=20}if(j){var D=[];y.each(function(b,c){var d;if(g(f(b))&&g(f(b)).length>i){var e=g(f(b)).substring(0,i);d=d3.select(this).select("text").text(e+"..."),d3.select(this).append("svg:title").text(g(f(b)))}else d=d3.select(this).select("text");var h;try{if(h=d.node().getComputedTextLength(),0>=h)throw Error()}catch(j){h=a.utils.calcApproxTextWidth(d)}D.push(h+k)});for(var E=0,F=0,G=[];r>F&&E<D.length;)G[E]=D[E],F+=D[E++];for(0===E&&(E=1);F>r&&E>1;){G=[],E--;for(var H=0;H<D.length;H++)D[H]>(G[H%E]||0)&&(G[H%E]=D[H]);F=G.reduce(function(a,b,c,d){return a+b})}for(var I=[],J=0,K=0;E>J;J++)I[J]=K,K+=G[J];y.attr("transform",function(a,b){return"translate("+I[b%E]+","+(5+Math.floor(b/E)*C)+")"}),l?w.attr("transform","translate("+(d-c.right-F)+","+c.top+")"):w.attr("transform","translate(0,"+c.top+")"),e=c.top+c.bottom+Math.ceil(D.length/E)*C}else{var L,M=5,N=5,O=0;y.attr("transform",function(a,b){var e=d3.select(this).select("text").node().getComputedTextLength()+k;return L=N,d<c.left+c.right+L+e&&(N=L=5,M+=C),N+=e,N>O&&(O=N),"translate("+L+","+M+")"}),w.attr("transform","translate("+(d-c.right-O)+","+c.top+")"),e=c.top+c.bottom+M+15}"furious"==q&&x.attr("width",function(a,b){return B[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),x.style("fill",t).style("stroke",function(a,b){return a.color||h(a,b)})}),b}var c={top:5,right:0,bottom:5,left:0},d=400,e=20,f=function(a){return a.key},g=function(a){return a},h=a.utils.getColor(),i=20,j=!0,k=28,l=!0,m=!0,n=!1,o=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),q="classic";return b.dispatch=p,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},key:{get:function(){return f},set:function(a){f=a}},keyFormatter:{get:function(){return g},set:function(a){g=a}},align:{get:function(){return j},set:function(a){j=a}},rightAlign:{get:function(){return l},set:function(a){l=a}},maxKeyLength:{get:function(){return i},set:function(a){i=a}},padding:{get:function(){return k},set:function(a){k=a}},updateState:{get:function(){return m},set:function(a){m=a}},radioButtonMode:{get:function(){return n},set:function(a){n=a}},expanded:{get:function(){return o},set:function(a){o=a}},vers:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.historicalBar=function(){"use strict";function b(x){return x.each(function(b){w.reset(),k=d3.select(this);var x=a.utils.availableWidth(h,k,g),y=a.utils.availableHeight(i,k,g);a.utils.initSVG(k),l.domain(c||d3.extent(b[0].values.map(n).concat(p))),r?l.range(e||[.5*x/b[0].values.length,x*(b[0].values.length-.5)/b[0].values.length]):l.range(e||[0,x]),m.domain(d||d3.extent(b[0].values.map(o).concat(q))).range(f||[y,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var z=k.selectAll("g.nv-wrap.nv-historicalBar-"+j).data([b[0].values]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+j),B=A.append("defs"),C=A.append("g"),D=z.select("g");C.append("g").attr("class","nv-bars"),z.attr("transform","translate("+g.left+","+g.top+")"),k.on("click",function(a,b){u.chartClick({data:a,index:b,pos:d3.event,id:j})}),B.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect"),z.select("#nv-chart-clip-path-"+j+" rect").attr("width",x).attr("height",y),D.attr("clip-path",s?"url(#nv-chart-clip-path-"+j+")":"");var E=z.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return n(a,b)});E.exit().remove(),E.enter().append("rect").attr("x",0).attr("y",function(b,c){return a.utils.NaNtoZero(m(Math.max(0,o(b,c))))}).attr("height",function(b,c){return a.utils.NaNtoZero(Math.abs(m(o(b,c))-m(0)))}).attr("transform",function(a,c){return"translate("+(l(n(a,c))-x/b[0].values.length*.45)+",0)"}).on("mouseover",function(a,b){v&&(d3.select(this).classed("hover",!0),u.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mouseout",function(a,b){v&&(d3.select(this).classed("hover",!1),u.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mousemove",function(a,b){v&&u.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){if(v){var c=this;u.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}}).on("dblclick",function(a,b){v&&(u.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),E.attr("fill",function(a,b){return t(a,b)}).attr("class",function(a,b,c){return(o(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(w,"bars").attr("transform",function(a,c){return"translate("+(l(n(a,c))-x/b[0].values.length*.45)+",0)"}).attr("width",x/b[0].values.length*.9),E.watchTransition(w,"bars").attr("y",function(b,c){var d=o(b,c)<0?m(0):m(0)-m(o(b,c))<1?m(0)-1:m(o(b,c));return a.utils.NaNtoZero(d)}).attr("height",function(b,c){return a.utils.NaNtoZero(Math.max(Math.abs(m(o(b,c))-m(0)),1))})}),w.renderEnd("historicalBar immediate"),b}var c,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j=Math.floor(1e4*Math.random()),k=null,l=d3.scale.linear(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=[],q=[0],r=!1,s=!0,t=a.utils.defaultColor(),u=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),v=!0,w=a.utils.renderWatch(u,0);return b.highlightPoint=function(a,b){k.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)},b.clearHighlights=function(){k.select(".nv-bars .nv-bar.hover").classed("hover",!1)},b.dispatch=u,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},forceX:{get:function(){return p},set:function(a){p=a}},forceY:{get:function(){return q},set:function(a){q=a}},padData:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},clipEdge:{get:function(){return s},set:function(a){s=a}},id:{get:function(){return j},set:function(a){j=a}},interactive:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},color:{get:function(){return t},set:function(b){t=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.historicalBarChart=function(b){"use strict";function c(b){return b.each(function(k){A.reset(),A.models(f),r&&A.models(g),s&&A.models(h);var x=d3.select(this);a.utils.initSVG(x);var B=a.utils.availableWidth(o,x,l),C=a.utils.availableHeight(p,x,l);if(c.update=function(){x.transition().duration(z).call(c)},c.container=this,v.disabled=k.map(function(a){return!!a.disabled}),!w){var D;w={};for(D in v)v[D]instanceof Array?w[D]=v[D].slice(0):w[D]=v[D]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return a.utils.noData(c,x),c;x.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var E=x.selectAll("g.nv-wrap.nv-historicalBarChart").data([k]),F=E.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),G=E.select("g");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-interactive"),q?(i.width(B),G.select(".nv-legendWrap").datum(k).call(i),m||i.height()===l.top||(l.top=i.height(),C=a.utils.availableHeight(p,x,l)),E.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):G.select(".nv-legendWrap").selectAll("*").remove(),E.attr("transform","translate("+l.left+","+l.top+")"),t&&G.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)"),u&&(j.width(B).height(C).margin({left:l.left,top:l.top}).svgContainer(x).xScale(d),E.select(".nv-interactive").call(j)),f.width(B).height(C).color(k.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!k[b].disabled}));var H=G.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled}));H.transition().call(f),r&&(g.scale(d)._ticks(a.utils.calcTicksX(B/100,k)).tickSize(-C,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),G.select(".nv-x.nv-axis").transition().call(g)),s&&(h.scale(e)._ticks(a.utils.calcTicksY(C/36,k)).tickSize(-B,0),G.select(".nv-y.nv-axis").transition().call(h)),j.dispatch.on("elementMousemove",function(b){f.clearHighlights();var d,e,i,l=[];k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(g,h){e=a.interactiveBisect(g.values,b.pointXValue,c.x()),f.highlightPoint(e,!0);var j=g.values[e];void 0!==j&&(void 0===d&&(d=j),void 0===i&&(i=c.xScale()(c.x()(j,e))),l.push({key:g.key,value:c.y()(j,e),color:n(g,g.seriesIndex),data:g.values[e]}))});var m=g.tickFormat()(c.x()(d,e));j.tooltip.valueFormatter(function(a,b){return h.tickFormat()(a)}).data({value:m,index:e,series:l})(),j.renderGuideLine(i)}),j.dispatch.on("elementMouseout",function(a){y.tooltipHide(),f.clearHighlights()}),i.dispatch.on("legendClick",function(a,d){a.disabled=!a.disabled,k.filter(function(a){return!a.disabled}).length||k.map(function(a){return a.disabled=!1,E.selectAll(".nv-series").classed("disabled",!1),a}),v.disabled=k.map(function(a){return!!a.disabled}),y.stateChange(v),b.transition().call(c)}),i.dispatch.on("legendDblclick",function(a){k.forEach(function(a){a.disabled=!0}),a.disabled=!1,v.disabled=k.map(function(a){return!!a.disabled}),y.stateChange(v),c.update()}),y.on("changeState",function(a){"undefined"!=typeof a.disabled&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),v.disabled=a.disabled),c.update()})}),A.renderEnd("historicalBarChart immediate"),c}var d,e,f=b||a.models.historicalBar(),g=a.models.axis(),h=a.models.axis(),i=a.models.legend(),j=a.interactiveGuideline(),k=a.models.tooltip(),l={top:30,right:90,bottom:50,left:90},m=null,n=a.utils.defaultColor(),o=null,p=null,q=!1,r=!0,s=!0,t=!1,u=!1,v={},w=null,x=null,y=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),z=250;g.orient("bottom").tickPadding(7),h.orient(t?"right":"left"),k.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)});var A=a.utils.renderWatch(y,0);return f.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:c.x()(a.data),value:c.y()(a.data),color:a.color},k.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(a){k()}),c.dispatch=y,c.bars=f,c.legend=i,c.xAxis=g,c.yAxis=h,c.interactiveLayer=j,c.tooltip=k,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return s},set:function(a){s=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return l},set:function(a){void 0!==a.top&&(l.top=a.top,m=a.top),l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},color:{get:function(){return n},set:function(b){n=a.utils.getColor(b),i.color(n),f.color(n)}},duration:{get:function(){return z},set:function(a){z=a,A.reset(z),h.duration(z),g.duration(z)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a,h.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return u},set:function(a){u=a,a===!0&&c.interactive(!1)}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.ohlcBarChart=function(){var b=a.models.historicalBarChart(a.models.ohlcBar());return b.useInteractiveGuideline(!0),b.interactiveLayer.tooltip.contentGenerator(function(a){var c=a.series[0].data,d=c.open<c.close?"2ca02c":"d62728";return'<h3 style="color: #'+d+'">'+a.value+"</h3><table><tr><td>open:</td><td>"+b.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+b.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+b.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+b.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),b},a.models.candlestickBarChart=function(){var b=a.models.historicalBarChart(a.models.candlestickBar());return b.useInteractiveGuideline(!0),b.interactiveLayer.tooltip.contentGenerator(function(a){var c=a.series[0].data,d=c.open<c.close?"2ca02c":"d62728";return'<h3 style="color: #'+d+'">'+a.value+"</h3><table><tr><td>open:</td><td>"+b.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+b.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+b.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+b.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),b},a.models.legend=function(){"use strict";function b(r){function s(a,b){return"furious"!=q?"#000":o?a.disengaged?"#000":"#fff":o?void 0:(a.color||(a.color=h(a,b)),a.disabled?a.color:"#fff")}function t(a,b){return o&&"furious"==q&&a.disengaged?"#eee":a.color||h(a,b)}function u(a,b){return o&&"furious"==q?1:a.disabled?0:1}return r.each(function(b){var h=d-c.left-c.right,r=d3.select(this);a.utils.initSVG(r);var v=r.selectAll("g.nv-legend").data([b]),w=v.enter().append("g").attr("class","nvd3 nv-legend").append("g"),x=v.select("g");l?v.attr("transform","translate("+-c.right+","+c.top+")"):v.attr("transform","translate("+c.left+","+c.top+")");var y,z,A=x.selectAll(".nv-series").data(function(a){return"furious"!=q?a:a.filter(function(a){return o?!0:!a.disengaged})}),B=A.enter().append("g").attr("class","nv-series");switch(q){case"furious":z=23;break;case"classic":z=20}if("classic"==q)B.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),y=A.select(".nv-legend-symbol");else if("furious"==q){B.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),y=A.select(".nv-legend-symbol"),B.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var C=A.select(".nv-check-box");C.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",s(a,b))})}B.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var D=A.select("text.nv-legend-text");A.on("mouseover",function(a,b){p.legendMouseover(a,b)}).on("mouseout",function(a,b){p.legendMouseout(a,b)}).on("click",function(a,b){p.legendClick(a,b);var c=A.data();if(m){if("classic"==q)n?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==q)if(o)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!o){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}p.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=q||!o)&&(p.legendDblclick(a,b),m)){var c=A.data();c.forEach(function(a){a.disabled=!0,"furious"==q&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==q&&(a.userDisabled=a.disabled),p.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),A.classed("nv-disabled",function(a){return a.userDisabled}),A.exit().remove(),D.attr("fill",s).text(function(a){return g(f(a))});var E=0;if(j){var F=[];A.each(function(b,c){var d;if(g(f(b))&&g(f(b)).length>i){var e=g(f(b)).substring(0,i);d=d3.select(this).select("text").text(e+"..."),d3.select(this).append("svg:title").text(g(f(b)))}else d=d3.select(this).select("text");var h;try{if(h=d.node().getComputedTextLength(),0>=h)throw Error()}catch(j){h=a.utils.calcApproxTextWidth(d)}F.push(h+k)});var G=0,H=[];for(E=0;h>E&&G<F.length;)H[G]=F[G],E+=F[G++];for(0===G&&(G=1);E>h&&G>1;){H=[],G--;for(var I=0;I<F.length;I++)F[I]>(H[I%G]||0)&&(H[I%G]=F[I]);E=H.reduce(function(a,b,c,d){return a+b})}for(var J=[],K=0,L=0;G>K;K++)J[K]=L,L+=H[K];A.attr("transform",function(a,b){return"translate("+J[b%G]+","+(5+Math.floor(b/G)*z)+")"}),l?x.attr("transform","translate("+(d-c.right-E)+","+c.top+")"):x.attr("transform","translate(0,"+c.top+")"),e=c.top+c.bottom+Math.ceil(F.length/G)*z}else{var M,N=5,O=5,P=0;A.attr("transform",function(a,b){var e=d3.select(this).select("text").node().getComputedTextLength()+k;return M=O,d<c.left+c.right+M+e&&(O=M=5,N+=z),O+=e,O>P&&(P=O),M+P>E&&(E=M+P),"translate("+M+","+N+")"}),x.attr("transform","translate("+(d-c.right-P)+","+c.top+")"),e=c.top+c.bottom+N+15}if("furious"==q){y.attr("width",function(a,b){return D[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),w.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var Q=x.select(".nv-legend-bg");Q.transition().duration(300).attr("x",-z).attr("width",E+z-12).attr("height",e+10).attr("y",-c.top-10).attr("opacity",o?1:0)}y.style("fill",t).style("fill-opacity",u).style("stroke",t)}),b}var c={top:5,right:0,bottom:5,left:0},d=400,e=20,f=function(a){return a.key},g=function(a){return a},h=a.utils.getColor(),i=20,j=!0,k=32,l=!0,m=!0,n=!1,o=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),q="classic";return b.dispatch=p,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},key:{get:function(){return f},set:function(a){f=a}},keyFormatter:{get:function(){return g},set:function(a){g=a}},align:{get:function(){return j},set:function(a){j=a}},maxKeyLength:{get:function(){return i},set:function(a){i=a}},rightAlign:{get:function(){return l},set:function(a){l=a}},padding:{get:function(){return k},set:function(a){k=a}},updateState:{get:function(){return m},set:function(a){m=a}},radioButtonMode:{get:function(){return n},set:function(a){n=a}},expanded:{get:function(){return o},set:function(a){o=a}},vers:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.line=function(){"use strict";function b(r){return v.reset(),v.models(e),r.each(function(b){i=d3.select(this);var r=a.utils.availableWidth(g,i,f),s=a.utils.availableHeight(h,i,f);a.utils.initSVG(i),c=e.xScale(),d=e.yScale(),t=t||c,u=u||d;var w=i.selectAll("g.nv-wrap.nv-line").data([b]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),y=x.append("defs"),z=x.append("g"),A=w.select("g");z.append("g").attr("class","nv-groups"),z.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+f.left+","+f.top+")"),e.width(r).height(s);var B=w.select(".nv-scatterWrap");B.call(e),y.append("clipPath").attr("id","nv-edge-clip-"+e.id()).append("rect"),w.select("#nv-edge-clip-"+e.id()+" rect").attr("width",r).attr("height",s>0?s:0),A.attr("clip-path",p?"url(#nv-edge-clip-"+e.id()+")":""),B.attr("clip-path",p?"url(#nv-edge-clip-"+e.id()+")":"");var C=w.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});C.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(a){return a.strokeWidth||j}).style("fill-opacity",1e-6),
C.exit().remove(),C.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return k(a,b)}).style("stroke",function(a,b){return k(a,b)}),C.watchTransition(v,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||.5});var D=C.selectAll("path.nv-area").data(function(a){return o(a)?[a]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(b){return d3.svg.area().interpolate(q).defined(n).x(function(b,c){return a.utils.NaNtoZero(t(l(b,c)))}).y0(function(b,c){return a.utils.NaNtoZero(u(m(b,c)))}).y1(function(a,b){return u(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[b.values])}),C.exit().selectAll("path.nv-area").remove(),D.watchTransition(v,"line: areaPaths").attr("d",function(b){return d3.svg.area().interpolate(q).defined(n).x(function(b,d){return a.utils.NaNtoZero(c(l(b,d)))}).y0(function(b,c){return a.utils.NaNtoZero(d(m(b,c)))}).y1(function(a,b){return d(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[b.values])});var E=C.selectAll("path.nv-line").data(function(a){return[a.values]});E.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(q).defined(n).x(function(b,c){return a.utils.NaNtoZero(t(l(b,c)))}).y(function(b,c){return a.utils.NaNtoZero(u(m(b,c)))})),E.watchTransition(v,"line: linePaths").attr("d",d3.svg.line().interpolate(q).defined(n).x(function(b,d){return a.utils.NaNtoZero(c(l(b,d)))}).y(function(b,c){return a.utils.NaNtoZero(d(m(b,c)))})),t=c.copy(),u=d.copy()}),v.renderEnd("line immediate"),b}var c,d,e=a.models.scatter(),f={top:0,right:0,bottom:0,left:0},g=960,h=500,i=null,j=1.5,k=a.utils.defaultColor(),l=function(a){return a.x},m=function(a){return a.y},n=function(a,b){return!isNaN(m(a,b))&&null!==m(a,b)},o=function(a){return a.area},p=!1,q="linear",r=250,s=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");e.pointSize(16).pointDomain([16,256]);var t,u,v=a.utils.renderWatch(s,r);return b.dispatch=s,b.scatter=e,e.dispatch.on("elementClick",function(){s.elementClick.apply(this,arguments)}),e.dispatch.on("elementMouseover",function(){s.elementMouseover.apply(this,arguments)}),e.dispatch.on("elementMouseout",function(){s.elementMouseout.apply(this,arguments)}),b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},defined:{get:function(){return n},set:function(a){n=a}},interpolate:{get:function(){return q},set:function(a){q=a}},clipEdge:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return r},set:function(a){r=a,v.reset(r),e.duration(r)}},isArea:{get:function(){return o},set:function(a){o=d3.functor(a)}},x:{get:function(){return l},set:function(a){l=a,e.x(a)}},y:{get:function(){return m},set:function(a){m=a,e.y(a)}},color:{get:function(){return k},set:function(b){k=a.utils.getColor(b),e.color(k)}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.lineChart=function(){"use strict";function b(j){return C.reset(),C.models(e),s&&C.models(f),t&&C.models(g),j.each(function(j){function z(){s&&M.select(".nv-focus .nv-x.nv-axis").transition().duration(B).call(f)}function C(){t&&M.select(".nv-focus .nv-y.nv-axis").transition().duration(B).call(g)}function F(a){var b=M.select(".nv-focus .nv-linesWrap").datum(j.filter(function(a){return!a.disabled}).map(function(b,c){return{key:b.key,area:b.area,classed:b.classed,values:b.values.filter(function(b,c){return e.x()(b,c)>=a[0]&&e.x()(b,c)<=a[1]}),disableTooltip:b.disableTooltip}}));b.transition().duration(B).call(e),z(),C()}var G=d3.select(this);a.utils.initSVG(G);var H=a.utils.availableWidth(o,G,l),I=a.utils.availableHeight(p,G,l)-(w?k.height():0);if(b.update=function(){0===B?G.call(b):G.transition().duration(B).call(b)},b.container=this,x.setter(E(j),b.update).getter(D(j)).update(),x.disabled=j.map(function(a){return!!a.disabled}),!y){var J;y={};for(J in x)x[J]instanceof Array?y[J]=x[J].slice(0):y[J]=x[J]}if(!(j&&j.length&&j.filter(function(a){return a.values.length}).length))return a.utils.noData(b,G),b;G.selectAll(".nv-noData").remove(),k.dispatch.on("onBrush",function(a){F(a)}),c=e.xScale(),d=e.yScale();var K=G.selectAll("g.nv-wrap.nv-lineChart").data([j]),L=K.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),M=K.select("g");L.append("g").attr("class","nv-legendWrap");var N=L.append("g").attr("class","nv-focus");N.append("g").attr("class","nv-background").append("rect"),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-linesWrap"),N.append("g").attr("class","nv-interactive");L.append("g").attr("class","nv-focusWrap");q?(h.width(H),M.select(".nv-legendWrap").datum(j).call(h),"bottom"===r?K.select(".nv-legendWrap").attr("transform","translate(0,"+I+")"):"top"===r&&(m||h.height()===l.top||(l.top=h.height(),I=a.utils.availableHeight(p,G,l)-(w?k.height():0)),K.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")"))):M.select(".nv-legendWrap").selectAll("*").remove(),K.attr("transform","translate("+l.left+","+l.top+")"),u&&M.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)"),v&&(i.width(H).height(I).margin({left:l.left,top:l.top}).svgContainer(G).xScale(c),K.select(".nv-interactive").call(i)),M.select(".nv-focus .nv-background rect").attr("width",H).attr("height",I),e.width(H).height(I).color(j.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!j[b].disabled}));var O=M.select(".nv-linesWrap").datum(j.filter(function(a){return!a.disabled}));if(s&&f.scale(c)._ticks(a.utils.calcTicksX(H/100,j)).tickSize(-I,0),t&&g.scale(d)._ticks(a.utils.calcTicksY(I/36,j)).tickSize(-H,0),M.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")"),w){k.width(H),M.select(".nv-focusWrap").attr("transform","translate(0,"+(I+l.bottom+k.margin().top)+")").datum(j.filter(function(a){return!a.disabled})).call(k);var P=k.brush.empty()?k.xDomain():k.brush.extent();null!==P&&F(P)}else O.call(e),z(),C();h.dispatch.on("stateChange",function(a){for(var c in a)x[c]=a[c];A.stateChange(x),b.update()}),i.dispatch.on("elementMousemove",function(d){e.clearHighlights();var f,h,l,m=[];if(j.filter(function(a,b){return a.seriesIndex=b,!a.disabled&&!a.disableTooltip}).forEach(function(g,i){var j=w?k.brush.empty()?k.xScale().domain():k.brush.extent():c.domain(),o=g.values.filter(function(a,b){return j[0]<=j[1]?e.x()(a,b)>=j[0]&&e.x()(a,b)<=j[1]:e.x()(a,b)>=j[1]&&e.x()(a,b)<=j[0]});h=a.interactiveBisect(o,d.pointXValue,e.x());var p=o[h],q=b.y()(p,h);null!==q&&e.highlightPoint(i,h,!0),void 0!==p&&(void 0===f&&(f=p),void 0===l&&(l=b.xScale()(b.x()(p,h))),m.push({key:g.key,value:q,color:n(g,g.seriesIndex),data:p}))}),m.length>2){var o=b.yScale().invert(d.mouseY),p=Math.abs(b.yScale().domain()[0]-b.yScale().domain()[1]),q=.03*p,r=a.nearestValueIndex(m.map(function(a){return a.value}),o,q);null!==r&&(m[r].highlight=!0)}var s=function(a,b){return null==a?"N/A":g.tickFormat()(a)};i.tooltip.valueFormatter(i.tooltip.valueFormatter()||s).data({value:b.x()(f,h),index:h,series:m})(),i.renderGuideLine(l)}),i.dispatch.on("elementClick",function(c){var d,f=[];j.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(e){var g=a.interactiveBisect(e.values,c.pointXValue,b.x()),h=e.values[g];if("undefined"!=typeof h){"undefined"==typeof d&&(d=b.xScale()(b.x()(h,g)));var i=b.yScale()(b.y()(h,g));f.push({point:h,pointIndex:g,pos:[d,i],seriesIndex:e.seriesIndex,series:e})}}),e.dispatch.elementClick(f)}),i.dispatch.on("elementMouseout",function(a){e.clearHighlights()}),A.on("changeState",function(a){"undefined"!=typeof a.disabled&&j.length===a.disabled.length&&(j.forEach(function(b,c){b.disabled=a.disabled[c]}),x.disabled=a.disabled),b.update()})}),C.renderEnd("lineChart immediate"),b}var c,d,e=a.models.line(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend(),i=a.interactiveGuideline(),j=a.models.tooltip(),k=a.models.focus(a.models.line()),l={top:30,right:20,bottom:50,left:60},m=null,n=a.utils.defaultColor(),o=null,p=null,q=!0,r="top",s=!0,t=!0,u=!1,v=!1,w=!1,x=a.utils.state(),y=null,z=null,A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),B=250;f.orient("bottom").tickPadding(7),g.orient(u?"right":"left"),e.clipEdge(!0).duration(0),j.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),i.tooltip.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)});var C=a.utils.renderWatch(A,B),D=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},E=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return e.dispatch.on("elementMouseover.tooltip",function(a){a.series.disableTooltip||j.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),b.dispatch=A,b.lines=e,b.legend=h,b.focus=k,b.xAxis=f,b.x2Axis=k.xAxis,b.yAxis=g,b.y2Axis=k.yAxis,b.interactiveLayer=i,b.tooltip=j,b.state=x,b.dispatch=A,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return q},set:function(a){q=a}},legendPosition:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return z},set:function(a){z=a}},focusEnable:{get:function(){return w},set:function(a){w=a}},focusHeight:{get:function(){return k.height()},set:function(a){k.height(a)}},focusShowAxisX:{get:function(){return k.showXAxis()},set:function(a){k.showXAxis(a)}},focusShowAxisY:{get:function(){return k.showYAxis()},set:function(a){k.showYAxis(a)}},brushExtent:{get:function(){return k.brushExtent()},set:function(a){k.brushExtent(a)}},focusMargin:{get:function(){return k.margin},set:function(a){void 0!==a.top&&(l.top=a.top,m=a.top),k.margin.right=void 0!==a.right?a.right:k.margin.right,k.margin.bottom=void 0!==a.bottom?a.bottom:k.margin.bottom,k.margin.left=void 0!==a.left?a.left:k.margin.left}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return B},set:function(a){B=a,C.reset(B),e.duration(B),k.duration(B),f.duration(B),g.duration(B)}},color:{get:function(){return n},set:function(b){n=a.utils.getColor(b),h.color(n),e.color(n),k.color(n)}},interpolate:{get:function(){return e.interpolate()},set:function(a){e.interpolate(a),k.interpolate(a)}},xTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a),k.xTickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a),k.yTickFormat(a)}},x:{get:function(){return e.x()},set:function(a){e.x(a),k.x(a)}},y:{get:function(){return e.y()},set:function(a){e.y(a),k.y(a)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,g.orient(u?"right":"left")}},useInteractiveGuideline:{get:function(){return v},set:function(a){v=a,v&&(e.interactive(!1),e.useVoronoi(!1))}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.lineWithFocusChart=function(){return a.models.lineChart().margin({bottom:30}).focusEnable(!0)},a.models.linePlusBarChart=function(){"use strict";function b(v){return v.each(function(v){function K(a){var b=+("e"==a),c=b?1:-1,d=$/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function S(){u.empty()||u.extent(J),na.data([u.empty()?e.domain():J]).each(function(a,b){var c=e(a[0])-e.range()[0],d=e.range()[1]-e(a[1]);d3.select(this).select(".left").attr("width",0>c?0:c),d3.select(this).select(".right").attr("x",e(a[1])).attr("width",0>d?0:d)})}function T(){J=u.empty()?null:u.extent(),c=u.empty()?e.domain():u.extent(),L.brush({extent:c,brush:u}),S(),l.width(Y).height(Z).color(v.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!v[b].disabled&&v[b].bar})),j.width(Y).height(Z).color(v.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!v[b].disabled&&!v[b].bar}));var b=ga.select(".nv-focus .nv-barsWrap").datum(aa.length?aa.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return l.x()(a,b)>=c[0]&&l.x()(a,b)<=c[1]})}}):[{values:[]}]),h=ga.select(".nv-focus .nv-linesWrap").datum(W(ba)?[{values:[]}]:ba.filter(function(a){return!a.disabled}).map(function(a,b){return{area:a.area,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,key:a.key,values:a.values.filter(function(a,b){return j.x()(a,b)>=c[0]&&j.x()(a,b)<=c[1]})}}));d=aa.length&&!R?l.xScale():j.xScale(),n.scale(d)._ticks(a.utils.calcTicksX(Y/100,v)).tickSize(-Z,0),n.domain([Math.ceil(c[0]),Math.floor(c[1])]),ga.select(".nv-x.nv-axis").transition().duration(M).call(n),b.transition().duration(M).call(l),h.transition().duration(M).call(j),ga.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),p.scale(f)._ticks(a.utils.calcTicksY(Z/36,v)).tickSize(-Y,0),q.scale(g)._ticks(a.utils.calcTicksY(Z/36,v)),R?q.tickSize(ba.length?0:-Y,0):q.tickSize(aa.length?0:-Y,0);var i=aa.length?1:0,k=ba.length&&!W(ba)?1:0,m=R?k:i,o=R?i:k;ga.select(".nv-focus .nv-y1.nv-axis").style("opacity",m),ga.select(".nv-focus .nv-y2.nv-axis").style("opacity",o).attr("transform","translate("+d.range()[1]+",0)"),ga.select(".nv-focus .nv-y1.nv-axis").transition().duration(M).call(p),ga.select(".nv-focus .nv-y2.nv-axis").transition().duration(M).call(q)}var X=d3.select(this);a.utils.initSVG(X);var Y=a.utils.availableWidth(z,X,w),Z=a.utils.availableHeight(A,X,w)-(F?I:0),$=I-y.top-y.bottom;if(b.update=function(){X.transition().duration(M).call(b)},b.container=this,N.setter(V(v),b.update).getter(U(v)).update(),N.disabled=v.map(function(a){return!!a.disabled}),!O){var _;O={};for(_ in N)N[_]instanceof Array?O[_]=N[_].slice(0):O[_]=N[_]}if(!(v&&v.length&&v.filter(function(a){return a.values.length}).length))return a.utils.noData(b,X),b;X.selectAll(".nv-noData").remove();var aa=v.filter(function(a){return!a.disabled&&a.bar}),ba=v.filter(function(a){return!a.bar});d=aa.length&&!R?l.xScale():j.xScale(),e=o.scale(),f=R?j.yScale():l.yScale(),g=R?l.yScale():j.yScale(),h=R?k.yScale():m.yScale(),i=R?m.yScale():k.yScale();var ca=v.filter(function(a){return!a.disabled&&(R?!a.bar:a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:B(a,b),y:C(a,b)}})}),da=v.filter(function(a){return!a.disabled&&(R?a.bar:!a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:B(a,b),y:C(a,b)}})});d.range([0,Y]),e.domain(d3.extent(d3.merge(ca.concat(da)),function(a){return a.x})).range([0,Y]);var ea=X.selectAll("g.nv-wrap.nv-linePlusBar").data([v]),fa=ea.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ga=ea.select("g");fa.append("g").attr("class","nv-legendWrap");var ha=fa.append("g").attr("class","nv-focus");ha.append("g").attr("class","nv-x nv-axis"),ha.append("g").attr("class","nv-y1 nv-axis"),ha.append("g").attr("class","nv-y2 nv-axis"),ha.append("g").attr("class","nv-barsWrap"),ha.append("g").attr("class","nv-linesWrap");var ia=fa.append("g").attr("class","nv-context");if(ia.append("g").attr("class","nv-x nv-axis"),ia.append("g").attr("class","nv-y1 nv-axis"),ia.append("g").attr("class","nv-y2 nv-axis"),ia.append("g").attr("class","nv-barsWrap"),ia.append("g").attr("class","nv-linesWrap"),ia.append("g").attr("class","nv-brushBackground"),ia.append("g").attr("class","nv-x nv-brush"),E){var ja=t.align()?Y/2:Y,ka=t.align()?ja:0;t.width(ja),ga.select(".nv-legendWrap").datum(v.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,R?a.key=a.originalKey+(a.bar?Q:P):a.key=a.originalKey+(a.bar?P:Q),a})).call(t),x||t.height()===w.top||(w.top=t.height(),Z=a.utils.availableHeight(A,X,w)-I),ga.select(".nv-legendWrap").attr("transform","translate("+ka+","+-w.top+")")}else ga.select(".nv-legendWrap").selectAll("*").remove();ea.attr("transform","translate("+w.left+","+w.top+")"),ga.select(".nv-context").style("display",F?"initial":"none"),m.width(Y).height($).color(v.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!v[b].disabled&&v[b].bar})),k.width(Y).height($).color(v.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!v[b].disabled&&!v[b].bar}));var la=ga.select(".nv-context .nv-barsWrap").datum(aa.length?aa:[{values:[]}]),ma=ga.select(".nv-context .nv-linesWrap").datum(W(ba)?[{values:[]}]:ba.filter(function(a){return!a.disabled}));ga.select(".nv-context").attr("transform","translate(0,"+(Z+w.bottom+y.top)+")"),la.transition().call(m),ma.transition().call(k),H&&(o._ticks(a.utils.calcTicksX(Y/100,v)).tickSize(-$,0),ga.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")"),ga.select(".nv-context .nv-x.nv-axis").transition().call(o)),G&&(r.scale(h)._ticks($/36).tickSize(-Y,0),s.scale(i)._ticks($/36).tickSize(aa.length?0:-Y,0),ga.select(".nv-context .nv-y3.nv-axis").style("opacity",aa.length?1:0).attr("transform","translate(0,"+e.range()[0]+")"),ga.select(".nv-context .nv-y2.nv-axis").style("opacity",ba.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),ga.select(".nv-context .nv-y1.nv-axis").transition().call(r),ga.select(".nv-context .nv-y2.nv-axis").transition().call(s)),u.x(e).on("brush",T),J&&u.extent(J);var na=ga.select(".nv-brushBackground").selectAll("g").data([J||u.extent()]),oa=na.enter().append("g");oa.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",$),oa.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",$);var pa=ga.select(".nv-x.nv-brush").call(u);pa.selectAll("rect").attr("height",$),pa.selectAll(".resize").append("path").attr("d",K),t.dispatch.on("stateChange",function(a){for(var c in a)N[c]=a[c];L.stateChange(N),b.update()}),L.on("changeState",function(a){"undefined"!=typeof a.disabled&&(v.forEach(function(b,c){b.disabled=a.disabled[c]}),N.disabled=a.disabled),b.update()}),T()}),b}var c,d,e,f,g,h,i,j=a.models.line(),k=a.models.line(),l=a.models.historicalBar(),m=a.models.historicalBar(),n=a.models.axis(),o=a.models.axis(),p=a.models.axis(),q=a.models.axis(),r=a.models.axis(),s=a.models.axis(),t=a.models.legend(),u=d3.svg.brush(),v=a.models.tooltip(),w={top:30,right:30,bottom:30,left:60},x=null,y={top:0,right:30,bottom:20,left:60},z=null,A=null,B=function(a){return a.x},C=function(a){return a.y},D=a.utils.defaultColor(),E=!0,F=!0,G=!1,H=!0,I=50,J=null,K=null,L=d3.dispatch("brush","stateChange","changeState"),M=0,N=a.utils.state(),O=null,P=" (left axis)",Q=" (right axis)",R=!1;j.clipEdge(!0),k.interactive(!1),k.pointActive(function(a){return!1}),n.orient("bottom").tickPadding(5),p.orient("left"),q.orient("right"),o.orient("bottom").tickPadding(5),r.orient("left"),s.orient("right"),v.headerEnabled(!0).headerFormatter(function(a,b){return n.tickFormat()(a,b)});var S=function(){return R?{main:q,focus:s}:{main:p,focus:r}},T=function(){return R?{main:p,focus:r}:{main:q,focus:s}},U=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},V=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},W=function(a){return a.every(function(a){return a.disabled})};return j.dispatch.on("elementMouseover.tooltip",function(a){v.duration(100).valueFormatter(function(a,b){return T().main.tickFormat()(a,b)}).data(a).hidden(!1)}),j.dispatch.on("elementMouseout.tooltip",function(a){v.hidden(!0)}),l.dispatch.on("elementMouseover.tooltip",function(a){a.value=b.x()(a.data),a.series={value:b.y()(a.data),color:a.color},v.duration(0).valueFormatter(function(a,b){return S().main.tickFormat()(a,b)}).data(a).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(a){v.hidden(!0)}),l.dispatch.on("elementMousemove.tooltip",function(a){v()}),b.dispatch=L,b.legend=t,b.lines=j,b.lines2=k,b.bars=l,b.bars2=m,b.xAxis=n,b.x2Axis=o,b.y1Axis=p,b.y2Axis=q,b.y3Axis=r,b.y4Axis=s,b.tooltip=v,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return z},set:function(a){z=a}},height:{get:function(){return A},set:function(a){A=a}},showLegend:{get:function(){return E},set:function(a){E=a}},brushExtent:{get:function(){return J},set:function(a){J=a}},noData:{get:function(){return K},set:function(a){K=a}},focusEnable:{get:function(){return F},set:function(a){F=a}},focusHeight:{get:function(){return I},set:function(a){I=a}},focusShowAxisX:{get:function(){return H},set:function(a){H=a}},focusShowAxisY:{get:function(){return G},set:function(a){G=a}},legendLeftAxisHint:{get:function(){return P},set:function(a){P=a}},legendRightAxisHint:{get:function(){return Q},set:function(a){Q=a}},margin:{get:function(){return w},set:function(a){void 0!==a.top&&(w.top=a.top,x=a.top),w.right=void 0!==a.right?a.right:w.right,w.bottom=void 0!==a.bottom?a.bottom:w.bottom,w.left=void 0!==a.left?a.left:w.left}},focusMargin:{get:function(){return y},set:function(a){y.top=void 0!==a.top?a.top:y.top,y.right=void 0!==a.right?a.right:y.right,y.bottom=void 0!==a.bottom?a.bottom:y.bottom,y.left=void 0!==a.left?a.left:y.left}},duration:{get:function(){return M},set:function(a){M=a}},color:{get:function(){return D},set:function(b){D=a.utils.getColor(b),t.color(D)}},x:{get:function(){return B},set:function(a){B=a,j.x(a),k.x(a),l.x(a),m.x(a)}},y:{get:function(){return C},set:function(a){C=a,j.y(a),k.y(a),l.y(a),m.y(a)}},switchYAxisOrder:{get:function(){return R},set:function(a){if(R!==a){var b=p;p=q,q=b;var c=r;r=s,s=c}R=a,p.orient("left"),q.orient("right"),r.orient("left"),s.orient("right")}}}),a.utils.inheritOptions(b,j),a.utils.initOptions(b),b},a.models.multiBar=function(){"use strict";function b(F){return D.reset(),F.each(function(b){var F=k-j.left-j.right,G=l-j.top-j.bottom;p=d3.select(this),a.utils.initSVG(p);var H=0;if(x&&b.length&&(x=[{values:b[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]),u){var I=d3.layout.stack().offset(v).values(function(a){return a.values}).y(r)(!b.length&&x?x:b);I.forEach(function(a,c){a.nonStackable?(b[c].nonStackableSeries=H++,I[c]=b[c]):c>0&&I[c-1].nonStackable&&I[c].values.map(function(a,b){a.y0-=I[c-1].values[b].y,a.y1=a.y0+a.y})}),b=I}b.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),u&&b.length>0&&b[0].values.map(function(a,c){var d=0,e=0;b.map(function(a,f){if(!b[f].nonStackable){var g=a.values[c];g.size=Math.abs(g.y),g.y<0?(g.y1=e,e-=g.size):(g.y1=g.size+d,d+=g.size)}})});var J=d&&e?[]:b.map(function(a,b){return a.values.map(function(a,c){return{x:q(a,c),y:r(a,c),y0:a.y0,y1:a.y1,idx:b}})});m.domain(d||d3.merge(J).map(function(a){return a.x})).rangeBands(f||[0,F],A),n.domain(e||d3.extent(d3.merge(J).map(function(a){var c=a.y;return u&&!b[a.idx].nonStackable&&(c=a.y>0?a.y1:a.y1+a.y),c}).concat(s))).range(g||[G,0]),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]):n.domain([-1,1])),h=h||m,i=i||n;var K=p.selectAll("g.nv-wrap.nv-multibar").data([b]),L=K.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),M=L.append("defs"),N=L.append("g"),O=K.select("g");N.append("g").attr("class","nv-groups"),K.attr("transform","translate("+j.left+","+j.top+")"),M.append("clipPath").attr("id","nv-edge-clip-"+o).append("rect"),K.select("#nv-edge-clip-"+o+" rect").attr("width",F).attr("height",G),O.attr("clip-path",t?"url(#nv-edge-clip-"+o+")":"");var P=K.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});P.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var Q=D.transition(P.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,z)).attr("y",function(a,c,d){var e=i(0)||0;return u&&b[a.series]&&!b[a.series].nonStackable&&(e=i(a.y0)),e}).attr("height",0).remove();Q.delay&&Q.delay(function(a,b){var c=b*(z/(E+1))-b;return c}),P.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return w(a,b)}).style("stroke",function(a,b){return w(a,b)}),P.style("stroke-opacity",1).style("fill-opacity",B);var R=P.selectAll("rect.nv-bar").data(function(a){return x&&!b.length?x.values:a.values});R.exit().remove();R.enter().append("rect").attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(a,c,d){return u&&!b[d].nonStackable?0:d*m.rangeBand()/b.length}).attr("y",function(a,c,d){return i(u&&!b[d].nonStackable?a.y0:0)||0}).attr("height",0).attr("width",function(a,c,d){return m.rangeBand()/(u&&!b[d].nonStackable?1:b.length)}).attr("transform",function(a,b){return"translate("+m(q(a,b))+",0)"});R.style("fill",function(a,b,c){return w(a,c,b)}).style("stroke",function(a,b,c){return w(a,c,b)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),C.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),C.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){C.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){var c=this;C.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}).on("dblclick",function(a,b){C.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),R.attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+m(q(a,b))+",0)"}),y&&(c||(c=b.map(function(){return!0})),R.style("fill",function(a,b,d){return d3.rgb(y(a,b)).darker(c.map(function(a,b){return b}).filter(function(a,b){return!c[b]})[d]).toString()}).style("stroke",function(a,b,d){return d3.rgb(y(a,b)).darker(c.map(function(a,b){return b}).filter(function(a,b){return!c[b]})[d]).toString()}));var S=R.watchTransition(D,"multibar",Math.min(250,z)).delay(function(a,c){return c*z/b[0].values.length});u?S.attr("y",function(a,c,d){var e=0;return e=b[d].nonStackable?r(a,c)<0?n(0):n(0)-n(r(a,c))<-1?n(0)-1:n(r(a,c))||0:n(a.y1)}).attr("height",function(a,c,d){return b[d].nonStackable?Math.max(Math.abs(n(r(a,c))-n(0)),0)||0:Math.max(Math.abs(n(a.y+a.y0)-n(a.y0)),0)}).attr("x",function(a,c,d){var e=0;return b[d].nonStackable&&(e=a.series*m.rangeBand()/b.length,b.length!==H&&(e=b[d].nonStackableSeries*m.rangeBand()/(2*H))),e}).attr("width",function(a,c,d){if(b[d].nonStackable){var e=m.rangeBand()/H;return b.length!==H&&(e=m.rangeBand()/(2*H)),e}return m.rangeBand()}):S.attr("x",function(a,c){return a.series*m.rangeBand()/b.length}).attr("width",m.rangeBand()/b.length).attr("y",function(a,b){return r(a,b)<0?n(0):n(0)-n(r(a,b))<1?n(0)-1:n(r(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(n(r(a,b))-n(0)),1)||0}),h=m.copy(),i=n.copy(),b[0]&&b[0].values&&(E=b[0].values.length)}),D.renderEnd("multibar immediate"),b}var c,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=d3.scale.ordinal(),n=d3.scale.linear(),o=Math.floor(1e4*Math.random()),p=null,q=function(a){return a.x},r=function(a){return a.y},s=[0],t=!0,u=!1,v="zero",w=a.utils.defaultColor(),x=!1,y=null,z=500,A=.1,B=.75,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=a.utils.renderWatch(C,z),E=0;return b.dispatch=C,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return q},set:function(a){q=a}},y:{get:function(){return r},set:function(a){r=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceY:{get:function(){return s},set:function(a){s=a}},stacked:{get:function(){return u},set:function(a){u=a}},stackOffset:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},disabled:{get:function(){return c},set:function(a){c=a}},id:{get:function(){return o},set:function(a){o=a}},hideable:{get:function(){return x},set:function(a){x=a}},groupSpacing:{get:function(){return A},set:function(a){A=a}},fillOpacity:{get:function(){return B},set:function(a){B=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return z},set:function(a){z=a,D.reset(z)}},color:{get:function(){return w},set:function(b){w=a.utils.getColor(b)}},barColor:{get:function(){return y},set:function(b){y=b?a.utils.getColor(b):null}}}),a.utils.initOptions(b),b},a.models.multiBarChart=function(){"use strict";function b(C){return H.reset(),H.models(e),t&&H.models(f),u&&H.models(g),C.each(function(C){var H=d3.select(this);a.utils.initSVG(H);var L=a.utils.availableWidth(n,H,l),M=a.utils.availableHeight(o,H,l);if(b.update=function(){0===F?H.call(b):H.transition().duration(F).call(b)},b.container=this,A.setter(K(C),b.update).getter(J(C)).update(),A.disabled=C.map(function(a){return!!a.disabled}),!B){var N;B={};for(N in A)A[N]instanceof Array?B[N]=A[N].slice(0):B[N]=A[N]}if(!(C&&C.length&&C.filter(function(a){return a.values.length}).length))return a.utils.noData(b,H),b;H.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale();var O=H.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([C]),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),Q=O.select("g");if(P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),P.append("g").attr("class","nv-interactive"),s?(i.width(L-E()),Q.select(".nv-legendWrap").datum(C).call(i),m||i.height()===l.top||(l.top=i.height(),M=a.utils.availableHeight(o,H,l)),Q.select(".nv-legendWrap").attr("transform","translate("+E()+","+-l.top+")")):Q.select(".nv-legendWrap").selectAll("*").remove(),q){var R=[{key:r.grouped||"Grouped",disabled:e.stacked()},{key:r.stacked||"Stacked",disabled:!e.stacked()}];j.width(E()).color(["#444","#444","#444"]),Q.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-l.top+")").call(j)}else Q.select(".nv-controlsWrap").selectAll("*").remove();O.attr("transform","translate("+l.left+","+l.top+")"),v&&Q.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),e.disabled(C.map(function(a){return a.disabled})).width(L).height(M).color(C.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!C[b].disabled}));var S=Q.select(".nv-barsWrap").datum(C.filter(function(a){return!a.disabled}));if(S.call(e),t){f.scale(c)._ticks(a.utils.calcTicksX(L/100,C)).tickSize(-M,0),
Q.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),Q.select(".nv-x.nv-axis").call(f);var T=Q.select(".nv-x.nv-axis > g").selectAll("g");if(T.selectAll("line, text").style("opacity",1),x){var U=function(a,b){return"translate("+a+","+b+")"},V=5,W=17;T.selectAll("text").attr("transform",function(a,b,c){return U(0,c%2==0?V:W)});var X=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;Q.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return U(0,0===b||X%2!==0?W:V)})}y&&Q.selectAll(".tick text").call(a.utils.wrapTicks,b.xAxis.rangeBand()),w&&T.filter(function(a,b){return b%Math.ceil(C[0].values.length/(L/100))!==0}).selectAll("text, line").style("opacity",0),z&&T.selectAll(".tick text").attr("transform","rotate("+z+" 0,0)").style("text-anchor",z>0?"start":"end"),Q.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}u&&(g.scale(d)._ticks(a.utils.calcTicksY(M/36,C)).tickSize(-L,0),Q.select(".nv-y.nv-axis").call(g)),G&&(h.width(L).height(M).margin({left:l.left,top:l.top}).svgContainer(H).xScale(c),O.select(".nv-interactive").call(h)),i.dispatch.on("stateChange",function(a){for(var c in a)A[c]=a[c];D.stateChange(A),b.update()}),j.dispatch.on("legendClick",function(a,c){if(a.disabled){switch(R=R.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":case r.grouped:e.stacked(!1);break;case"Stacked":case r.stacked:e.stacked(!0)}A.stacked=e.stacked(),D.stateChange(A),b.update()}}),D.on("changeState",function(a){"undefined"!=typeof a.disabled&&(C.forEach(function(b,c){b.disabled=a.disabled[c]}),A.disabled=a.disabled),"undefined"!=typeof a.stacked&&(e.stacked(a.stacked),A.stacked=a.stacked,I=a.stacked),b.update()}),G?(h.dispatch.on("elementMousemove",function(a){if(void 0!=a.pointXValue){var d,e,f,g,i=[];C.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(h,j){e=c.domain().indexOf(a.pointXValue);var k=h.values[e];void 0!==k&&(g=k.x,void 0===d&&(d=k),void 0===f&&(f=a.mouseX),i.push({key:h.key,value:b.y()(k,e),color:p(h,h.seriesIndex),data:h.values[e]}))}),h.tooltip.data({value:g,index:e,series:i})(),h.renderGuideLine(f)}}),h.dispatch.on("elementMouseout",function(a){h.tooltip.hidden(!0)})):(e.dispatch.on("elementMouseover.tooltip",function(a){a.value=b.x()(a.data),a.series={key:a.data.key,value:b.y()(a.data),color:a.color},k.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){k()}))}),H.renderEnd("multibarchart immediate"),b}var c,d,e=a.models.multiBar(),f=a.models.axis(),g=a.models.axis(),h=a.interactiveGuideline(),i=a.models.legend(),j=a.models.legend(),k=a.models.tooltip(),l={top:30,right:20,bottom:50,left:60},m=null,n=null,o=null,p=a.utils.defaultColor(),q=!0,r={},s=!0,t=!0,u=!0,v=!1,w=!0,x=!1,y=!1,z=0,A=a.utils.state(),B=null,C=null,D=d3.dispatch("stateChange","changeState","renderEnd"),E=function(){return q?180:0},F=250,G=!1;A.stacked=!1,e.stacked(!1),f.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a}),g.orient(v?"right":"left").tickFormat(d3.format(",.1f")),k.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),h.tooltip.valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),h.tooltip.valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),h.tooltip.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),j.updateState(!1);var H=a.utils.renderWatch(D),I=!1,J=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:I}}},K=function(a){return function(b){void 0!==b.stacked&&(I=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return b.dispatch=D,b.multibar=e,b.legend=i,b.controls=j,b.xAxis=f,b.yAxis=g,b.state=A,b.tooltip=k,b.interactiveLayer=h,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return s},set:function(a){s=a}},showControls:{get:function(){return q},set:function(a){q=a}},controlLabels:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return B},set:function(a){B=a}},noData:{get:function(){return C},set:function(a){C=a}},reduceXTicks:{get:function(){return w},set:function(a){w=a}},rotateLabels:{get:function(){return z},set:function(a){z=a}},staggerLabels:{get:function(){return x},set:function(a){x=a}},wrapLabels:{get:function(){return y},set:function(a){y=!!a}},margin:{get:function(){return l},set:function(a){void 0!==a.top&&(l.top=a.top,m=a.top),l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return F},set:function(a){F=a,e.duration(F),f.duration(F),g.duration(F),H.reset(F)}},color:{get:function(){return p},set:function(b){p=a.utils.getColor(b),i.color(p)}},rightAlignYAxis:{get:function(){return v},set:function(a){v=a,g.orient(v?"right":"left")}},useInteractiveGuideline:{get:function(){return G},set:function(a){G=a}},barColor:{get:function(){return e.barColor},set:function(a){e.barColor(a),i.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.multiBarHorizontal=function(){"use strict";function b(m){return F.reset(),m.each(function(b){var m=k-j.left-j.right,D=l-j.top-j.bottom;n=d3.select(this),a.utils.initSVG(n),w&&(b=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(r)(b)),b.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),w&&b[0].values.map(function(a,c){var d=0,e=0;b.map(function(a){var b=a.values[c];b.size=Math.abs(b.y),b.y<0?(b.y1=e-b.size,e-=b.size):(b.y1=d,d+=b.size)})});var G=d&&e?[]:b.map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:r(a,b),y0:a.y0,y1:a.y1}})});o.domain(d||d3.merge(G).map(function(a){return a.x})).rangeBands(f||[0,D],A),p.domain(e||d3.extent(d3.merge(G).map(function(a){return w?a.y>0?a.y1+a.y:a.y1:a.y}).concat(t))),x&&!w?p.range(g||[p.domain()[0]<0?z:0,m-(p.domain()[1]>0?z:0)]):p.range(g||[0,m]),h=h||o,i=i||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var H=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([b]),I=H.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),J=(I.append("defs"),I.append("g"));H.select("g");J.append("g").attr("class","nv-groups"),H.attr("transform","translate("+j.left+","+j.top+")");var K=H.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});K.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),K.exit().watchTransition(F,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),K.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return u(a,b)}).style("stroke",function(a,b){return u(a,b)}),K.watchTransition(F,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",B);var L=K.selectAll("g.nv-bar").data(function(a){return a.values});L.exit().remove();var M=L.enter().append("g").attr("transform",function(a,c,d){return"translate("+i(w?a.y0:0)+","+(w?0:d*o.rangeBand()/b.length+o(q(a,c)))+")"});M.append("rect").attr("width",0).attr("height",o.rangeBand()/(w?1:b.length)),L.on("mouseover",function(a,b){d3.select(this).classed("hover",!0),E.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),E.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){E.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){E.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){var c=this;E.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}).on("dblclick",function(a,b){E.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),s(b[0],0)&&(M.append("polyline"),L.select("polyline").attr("fill","none").attr("points",function(a,c){var d=s(a,c),e=.8*o.rangeBand()/(2*(w?1:b.length));d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return p(a)-p(0)});var f=[[d[0],-e],[d[0],e],[d[0],0],[d[1],0],[d[1],-e],[d[1],e]];return f.map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(a,c){var d=o.rangeBand()/(2*(w?1:b.length));return"translate("+(r(a,c)<0?0:p(r(a,c))-p(0))+", "+d+")"})),M.append("text"),x&&!w?(L.select("text").attr("text-anchor",function(a,b){return r(a,b)<0?"end":"start"}).attr("y",o.rangeBand()/(2*b.length)).attr("dy",".32em").text(function(a,b){var c=C(r(a,b)),d=s(a,b);return void 0===d?c:d.length?c+"+"+C(Math.abs(d[1]))+"-"+C(Math.abs(d[0])):c+"±"+C(Math.abs(d))}),L.watchTransition(F,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return r(a,b)<0?-4:p(r(a,b))-p(0)+4})):L.selectAll("text").text(""),y&&!w?(M.append("text").classed("nv-bar-label",!0),L.select("text.nv-bar-label").attr("text-anchor",function(a,b){return r(a,b)<0?"start":"end"}).attr("y",o.rangeBand()/(2*b.length)).attr("dy",".32em").text(function(a,b){return q(a,b)}),L.watchTransition(F,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return r(a,b)<0?p(0)-p(r(a,b))+4:-4})):L.selectAll("text.nv-bar-label").text(""),L.attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}),v&&(c||(c=b.map(function(){return!0})),L.style("fill",function(a,b,d){return d3.rgb(v(a,b)).darker(c.map(function(a,b){return b}).filter(function(a,b){return!c[b]})[d]).toString()}).style("stroke",function(a,b,d){return d3.rgb(v(a,b)).darker(c.map(function(a,b){return b}).filter(function(a,b){return!c[b]})[d]).toString()})),w?L.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+p(a.y1)+","+o(q(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(p(r(a,b)+a.y0)-p(a.y0))||0}).attr("height",o.rangeBand()):L.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(a,c){return"translate("+p(r(a,c)<0?r(a,c):0)+","+(a.series*o.rangeBand()/b.length+o(q(a,c)))+")"}).select("rect").attr("height",o.rangeBand()/b.length).attr("width",function(a,b){return Math.max(Math.abs(p(r(a,b))-p(0)),1)||0}),h=o.copy(),i=p.copy()}),F.renderEnd("multibarHorizontal immediate"),b}var c,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=Math.floor(1e4*Math.random()),n=null,o=d3.scale.ordinal(),p=d3.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=function(a){return a.yErr},t=[0],u=a.utils.defaultColor(),v=null,w=!1,x=!1,y=!1,z=60,A=.1,B=.75,C=d3.format(",.2f"),D=250,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=a.utils.renderWatch(E,D);return b.dispatch=E,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return q},set:function(a){q=a}},y:{get:function(){return r},set:function(a){r=a}},yErr:{get:function(){return s},set:function(a){s=a}},xScale:{get:function(){return o},set:function(a){o=a}},yScale:{get:function(){return p},set:function(a){p=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceY:{get:function(){return t},set:function(a){t=a}},stacked:{get:function(){return w},set:function(a){w=a}},showValues:{get:function(){return x},set:function(a){x=a}},disabled:{get:function(){return c},set:function(a){c=a}},id:{get:function(){return m},set:function(a){m=a}},valueFormat:{get:function(){return C},set:function(a){C=a}},valuePadding:{get:function(){return z},set:function(a){z=a}},groupSpacing:{get:function(){return A},set:function(a){A=a}},fillOpacity:{get:function(){return B},set:function(a){B=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return D},set:function(a){D=a,F.reset(D)}},color:{get:function(){return u},set:function(b){u=a.utils.getColor(b)}},barColor:{get:function(){return v},set:function(b){v=b?a.utils.getColor(b):null}}}),a.utils.initOptions(b),b},a.models.multiBarHorizontalChart=function(){"use strict";function b(j){return D.reset(),D.models(e),s&&D.models(f),t&&D.models(g),j.each(function(j){var x=d3.select(this);a.utils.initSVG(x);var D=a.utils.availableWidth(m,x,k),E=a.utils.availableHeight(n,x,k);if(b.update=function(){x.transition().duration(A).call(b)},b.container=this,u=e.stacked(),v.setter(C(j),b.update).getter(B(j)).update(),v.disabled=j.map(function(a){return!!a.disabled}),!w){var F;w={};for(F in v)v[F]instanceof Array?w[F]=v[F].slice(0):w[F]=v[F]}if(!(j&&j.length&&j.filter(function(a){return a.values.length}).length))return a.utils.noData(b,x),b;x.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale().clamp(!0);var G=x.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([j]),H=G.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),I=G.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),r?(h.width(D-z()),I.select(".nv-legendWrap").datum(j).call(h),l||h.height()===k.top||(k.top=h.height(),E=a.utils.availableHeight(n,x,k)),I.select(".nv-legendWrap").attr("transform","translate("+z()+","+-k.top+")")):I.select(".nv-legendWrap").selectAll("*").remove(),p){var J=[{key:q.grouped||"Grouped",disabled:e.stacked()},{key:q.stacked||"Stacked",disabled:!e.stacked()}];i.width(z()).color(["#444","#444","#444"]),I.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-k.top+")").call(i)}else I.select(".nv-controlsWrap").selectAll("*").remove();G.attr("transform","translate("+k.left+","+k.top+")"),e.disabled(j.map(function(a){return a.disabled})).width(D).height(E).color(j.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!j[b].disabled}));var K=I.select(".nv-barsWrap").datum(j.filter(function(a){return!a.disabled}));if(K.transition().call(e),s){f.scale(c)._ticks(a.utils.calcTicksY(E/24,j)).tickSize(-D,0),I.select(".nv-x.nv-axis").call(f);var L=I.select(".nv-x.nv-axis").selectAll("g");L.selectAll("line, text")}t&&(g.scale(d)._ticks(a.utils.calcTicksX(D/100,j)).tickSize(-E,0),I.select(".nv-y.nv-axis").attr("transform","translate(0,"+E+")"),I.select(".nv-y.nv-axis").call(g)),I.select(".nv-zeroLine line").attr("x1",d(0)).attr("x2",d(0)).attr("y1",0).attr("y2",-E),h.dispatch.on("stateChange",function(a){for(var c in a)v[c]=a[c];y.stateChange(v),b.update()}),i.dispatch.on("legendClick",function(a,c){if(a.disabled){switch(J=J.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":case q.grouped:e.stacked(!1);break;case"Stacked":case q.stacked:e.stacked(!0)}v.stacked=e.stacked(),y.stateChange(v),u=e.stacked(),b.update()}}),y.on("changeState",function(a){"undefined"!=typeof a.disabled&&(j.forEach(function(b,c){b.disabled=a.disabled[c]}),v.disabled=a.disabled),"undefined"!=typeof a.stacked&&(e.stacked(a.stacked),v.stacked=a.stacked,u=a.stacked),b.update()})}),D.renderEnd("multibar horizontal chart immediate"),b}var c,d,e=a.models.multiBarHorizontal(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend().height(30),i=a.models.legend().height(30),j=a.models.tooltip(),k={top:30,right:20,bottom:50,left:60},l=null,m=null,n=null,o=a.utils.defaultColor(),p=!0,q={},r=!0,s=!0,t=!0,u=!1,v=a.utils.state(),w=null,x=null,y=d3.dispatch("stateChange","changeState","renderEnd"),z=function(){return p?180:0},A=250;v.stacked=!1,e.stacked(u),f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a}),g.orient("bottom").tickFormat(d3.format(",.1f")),j.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),i.updateState(!1);var B=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:u}}},C=function(a){return function(b){void 0!==b.stacked&&(u=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},D=a.utils.renderWatch(y,A);return e.dispatch.on("elementMouseover.tooltip",function(a){a.value=b.x()(a.data),a.series={key:a.data.key,value:b.y()(a.data),color:a.color},j.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){j()}),b.dispatch=y,b.multibar=e,b.legend=h,b.controls=i,b.xAxis=f,b.yAxis=g,b.state=v,b.tooltip=j,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return k},set:function(a){void 0!==a.top&&(k.top=a.top,l=a.top),k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return A},set:function(a){A=a,D.reset(A),e.duration(A),f.duration(A),g.duration(A)}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b),h.color(o)}},barColor:{get:function(){return e.barColor},set:function(a){e.barColor(a),h.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.multiChart=function(){"use strict";function b(k){return k.each(function(k){function o(a){var b=2===k[a.seriesIndex].yAxis?G:F;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},I.duration(0).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function s(a){var b=2===k[a.seriesIndex].yAxis?G:F;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},I.duration(100).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function J(a){var b=2===k[a.seriesIndex].yAxis?G:F;a.point.x=C.x()(a.point),a.point.y=C.y()(a.point),I.duration(0).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function L(a){var b=2===k[a.data.series].yAxis?G:F;a.value=A.x()(a.data),a.series={value:A.y()(a.data),color:a.color,key:a.data.key},I.duration(0).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function M(){for(var a=0,b=K.length;b>a;a++){var c=K[a];try{c.clearHighlights()}catch(d){}}}function N(a,b,c){for(var d=0,e=K.length;e>d;d++){var f=K[d];try{f.highlightPoint(a,b,c)}catch(g){}}}var O=d3.select(this);a.utils.initSVG(O),b.update=function(){O.transition().call(b)},b.container=this;var P=a.utils.availableWidth(h,O,e),Q=a.utils.availableHeight(i,O,e),R=k.filter(function(a){return"line"==a.type&&1==a.yAxis}),S=k.filter(function(a){return"line"==a.type&&2==a.yAxis}),T=k.filter(function(a){return"scatter"==a.type&&1==a.yAxis}),U=k.filter(function(a){return"scatter"==a.type&&2==a.yAxis}),V=k.filter(function(a){return"bar"==a.type&&1==a.yAxis}),W=k.filter(function(a){return"bar"==a.type&&2==a.yAxis}),X=k.filter(function(a){return"area"==a.type&&1==a.yAxis}),Y=k.filter(function(a){return"area"==a.type&&2==a.yAxis});if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return a.utils.noData(b,O),b;O.selectAll(".nv-noData").remove();var Z=k.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:l(a),y:m(a)}})}),$=k.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:l(a),y:m(a)}})});t.domain(d3.extent(d3.merge(Z.concat($)),function(a){return a.x})).range([0,P]);var _=O.selectAll("g.wrap.multiChart").data([k]),aa=_.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");aa.append("g").attr("class","nv-x nv-axis"),aa.append("g").attr("class","nv-y1 nv-axis"),aa.append("g").attr("class","nv-y2 nv-axis"),aa.append("g").attr("class","stack1Wrap"),aa.append("g").attr("class","stack2Wrap"),aa.append("g").attr("class","bars1Wrap"),aa.append("g").attr("class","bars2Wrap"),aa.append("g").attr("class","scatters1Wrap"),aa.append("g").attr("class","scatters2Wrap"),aa.append("g").attr("class","lines1Wrap"),aa.append("g").attr("class","lines2Wrap"),aa.append("g").attr("class","legendWrap"),aa.append("g").attr("class","nv-interactive");var ba=_.select("g"),ca=k.map(function(a,b){return k[b].color||g(a,b)});if(j){var da=H.align()?P/2:P,ea=H.align()?da:0;H.width(da),H.color(ca),ba.select(".legendWrap").datum(k.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=a.originalKey+(1==a.yAxis?"":r),a})).call(H),f||H.height()===e.top||(e.top=H.height(),Q=a.utils.availableHeight(i,O,e)),ba.select(".legendWrap").attr("transform","translate("+ea+","+-e.top+")")}else ba.select(".legendWrap").selectAll("*").remove();w.width(P).height(Q).interpolate(n).color(ca.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"line"==k[b].type})),x.width(P).height(Q).interpolate(n).color(ca.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"line"==k[b].type})),y.width(P).height(Q).color(ca.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"scatter"==k[b].type})),z.width(P).height(Q).color(ca.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"scatter"==k[b].type})),A.width(P).height(Q).color(ca.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"bar"==k[b].type})),B.width(P).height(Q).color(ca.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"bar"==k[b].type})),C.width(P).height(Q).interpolate(n).color(ca.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"area"==k[b].type})),D.width(P).height(Q).interpolate(n).color(ca.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"area"==k[b].type})),ba.attr("transform","translate("+e.left+","+e.top+")");var fa=ba.select(".lines1Wrap").datum(R.filter(function(a){return!a.disabled})),ga=ba.select(".scatters1Wrap").datum(T.filter(function(a){return!a.disabled})),ha=ba.select(".bars1Wrap").datum(V.filter(function(a){return!a.disabled})),ia=ba.select(".stack1Wrap").datum(X.filter(function(a){return!a.disabled})),ja=ba.select(".lines2Wrap").datum(S.filter(function(a){return!a.disabled})),ka=ba.select(".scatters2Wrap").datum(U.filter(function(a){return!a.disabled})),la=ba.select(".bars2Wrap").datum(W.filter(function(a){return!a.disabled})),ma=ba.select(".stack2Wrap").datum(Y.filter(function(a){return!a.disabled})),na=X.length?X.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],oa=Y.length?Y.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];u.domain(c||d3.extent(d3.merge(Z).concat(na),function(a){return a.y})).range([0,Q]),v.domain(d||d3.extent(d3.merge($).concat(oa),function(a){return a.y})).range([0,Q]),w.yDomain(u.domain()),y.yDomain(u.domain()),A.yDomain(u.domain()),C.yDomain(u.domain()),x.yDomain(v.domain()),z.yDomain(v.domain()),B.yDomain(v.domain()),D.yDomain(v.domain()),X.length&&d3.transition(ia).call(C),Y.length&&d3.transition(ma).call(D),V.length&&d3.transition(ha).call(A),W.length&&d3.transition(la).call(B),R.length&&d3.transition(fa).call(w),S.length&&d3.transition(ja).call(x),T.length&&d3.transition(ga).call(y),U.length&&d3.transition(ka).call(z),E._ticks(a.utils.calcTicksX(P/100,k)).tickSize(-Q,0),ba.select(".nv-x.nv-axis").attr("transform","translate(0,"+Q+")"),d3.transition(ba.select(".nv-x.nv-axis")).call(E),F._ticks(a.utils.calcTicksY(Q/36,k)).tickSize(-P,0),d3.transition(ba.select(".nv-y1.nv-axis")).call(F),G._ticks(a.utils.calcTicksY(Q/36,k)).tickSize(-P,0),d3.transition(ba.select(".nv-y2.nv-axis")).call(G),ba.select(".nv-y1.nv-axis").classed("nv-disabled",Z.length?!1:!0).attr("transform","translate("+t.range()[0]+",0)"),ba.select(".nv-y2.nv-axis").classed("nv-disabled",$.length?!1:!0).attr("transform","translate("+t.range()[1]+",0)"),H.dispatch.on("stateChange",function(a){b.update()}),q&&(p.width(P).height(Q).margin({left:e.left,top:e.top}).svgContainer(O).xScale(t),_.select(".nv-interactive").call(p)),q?(p.dispatch.on("elementMousemove",function(c){M();var d,e,f,h=[];k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(i,j){var k=t.domain(),l=i.values.filter(function(a,c){return b.x()(a,c)>=k[0]&&b.x()(a,c)<=k[1]});e=a.interactiveBisect(l,c.pointXValue,b.x());var m=l[e],n=b.y()(m,e);null!==n&&N(j,e,!0),void 0!==m&&(void 0===d&&(d=m),void 0===f&&(f=t(b.x()(m,e))),h.push({key:i.key,value:n,color:g(i,i.seriesIndex),data:m,yAxis:2==i.yAxis?G:F}))});var i=function(a,b){var c=h[b].yAxis;return null==a?"N/A":c.tickFormat()(a)};p.tooltip.headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(p.tooltip.valueFormatter()||i).data({value:b.x()(d,e),index:e,series:h})(),p.renderGuideLine(f)}),p.dispatch.on("elementMouseout",function(a){M()})):(w.dispatch.on("elementMouseover.tooltip",o),x.dispatch.on("elementMouseover.tooltip",o),w.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),x.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),y.dispatch.on("elementMouseover.tooltip",s),z.dispatch.on("elementMouseover.tooltip",s),y.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),z.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),C.dispatch.on("elementMouseover.tooltip",J),D.dispatch.on("elementMouseover.tooltip",J),C.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),D.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),A.dispatch.on("elementMouseover.tooltip",L),B.dispatch.on("elementMouseover.tooltip",L),A.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),B.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),A.dispatch.on("elementMousemove.tooltip",function(a){I()}),B.dispatch.on("elementMousemove.tooltip",function(a){I()}))}),b}var c,d,e={top:30,right:20,bottom:50,left:60},f=null,g=a.utils.defaultColor(),h=null,i=null,j=!0,k=null,l=function(a){return a.x},m=function(a){return a.y},n="linear",o=!0,p=a.interactiveGuideline(),q=!1,r=" (right axis)",s=250,t=d3.scale.linear(),u=d3.scale.linear(),v=d3.scale.linear(),w=a.models.line().yScale(u).duration(s),x=a.models.line().yScale(v).duration(s),y=a.models.scatter().yScale(u).duration(s),z=a.models.scatter().yScale(v).duration(s),A=a.models.multiBar().stacked(!1).yScale(u).duration(s),B=a.models.multiBar().stacked(!1).yScale(v).duration(s),C=a.models.stackedArea().yScale(u).duration(s),D=a.models.stackedArea().yScale(v).duration(s),E=a.models.axis().scale(t).orient("bottom").tickPadding(5).duration(s),F=a.models.axis().scale(u).orient("left").duration(s),G=a.models.axis().scale(v).orient("right").duration(s),H=a.models.legend().height(30),I=a.models.tooltip(),J=d3.dispatch(),K=[w,x,y,z,A,B,C,D];return b.dispatch=J,b.legend=H,b.lines1=w,b.lines2=x,b.scatters1=y,b.scatters2=z,b.bars1=A,b.bars2=B,b.stack1=C,b.stack2=D,b.xAxis=E,b.yAxis1=F,b.yAxis2=G,b.tooltip=I,b.interactiveLayer=p,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},showLegend:{get:function(){return j},set:function(a){j=a}},yDomain1:{get:function(){return c},set:function(a){c=a}},yDomain2:{get:function(){return d},set:function(a){d=a}},noData:{get:function(){return k},set:function(a){k=a}},interpolate:{get:function(){return n},set:function(a){n=a}},legendRightAxisHint:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return e},set:function(a){void 0!==a.top&&(e.top=a.top,f=a.top),e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return g},set:function(b){g=a.utils.getColor(b)}},x:{get:function(){return l},set:function(a){l=a,w.x(a),x.x(a),y.x(a),z.x(a),A.x(a),B.x(a),C.x(a),D.x(a)}},y:{get:function(){return m},set:function(a){m=a,w.y(a),x.y(a),y.y(a),z.y(a),C.y(a),D.y(a),A.y(a),B.y(a)}},useVoronoi:{get:function(){return o},set:function(a){o=a,w.useVoronoi(a),x.useVoronoi(a),C.useVoronoi(a),D.useVoronoi(a)}},useInteractiveGuideline:{get:function(){return q},set:function(a){q=a,q&&(w.interactive(!1),w.useVoronoi(!1),x.interactive(!1),x.useVoronoi(!1),C.interactive(!1),C.useVoronoi(!1),D.interactive(!1),D.useVoronoi(!1),y.interactive(!1),z.interactive(!1))}},duration:{get:function(){return s},set:function(a){s=a,[w,x,C,D,y,z,E,F,G].forEach(function(a){a.duration(s)})}}}),a.utils.initOptions(b),b},a.models.ohlcBar=function(){"use strict";function b(y){return y.each(function(b){k=d3.select(this);var y=a.utils.availableWidth(h,k,g),A=a.utils.availableHeight(i,k,g);a.utils.initSVG(k);var B=y/b[0].values.length*.9;l.domain(c||d3.extent(b[0].values.map(n).concat(t))),v?l.range(e||[.5*y/b[0].values.length,y*(b[0].values.length-.5)/b[0].values.length]):l.range(e||[5+B/2,y-B/2-5]),m.domain(d||[d3.min(b[0].values.map(s).concat(u)),d3.max(b[0].values.map(r).concat(u))]).range(f||[A,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([b[0].values]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),E=D.append("defs"),F=D.append("g"),G=C.select("g");F.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+g.left+","+g.top+")"),k.on("click",function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:j})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect"),C.select("#nv-chart-clip-path-"+j+" rect").attr("width",y).attr("height",A),G.attr("clip-path",w?"url(#nv-chart-clip-path-"+j+")":"");var H=C.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});H.exit().remove(),H.enter().append("path").attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(m(p(a,b))-m(r(a,b)))+"l"+-B/2+",0l"+B/2+",0l0,"+(m(s(a,b))-m(p(a,b)))+"l0,"+(m(q(a,b))-m(s(a,b)))+"l"+B/2+",0l"+-B/2+",0z";
}).attr("transform",function(a,b){return"translate("+l(n(a,b))+","+m(r(a,b))+")"}).attr("fill",function(a,b){return x[0]}).attr("stroke",function(a,b){return x[0]}).attr("x",0).attr("y",function(a,b){return m(Math.max(0,o(a,b)))}).attr("height",function(a,b){return Math.abs(m(o(a,b))-m(0))}),H.attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}),d3.transition(H).attr("transform",function(a,b){return"translate("+l(n(a,b))+","+m(r(a,b))+")"}).attr("d",function(a,c){var d=y/b[0].values.length*.9;return"m0,0l0,"+(m(p(a,c))-m(r(a,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(m(s(a,c))-m(p(a,c)))+"l0,"+(m(q(a,c))-m(s(a,c)))+"l"+d/2+",0l"+-d/2+",0z"})}),b}var c,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j=Math.floor(1e4*Math.random()),k=null,l=d3.scale.linear(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=function(a){return a.open},q=function(a){return a.close},r=function(a){return a.high},s=function(a){return a.low},t=[],u=[],v=!1,w=!0,x=a.utils.defaultColor(),y=!1,z=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return b.highlightPoint=function(a,c){b.clearHighlights(),k.select(".nv-ohlcBar .nv-tick-0-"+a).classed("hover",c)},b.clearHighlights=function(){k.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},b.dispatch=z,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},forceX:{get:function(){return t},set:function(a){t=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return j},set:function(a){j=a}},interactive:{get:function(){return y},set:function(a){y=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},open:{get:function(){return p()},set:function(a){p=a}},close:{get:function(){return q()},set:function(a){q=a}},high:{get:function(){return r},set:function(a){r=a}},low:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!=a.top?a.top:g.top,g.right=void 0!=a.right?a.right:g.right,g.bottom=void 0!=a.bottom?a.bottom:g.bottom,g.left=void 0!=a.left?a.left:g.left}},color:{get:function(){return x},set:function(b){x=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.parallelCoordinates=function(){"use strict";function b(B){return A.reset(),B.each(function(b){function A(a){return x(o.map(function(b){if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key]))||O){var c=l[b.key].domain(),d=l[b.key].range(),e=c[0]-(c[1]-c[0])/9;if(v.indexOf(b.key)<0){var f=d3.scale.linear().domain([e,c[1]]).range([j-12,d[1]]);l[b.key].brush.y(f),v.push(b.key)}if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key])))return[k(b.key),l[b.key](e)]}return void 0!==U&&(v.length>0||O?(U.style("display","inline"),V.style("display","inline")):(U.style("display","none"),V.style("display","none"))),[k(b.key),l[b.key](a.values[b.key])]}))}function B(a){s.forEach(function(b){var c=l[b.dimension].brush.y().domain();b.hasOnlyNaN&&(b.extent[1]=(l[b.dimension].domain()[1]-c[0])*(b.extent[1]-b.extent[0])/(N[b.dimension]-b.extent[0])+c[0]),b.hasNaN&&(b.extent[0]=c[0]),a&&l[b.dimension].brush.extent(b.extent)}),e.select(".nv-brushBackground").each(function(a){d3.select(this).call(l[a.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),F()}function C(){q===!1&&(q=!0,B(!0))}function D(){$=p.filter(function(a){return!l[a].brush.empty()}),_=$.map(function(a){return l[a].brush.extent()}),s=[],$.forEach(function(a,b){s[b]={dimension:a,extent:_[b],hasNaN:!1,hasOnlyNaN:!1}}),t=[],c.style("display",function(a){var b=$.every(function(b,c){return(isNaN(a.values[b])||isNaN(parseFloat(a.values[b])))&&_[c][0]==l[b].brush.y().domain()[0]?!0:_[c][0]<=a.values[b]&&a.values[b]<=_[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&t.push(a),b?null:"none"}),F(),z.brush({filters:s,active:t})}function E(){var a=$.length>0?!0:!1;s.forEach(function(a){a.extent[0]===l[a.dimension].brush.y().domain()[0]&&v.indexOf(a.dimension)>=0&&(a.hasNaN=!0),a.extent[1]<l[a.dimension].domain()[0]&&(a.hasOnlyNaN=!0)}),z.brushEnd(t,a)}function F(){e.select(".nv-axis").each(function(a,b){var c=s.filter(function(b){return b.dimension==a.key});P[a.key]=l[a.key].domain(),0!=c.length&&q&&(P[a.key]=[],c[0].extent[1]>l[a.key].domain()[0]&&(P[a.key]=[c[0].extent[1]]),c[0].extent[0]>=l[a.key].domain()[0]&&P[a.key].push(c[0].extent[0])),d3.select(this).call(y.scale(l[a.key]).tickFormat(a.format).tickValues(P[a.key]))})}function G(a){u[a.key]=this.parentNode.__origin__=k(a.key),d.attr("visibility","hidden")}function H(a){u[a.key]=Math.min(i,Math.max(0,this.parentNode.__origin__+=d3.event.x)),c.attr("d",A),o.sort(function(a,b){return J(a.key)-J(b.key)}),o.forEach(function(a,b){return a.currentPosition=b}),k.domain(o.map(function(a){return a.key})),e.attr("transform",function(a){return"translate("+J(a.key)+")"})}function I(a,b){delete this.parentNode.__origin__,delete u[a.key],d3.select(this.parentNode).attr("transform","translate("+k(a.key)+")"),c.attr("d",A),d.attr("d",A).attr("visibility",null),z.dimensionsOrder(o)}function J(a){var b=u[a];return null==b?k(a):b}var K=d3.select(this);if(i=a.utils.availableWidth(g,K,f),j=a.utils.availableHeight(h,K,f),a.utils.initSVG(K),void 0===b[0].values){var L=[];b.forEach(function(a){var b={},c=Object.keys(a);c.forEach(function(c){"name"!==c&&(b[c]=a[c])}),L.push({key:a.name,values:b})}),b=L}var M=b.map(function(a){return a.values});0===t.length&&(t=b),p=n.sort(function(a,b){return a.currentPosition-b.currentPosition}).map(function(a){return a.key}),o=n.filter(function(a){return!a.disabled}),k.rangePoints([0,i],1).domain(o.map(function(a){return a.key}));var N={},O=!1,P=[];p.forEach(function(a){var b=d3.extent(M,function(b){return+b[a]}),c=b[0],d=b[1],e=!1;(isNaN(c)||isNaN(d))&&(e=!0,c=0,d=0),c===d&&(c-=1,d+=1);var f=s.filter(function(b){return b.dimension==a});0!==f.length&&(e?(c=l[a].domain()[0],d=l[a].domain()[1]):!f[0].hasOnlyNaN&&q?(c=c>f[0].extent[0]?f[0].extent[0]:c,d=d<f[0].extent[1]?f[0].extent[1]:d):f[0].hasNaN&&(d=d<f[0].extent[1]?f[0].extent[1]:d,N[a]=l[a].domain()[1],O=!0)),l[a]=d3.scale.linear().domain([c,d]).range([.9*(j-12),0]),v=[],l[a].brush=d3.svg.brush().y(l[a]).on("brushstart",C).on("brush",D).on("brushend",E)});var Q=K.selectAll("g.nv-wrap.nv-parallelCoordinates").data([b]),R=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),S=R.append("g"),T=Q.select("g");S.append("g").attr("class","nv-parallelCoordinates background"),S.append("g").attr("class","nv-parallelCoordinates foreground"),S.append("g").attr("class","nv-parallelCoordinates missingValuesline"),Q.attr("transform","translate("+f.left+","+f.top+")"),x.interpolate("cardinal").tension(w),y.orient("left");var U,V,W=d3.behavior.drag().on("dragstart",G).on("drag",H).on("dragend",I),X=k.range()[1]-k.range()[0];if(X=isNaN(X)?k.range()[0]:X,!isNaN(X)){var Y=[0+X/2,j-12,i-X/2,j-12];U=Q.select(".missingValuesline").selectAll("line").data([Y]),U.enter().append("line"),U.exit().remove(),U.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]}),V=Q.select(".missingValuesline").selectAll("text").data([m]),V.append("text").data([m]),V.enter().append("text"),V.exit().remove(),V.attr("y",j).attr("x",i-92-X/2).text(function(a){return a})}d=Q.select(".background").selectAll("path").data(b),d.enter().append("path"),d.exit().remove(),d.attr("d",A),c=Q.select(".foreground").selectAll("path").data(b),c.enter().append("path"),c.exit().remove(),c.attr("d",A).style("stroke-width",function(a,b){return isNaN(a.strokeWidth)&&(a.strokeWidth=1),a.strokeWidth}).attr("stroke",function(a,b){return a.color||r(a,b)}),c.on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("stroke-width",a.strokeWidth+2+"px").style("stroke-opacity",1),z.elementMouseover({label:a.name,color:a.color||r(a,b),values:a.values,dimensions:o})}),c.on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("stroke-width",a.strokeWidth+"px").style("stroke-opacity",.7),z.elementMouseout({label:a.name,index:b})}),c.on("mousemove",function(a,b){z.elementMousemove()}),c.on("click",function(a){z.elementClick({id:a.id})}),e=T.selectAll(".dimension").data(o);var Z=e.enter().append("g").attr("class","nv-parallelCoordinates dimension");e.attr("transform",function(a){return"translate("+k(a.key)+",0)"}),Z.append("g").attr("class","nv-axis"),Z.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(a,b){z.elementMouseover({label:a.tooltip||a.key,color:a.color})}).on("mouseout",function(a,b){z.elementMouseout({label:a.tooltip})}).on("mousemove",function(a,b){z.elementMousemove()}).call(W),Z.append("g").attr("class","nv-brushBackground"),e.exit().remove(),e.select(".nv-label").text(function(a){return a.key}),B(q);var $=p.filter(function(a){return!l[a].brush.empty()}),_=$.map(function(a){return l[a].brush.extent()}),aa=t.slice(0);t=[],c.style("display",function(a){var b=$.every(function(b,c){return(isNaN(a.values[b])||isNaN(parseFloat(a.values[b])))&&_[c][0]==l[b].brush.y().domain()[0]?!0:_[c][0]<=a.values[b]&&a.values[b]<=_[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&t.push(a),b?null:"none"}),(s.length>0||!a.utils.arrayEquals(t,aa))&&z.activeChanged(t)}),b}var c,d,e,f={top:30,right:0,bottom:10,left:0},g=null,h=null,i=null,j=null,k=d3.scale.ordinal(),l={},m="undefined values",n=[],o=[],p=[],q=!0,r=a.utils.defaultColor(),s=[],t=[],u=[],v=[],w=1,x=d3.svg.line(),y=d3.svg.axis(),z=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),A=a.utils.renderWatch(z);return b.dispatch=z,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},dimensionData:{get:function(){return n},set:function(a){n=a}},displayBrush:{get:function(){return q},set:function(a){q=a}},filters:{get:function(){return s},set:function(a){s=a}},active:{get:function(){return t},set:function(a){t=a}},lineTension:{get:function(){return w},set:function(a){w=a}},undefinedValuesLabel:{get:function(){return m},set:function(a){m=a}},dimensions:{get:function(){return n.map(function(a){return a.key})},set:function(b){a.deprecated("dimensions","use dimensionData instead"),0===n.length?b.forEach(function(a){n.push({key:a})}):b.forEach(function(a,b){n[b].key=a})}},dimensionNames:{get:function(){return n.map(function(a){return a.key})},set:function(b){a.deprecated("dimensionNames","use dimensionData instead"),p=[],0===n.length?b.forEach(function(a){n.push({key:a})}):b.forEach(function(a,b){n[b].key=a})}},dimensionFormats:{get:function(){return n.map(function(a){return a.format})},set:function(b){a.deprecated("dimensionFormats","use dimensionData instead"),0===n.length?b.forEach(function(a){n.push({format:a})}):b.forEach(function(a,b){n[b].format=a})}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return r},set:function(b){r=a.utils.getColor(b)}}}),a.utils.initOptions(b),b},a.models.parallelCoordinatesChart=function(){"use strict";function b(e){return s.reset(),s.models(c),e.each(function(e){var k=d3.select(this);a.utils.initSVG(k);var p=a.utils.availableWidth(h,k,f),q=a.utils.availableHeight(i,k,f);if(b.update=function(){k.call(b)},b.container=this,l.setter(u(m),b.update).getter(t(m)).update(),l.disabled=m.map(function(a){return!!a.disabled}),m=m.map(function(a){return a.disabled=!!a.disabled,a}),m.forEach(function(a,b){a.originalPosition=isNaN(a.originalPosition)?b:a.originalPosition,a.currentPosition=isNaN(a.currentPosition)?b:a.currentPosition}),!o){var s;o={};for(s in l)l[s]instanceof Array?o[s]=l[s].slice(0):o[s]=l[s]}if(!e||!e.length)return a.utils.noData(b,k),b;k.selectAll(".nv-noData").remove();var v=k.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([e]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),x=v.select("g");w.append("g").attr("class","nv-parallelCoordinatesWrap"),w.append("g").attr("class","nv-legendWrap"),x.select("rect").attr("width",p).attr("height",q>0?q:0),j?(d.width(p).color(function(a){return"rgb(188,190,192)"}),x.select(".nv-legendWrap").datum(m.sort(function(a,b){return a.originalPosition-b.originalPosition})).call(d),g||d.height()===f.top||(f.top=d.height(),q=a.utils.availableHeight(i,k,f)),v.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-f.top+")")):x.select(".nv-legendWrap").selectAll("*").remove(),v.attr("transform","translate("+f.left+","+f.top+")"),c.width(p).height(q).dimensionData(m).displayBrush(n);var y=x.select(".nv-parallelCoordinatesWrap ").datum(e);y.transition().call(c),c.dispatch.on("brushEnd",function(a,b){b?(n=!0,r.brushEnd(a)):n=!1}),d.dispatch.on("stateChange",function(a){for(var c in a)l[c]=a[c];r.stateChange(l),b.update()}),c.dispatch.on("dimensionsOrder",function(a){m.sort(function(a,b){return a.currentPosition-b.currentPosition});var b=!1;m.forEach(function(a,c){a.currentPosition=c,a.currentPosition!==a.originalPosition&&(b=!0)}),r.dimensionsOrder(m,b)}),r.on("changeState",function(a){"undefined"!=typeof a.disabled&&(m.forEach(function(b,c){b.disabled=a.disabled[c]}),l.disabled=a.disabled),b.update()})}),s.renderEnd("parraleleCoordinateChart immediate"),b}var c=a.models.parallelCoordinates(),d=a.models.legend(),e=a.models.tooltip(),f=(a.models.tooltip(),{top:0,right:0,bottom:0,left:0}),g=null,h=null,i=null,j=!0,k=a.utils.defaultColor(),l=a.utils.state(),m=[],n=!0,o=null,p=null,q="undefined",r=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),s=a.utils.renderWatch(r),t=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},u=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return e.contentGenerator(function(a){var b='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td><strong>'+a.key+"</strong></td></tr></thead>";return 0!==a.series.length&&(b+='<tbody><tr><td height ="10px"></td></tr>',a.series.forEach(function(a){b=b+'<tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td class="key">'+a.key+'</td><td class="value">'+a.value+"</td></tr>"}),b+="</tbody>"),b+="</table>"}),c.dispatch.on("elementMouseover.tooltip",function(a){var b={key:a.label,color:a.color,series:[]};a.values&&(Object.keys(a.values).forEach(function(c){var d=a.dimensions.filter(function(a){return a.key===c})[0];if(d){var e;e=isNaN(a.values[c])||isNaN(parseFloat(a.values[c]))?q:d.format(a.values[c]),b.series.push({idx:d.currentPosition,key:c,value:e,color:d.color})}}),b.series.sort(function(a,b){return a.idx-b.idx})),e.data(b).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(){e()}),b.dispatch=r,b.parallelCoordinates=c,b.legend=d,b.tooltip=e,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},showLegend:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return o},set:function(a){o=a}},dimensionData:{get:function(){return m},set:function(a){m=a}},displayBrush:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return p},set:function(a){p=a}},nanValue:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(f.top=a.top,g=a.top),f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return k},set:function(b){k=a.utils.getColor(b),d.color(k),c.color(k)}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.pie=function(){"use strict";function b(F){return E.reset(),F.each(function(b){function F(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle,a.startAngle=isNaN(a.startAngle)?0:a.startAngle,p||(a.innerRadius=0);var c=d3.interpolate(this._current,a);return this._current=c(0),function(a){return C[b](c(a))}}var G=d-c.left-c.right,H=e-c.top-c.bottom,I=Math.min(G,H)/2,J=[],K=[];if(i=d3.select(this),0===A.length)for(var L=I-I/5,M=y*I,N=0;N<b[0].length;N++)J.push(L),K.push(M);else r?(J=A.map(function(a){return(a.outer-a.outer/5)*I}),K=A.map(function(a){return(a.inner-a.inner/5)*I}),y=d3.min(A.map(function(a){return a.inner-a.inner/5}))):(J=A.map(function(a){return a.outer*I}),K=A.map(function(a){return a.inner*I}),y=d3.min(A.map(function(a){return a.inner})));a.utils.initSVG(i);var O=i.selectAll(".nv-wrap.nv-pie").data(b),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+h),Q=P.append("g"),R=O.select("g"),S=Q.append("g").attr("class","nv-pie");Q.append("g").attr("class","nv-pieLabels"),O.attr("transform","translate("+c.left+","+c.top+")"),R.select(".nv-pie").attr("transform","translate("+G/2+","+H/2+")"),R.select(".nv-pieLabels").attr("transform","translate("+G/2+","+H/2+")"),i.on("click",function(a,b){B.chartClick({data:a,index:b,pos:d3.event,id:h})}),C=[],D=[];for(var N=0;N<b[0].length;N++){var T=d3.svg.arc().outerRadius(J[N]),U=d3.svg.arc().outerRadius(J[N]+5);u!==!1&&(T.startAngle(u),U.startAngle(u)),w!==!1&&(T.endAngle(w),U.endAngle(w)),p&&(T.innerRadius(K[N]),U.innerRadius(K[N])),T.cornerRadius&&x&&(T.cornerRadius(x),U.cornerRadius(x)),C.push(T),D.push(U)}var V=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:g(a)});V.padAngle&&v&&V.padAngle(v),p&&q&&(S.append("text").attr("class","nv-pie-title"),O.select(".nv-pie-title").style("text-anchor","middle").text(function(a){return q}).style("font-size",Math.min(G,H)*y*2/(q.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+s+")"}));var W=O.select(".nv-pie").selectAll(".nv-slice").data(V),X=O.select(".nv-pieLabels").selectAll(".nv-label").data(V);W.exit().remove(),X.exit().remove();var Y=W.enter().append("g");Y.attr("class","nv-slice"),Y.on("mouseover",function(a,b){d3.select(this).classed("hover",!0),r&&d3.select(this).select("path").transition().duration(70).attr("d",D[b]),B.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill"),percent:(a.endAngle-a.startAngle)/(2*Math.PI)})}),Y.on("mouseout",function(a,b){d3.select(this).classed("hover",!1),r&&d3.select(this).select("path").transition().duration(50).attr("d",C[b]),B.elementMouseout({data:a.data,index:b})}),Y.on("mousemove",function(a,b){B.elementMousemove({data:a.data,index:b})}),Y.on("click",function(a,b){var c=this;B.elementClick({data:a.data,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c})}),Y.on("dblclick",function(a,b){B.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})}),W.attr("fill",function(a,b){return j(a.data,b)}),W.attr("stroke",function(a,b){return j(a.data,b)});Y.append("path").each(function(a){this._current=a});if(W.select("path").transition().duration(z).attr("d",function(a,b){return C[b](a)}).attrTween("d",F),l){for(var Z=[],N=0;N<b[0].length;N++)Z.push(C[N]),m?p&&(Z[N]=d3.svg.arc().outerRadius(C[N].outerRadius()),u!==!1&&Z[N].startAngle(u),w!==!1&&Z[N].endAngle(w)):p||Z[N].innerRadius(0);X.enter().append("g").classed("nv-label",!0).each(function(a,b){var c=d3.select(this);c.attr("transform",function(a,b){if(t){a.outerRadius=J[b]+10,a.innerRadius=J[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+Z[b].centroid(a)+") rotate("+c+")"}return a.outerRadius=I+10,a.innerRadius=I+15,"translate("+Z[b].centroid(a)+")"}),c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),c.append("text").style("text-anchor",t?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var $={},_=14,aa=140,ba=function(a){return Math.floor(a[0]/aa)*aa+","+Math.floor(a[1]/_)*_},ca=function(a){return(a.endAngle-a.startAngle)/(2*Math.PI)};X.watchTransition(E,"pie labels").attr("transform",function(a,b){if(t){a.outerRadius=J[b]+10,a.innerRadius=J[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+Z[b].centroid(a)+") rotate("+c+")"}a.outerRadius=I+10,a.innerRadius=I+15;var d=Z[b].centroid(a),e=ca(a);if(a.value&&e>=o){var f=ba(d);$[f]&&(d[1]-=_),$[ba(d)]=!0}return"translate("+d+")"}),X.select(".nv-label text").style("text-anchor",function(a,b){return t?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=ca(a),d="";if(!a.value||o>c)return"";if("function"==typeof n)d=n(a,b,{key:f(a.data),value:g(a.data),percent:k(c)});else switch(n){case"key":d=f(a.data);break;case"value":d=k(g(a.data));break;case"percent":d=d3.format("%")(c)}return d})}}),E.renderEnd("pie immediate"),b}var c={top:0,right:0,bottom:0,left:0},d=500,e=500,f=function(a){return a.x},g=function(a){return a.y},h=Math.floor(1e4*Math.random()),i=null,j=a.utils.defaultColor(),k=d3.format(",.2f"),l=!0,m=!1,n="key",o=.02,p=!1,q=!1,r=!0,s=0,t=!1,u=!1,v=!1,w=!1,x=0,y=.5,z=250,A=[],B=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=[],D=[],E=a.utils.renderWatch(B);return b.dispatch=B,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{arcsRadius:{get:function(){return A},set:function(a){A=a}},width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},showLabels:{get:function(){return l},set:function(a){l=a}},title:{get:function(){return q},set:function(a){q=a}},titleOffset:{get:function(){return s},set:function(a){s=a}},labelThreshold:{get:function(){return o},set:function(a){o=a}},valueFormat:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return h},set:function(a){h=a}},endAngle:{get:function(){return w},set:function(a){w=a}},startAngle:{get:function(){return u},set:function(a){u=a}},padAngle:{get:function(){return v},set:function(a){v=a}},cornerRadius:{get:function(){return x},set:function(a){x=a}},donutRatio:{get:function(){return y},set:function(a){y=a}},labelsOutside:{get:function(){return m},set:function(a){m=a}},labelSunbeamLayout:{get:function(){return t},set:function(a){t=a}},donut:{get:function(){return p},set:function(a){p=a}},growOnHover:{get:function(){return r},set:function(a){r=a}},pieLabelsOutside:{get:function(){return m},set:function(b){m=b,a.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return m},set:function(b){m=b,a.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return k},set:function(b){k=b,a.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return c},set:function(a){c.top="undefined"!=typeof a.top?a.top:c.top,c.right="undefined"!=typeof a.right?a.right:c.right,c.bottom="undefined"!=typeof a.bottom?a.bottom:c.bottom,c.left="undefined"!=typeof a.left?a.left:c.left}},duration:{get:function(){return z},set:function(a){z=a,E.reset(z)}},y:{get:function(){return g},set:function(a){g=d3.functor(a)}},color:{get:function(){return j},set:function(b){j=a.utils.getColor(b)}},labelType:{get:function(){return n},set:function(a){n=a||"key"}}}),a.utils.initOptions(b),b},a.models.pieChart=function(){"use strict";function b(e){return s.reset(),s.models(c),e.each(function(e){var j=d3.select(this);a.utils.initSVG(j);var m=a.utils.availableWidth(h,j,f),p=a.utils.availableHeight(i,j,f);if(b.update=function(){j.transition().call(b)},b.container=this,n.setter(u(e),b.update).getter(t(e)).update(),n.disabled=e.map(function(a){return!!a.disabled}),!o){var q;o={};for(q in n)n[q]instanceof Array?o[q]=n[q].slice(0):o[q]=n[q]}if(!e||!e.length)return a.utils.noData(b,j),b;j.selectAll(".nv-noData").remove();var s=j.selectAll("g.nv-wrap.nv-pieChart").data([e]),v=s.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=s.select("g");if(v.append("g").attr("class","nv-pieWrap"),v.append("g").attr("class","nv-legendWrap"),k){if("top"===l)d.width(m).key(c.x()),s.select(".nv-legendWrap").datum(e).call(d),g||d.height()===f.top||(f.top=d.height(),p=a.utils.availableHeight(i,j,f)),s.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")");else if("right"===l){var x=a.models.legend().width();x>m/2&&(x=m/2),d.height(p).key(c.x()),d.width(x),m-=d.width(),s.select(".nv-legendWrap").datum(e).call(d).attr("transform","translate("+m+",0)")}}else w.select(".nv-legendWrap").selectAll("*").remove();s.attr("transform","translate("+f.left+","+f.top+")"),c.width(m).height(p);var y=w.select(".nv-pieWrap").datum([e]);d3.transition(y).call(c),d.dispatch.on("stateChange",function(a){for(var c in a)n[c]=a[c];r.stateChange(n),b.update()}),r.on("changeState",function(a){"undefined"!=typeof a.disabled&&(e.forEach(function(b,c){b.disabled=a.disabled[c]}),n.disabled=a.disabled),b.update()})}),s.renderEnd("pieChart immediate"),b}var c=a.models.pie(),d=a.models.legend(),e=a.models.tooltip(),f={top:30,right:20,bottom:20,left:20},g=null,h=null,i=null,j=!1,k=!0,l="top",m=a.utils.defaultColor(),n=a.utils.state(),o=null,p=null,q=250,r=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return c.valueFormat()(a,b)});var s=a.utils.renderWatch(r),t=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},u=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color,percent:a.percent},j||(delete a.percent,delete a.series.percent),e.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){e()}),b.legend=d,b.dispatch=r,b.pie=c,b.tooltip=e,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},noData:{get:function(){return p},set:function(a){p=a}},showTooltipPercent:{get:function(){return j},set:function(a){j=a}},showLegend:{get:function(){return k},set:function(a){k=a}},legendPosition:{get:function(){return l},set:function(a){l=a}},defaultState:{get:function(){return o},set:function(a){o=a}},color:{get:function(){return m},set:function(a){m=a,d.color(m),c.color(m)}},duration:{get:function(){return q},set:function(a){q=a,s.reset(q),c.duration(q)}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(f.top=a.top,g=a.top),f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.sankey=function(){"use strict";function b(){n.forEach(function(a){a.sourceLinks=[],a.targetLinks=[]}),o.forEach(function(a){var b=a.source,c=a.target;"number"==typeof b&&(b=a.source=n[a.source]),"number"==typeof c&&(c=a.target=n[a.target]),b.sourceLinks.push(a),c.targetLinks.push(a)})}function c(){n.forEach(function(a){a.value=Math.max(d3.sum(a.sourceLinks,i),d3.sum(a.targetLinks,i))})}function d(){for(var a,b=n,c=0;b.length&&c<n.length;)a=[],b.forEach(function(b){b.x=c,b.dx=k,b.sourceLinks.forEach(function(b){a.indexOf(b.target)<0&&a.push(b.target)})}),b=a,++c;p&&e(c),f((m[0]-k)/(c-1))}function e(a){n.forEach(function(b){b.sourceLinks.length||(b.x=a-1)})}function f(a){n.forEach(function(b){b.x*=a})}function g(a){function b(){var a=d3.min(g,function(a){return(m[1]-(a.length-1)*l)/d3.sum(a,i)});g.forEach(function(b){b.forEach(function(b,c){b.y=c,b.dy=b.value*a})}),o.forEach(function(b){b.dy=b.value*a})}function c(a){function b(a){return(a.source.y+a.sy+a.dy/2)*a.value}g.forEach(function(c,d){c.forEach(function(c){if(c.targetLinks.length){var d=d3.sum(c.targetLinks,b)/d3.sum(c.targetLinks,i);c.y+=(d-t(c))*a}})})}function d(a){function b(a){return(a.target.y+a.ty+a.dy/2)*a.value}g.slice().reverse().forEach(function(c){c.forEach(function(c){if(c.sourceLinks.length){var d=d3.sum(c.sourceLinks,b)/d3.sum(c.sourceLinks,i);c.y+=(d-t(c))*a}})})}function e(){g.forEach(function(a){var b,c,d,e=0,g=a.length;for(a.sort(f),d=0;g>d;++d)b=a[d],c=e-b.y,c>0&&(b.y+=c),e=b.y+b.dy+l;if(c=e-l-m[1],c>0)for(e=b.y-=c,d=g-2;d>=0;--d)b=a[d],c=b.y+b.dy+l-e,c>0&&(b.y-=c),e=b.y})}function f(a,b){return a.y-b.y}var g=d3.nest().key(function(a){return a.x}).sortKeys(d3.ascending).entries(n).map(function(a){return a.values});b(),e(),h();for(var j=1;a>0;--a)d(j*=.99),e(),h(),c(j),e(),h()}function h(){function a(a,b){return a.source.y-b.source.y}function b(a,b){return a.target.y-b.target.y}n.forEach(function(c){c.sourceLinks.sort(b),c.targetLinks.sort(a)}),n.forEach(function(a){var b=0,c=0;a.sourceLinks.forEach(function(a){a.sy=b,b+=a.dy}),a.targetLinks.forEach(function(a){a.ty=c,c+=a.dy})})}function i(a){return a.value}var j={},k=24,l=8,m=[1,1],n=[],o=[],p=!0,q=function(a){b(),c(),d(),g(a)},r=function(){h()},s=function(){function a(a){var c=a.source.x+a.source.dx,d=a.target.x,e=d3.interpolateNumber(c,d),f=e(b),g=e(1-b),h=a.source.y+a.sy+a.dy/2,i=a.target.y+a.ty+a.dy/2,j="M"+c+","+h+"C"+f+","+h+" "+g+","+i+" "+d+","+i;return j}var b=.5;return a.curvature=function(c){return arguments.length?(b=+c,a):b},a},t=function(a){return a.y+a.dy/2};return j.options=a.utils.optionsFunc.bind(j),j._options=Object.create({},{nodeWidth:{get:function(){return k},set:function(a){k=+a}},nodePadding:{get:function(){return l},set:function(a){l=a}},nodes:{get:function(){return n},set:function(a){n=a}},links:{get:function(){return o},set:function(a){o=a}},size:{get:function(){return m},set:function(a){m=a}},sinksRight:{get:function(){return p},set:function(a){p=a}},layout:{get:function(){q(32)},set:function(a){q(a)}},relayout:{get:function(){r()},set:function(a){}},center:{get:function(){return t()},set:function(a){"function"==typeof a&&(t=a)}},link:{get:function(){return s()},set:function(a){return"function"==typeof a&&(s=a),s()}}}),a.utils.initOptions(j),j},a.models.sankeyChart=function(){"use strict";function b(a){return a.each(function(b){function c(a){d3.select(this).attr("transform","translate("+a.x+","+(a.y=Math.max(0,Math.min(f-a.dy,d3.event.y)))+")"),d.relayout(),t.attr("d",s)}var i={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},k=!1,l=!1;if(("object"==typeof b.nodes&&b.nodes.length)>=0&&("object"==typeof b.links&&b.links.length)>=0&&(k=!0),b.nodes&&b.nodes.length>0&&b.links&&b.links.length>0&&(l=!0),!k)return console.error("NVD3 Sankey chart error:","invalid data format for",b),
console.info("Valid data format is: ",i,JSON.stringify(i)),r(a,"Error loading chart, data is invalid"),!1;if(!l)return r(a,"No data available"),!1;var m=a.append("svg").attr("width",e).attr("height",f).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");d.nodeWidth(g).nodePadding(h).size([e,f]);var s=d.link();d.nodes(b.nodes).links(b.links).layout(32).center(j);var t=m.append("g").selectAll(".link").data(b.links).enter().append("path").attr("class","link").attr("d",s).style("stroke-width",function(a){return Math.max(1,a.dy)}).sort(function(a,b){return b.dy-a.dy});t.append("title").text(n);var u=m.append("g").selectAll(".node").data(b.nodes).enter().append("g").attr("class","node").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).call(d3.behavior.drag().origin(function(a){return a}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",c));u.append("rect").attr("height",function(a){return a.dy}).attr("width",d.nodeWidth()).style("fill",o).style("stroke",p).append("title").text(q),u.append("text").attr("x",-6).attr("y",function(a){return a.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(a){return a.name}).filter(function(a){return a.x<e/2}).attr("x",6+d.nodeWidth()).attr("text-anchor","start")}),b}var c={top:5,right:0,bottom:5,left:0},d=a.models.sankey(),e=600,f=400,g=36,h=40,i="units",j=void 0,k=d3.format(",.0f"),l=function(a){return k(a)+" "+i},m=d3.scale.category20(),n=function(a){return a.source.name+" → "+a.target.name+"\n"+l(a.value)},o=function(a){return a.color=m(a.name.replace(/ .*/,""))},p=function(a){return d3.rgb(a.color).darker(2)},q=function(a){return a.name+"\n"+l(a.value)},r=function(a,b){a.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(b)};return b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{units:{get:function(){return i},set:function(a){i=a}},width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},format:{get:function(){return l},set:function(a){l=a}},linkTitle:{get:function(){return n},set:function(a){n=a}},nodeWidth:{get:function(){return g},set:function(a){g=a}},nodePadding:{get:function(){return h},set:function(a){h=a}},center:{get:function(){return j},set:function(a){j=a}},margin:{get:function(){return c},set:function(a){c.top=void 0!==a.top?a.top:c.top,c.right=void 0!==a.right?a.right:c.right,c.bottom=void 0!==a.bottom?a.bottom:c.bottom,c.left=void 0!==a.left?a.left:c.left}},nodeStyle:{get:function(){return{}},set:function(a){o=void 0!==a.fillColor?a.fillColor:o,p=void 0!==a.strokeColor?a.strokeColor:p,q=void 0!==a.title?a.title:q}}}),a.utils.initOptions(b),b},a.models.scatter=function(){"use strict";function b(a){var b,c;return b=a[0].series+":"+a[1],c=Z[b]=Z[b]||{}}function c(a){var b;b=a[0].series+":"+a[1],delete Z[b]}function d(a){var c,d,e,f=b(a),g=!1;for(c=1;c<arguments.length;c+=2)d=arguments[c],e=arguments[c+1](a[0],a[1]),f[d]===e&&f.hasOwnProperty(d)||(f[d]=e,g=!0);return g}function e(b){return X.reset(),b.each(function(b){function T(){if(W=!1,!C)return!1;if(S===!0){var c=d3.merge(b.map(function(b,c){return b.values.map(function(b,d){var e=v(b,d),f=w(b,d);return[a.utils.NaNtoZero(s(e))+1e-4*Math.random(),a.utils.NaNtoZero(t(f))+1e-4*Math.random(),c,d,b]}).filter(function(a,b){return D(a[4],b)})}));if(0==c.length)return!1;c.length<3&&(c.push([s.range()[0]-20,t.range()[0]-20,null,null]),c.push([s.range()[1]+20,t.range()[1]+20,null,null]),c.push([s.range()[0]-20,t.range()[0]+20,null,null]),c.push([s.range()[1]+20,t.range()[1]-20,null,null]));var d=d3.geom.polygon([[-10,-10],[-10,n+10],[m+10,n+10],[m+10,-10]]),e=d3.geom.voronoi(c).map(function(a,b){return{data:d.clip(a),series:c[b][2],point:c[b][3]}});ea.select(".nv-point-paths").selectAll("path").remove();var f=ea.select(".nv-point-paths").selectAll("path").data(e),g=f.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+q+"-"+b+")"});if(I&&g.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),H){ea.select(".nv-point-clips").selectAll("*").remove();var h=ea.select(".nv-point-clips").selectAll("clipPath").data(c);h.enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+q+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",J)}var i=function(a,c,d){if(W)return 0;var e=b[c.series];if(void 0!==e){var f=e.values[c.point];f.color=o(e,c.series),f.x=v(f),f.y=w(f);var g=r.node().getBoundingClientRect(),h=window.pageYOffset||document.documentElement.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft,j={left:s(v(f,c.point))+g.left+i+l.left+10,top:t(w(f,c.point))+g.top+h+l.top+10};d({point:f,series:e,pos:j,relativePos:[s(v(f,c.point))+l.left,t(w(f,c.point))+l.top],seriesIndex:c.series,pointIndex:c.point,event:d3.event,element:a})}};f.on("click",function(a){i(this,a,R.elementClick)}).on("dblclick",function(a){i(this,a,R.elementDblClick)}).on("mouseover",function(a){i(this,a,R.elementMouseover)}).on("mouseout",function(a,b){i(this,a,R.elementMouseout)})}else ea.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,c){if(W||!b[a.series])return 0;var d=b[a.series],e=d.values[c],f=this;R.elementClick({point:e,series:d,pos:[s(v(e,c))+l.left,t(w(e,c))+l.top],relativePos:[s(v(e,c))+l.left,t(w(e,c))+l.top],seriesIndex:a.series,pointIndex:c,event:d3.event,element:f})}).on("dblclick",function(a,c){if(W||!b[a.series])return 0;var d=b[a.series],e=d.values[c];R.elementDblClick({point:e,series:d,pos:[s(v(e,c))+l.left,t(w(e,c))+l.top],relativePos:[s(v(e,c))+l.left,t(w(e,c))+l.top],seriesIndex:a.series,pointIndex:c})}).on("mouseover",function(a,c){if(W||!b[a.series])return 0;var d=b[a.series],e=d.values[c];R.elementMouseover({point:e,series:d,pos:[s(v(e,c))+l.left,t(w(e,c))+l.top],relativePos:[s(v(e,c))+l.left,t(w(e,c))+l.top],seriesIndex:a.series,pointIndex:c,color:o(a,c)})}).on("mouseout",function(a,c){if(W||!b[a.series])return 0;var d=b[a.series],e=d.values[c];R.elementMouseout({point:e,series:d,pos:[s(v(e,c))+l.left,t(w(e,c))+l.top],relativePos:[s(v(e,c))+l.left,t(w(e,c))+l.top],seriesIndex:a.series,pointIndex:c,color:o(a,c)})})}r=d3.select(this);var Z=a.utils.availableWidth(m,r,l),$=a.utils.availableHeight(n,r,l);a.utils.initSVG(r),b.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var _=e.yScale().name===d3.scale.log().name?!0:!1,aa=K&&L&&O?[]:d3.merge(b.map(function(a){return a.values.map(function(a,b){return{x:v(a,b),y:w(a,b),size:x(a,b)}})}));if(s.domain(K||d3.extent(aa.map(function(a){return a.x}).concat(z))),E&&b[0]?s.range(M||[(Z*F+Z)/(2*b[0].values.length),Z-Z*(1+F)/(2*b[0].values.length)]):s.range(M||[0,Z]),_){var ba=d3.min(aa.map(function(a){return 0!==a.y?a.y:void 0}));t.clamp(!0).domain(L||d3.extent(aa.map(function(a){return 0!==a.y?a.y:.1*ba}).concat(A))).range(N||[$,0])}else t.domain(L||d3.extent(aa.map(function(a){return a.y}).concat(A))).range(N||[$,0]);u.domain(O||d3.extent(aa.map(function(a){return a.size}).concat(B))).range(P||Y),Q=s.domain()[0]===s.domain()[1]||t.domain()[0]===t.domain()[1],s.domain()[0]===s.domain()[1]&&(s.domain()[0]?s.domain([s.domain()[0]-.01*s.domain()[0],s.domain()[1]+.01*s.domain()[1]]):s.domain([-1,1])),t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]-.01*t.domain()[0],t.domain()[1]+.01*t.domain()[1]]):t.domain([-1,1])),isNaN(s.domain()[0])&&s.domain([-1,1]),isNaN(t.domain()[0])&&t.domain([-1,1]),f=f||s,g=g||t,h=h||u;var ca=s(1)!==f(1)||t(1)!==g(1)||u(1)!==h(1);i=i||m,j=j||n;var da=i!==m||j!==n,ea=r.selectAll("g.nv-wrap.nv-scatter").data([b]),fa=ea.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+q),ga=fa.append("defs"),ha=fa.append("g"),ia=ea.select("g");ea.classed("nv-single-point",Q),ha.append("g").attr("class","nv-groups"),ha.append("g").attr("class","nv-point-paths"),fa.append("g").attr("class","nv-point-clips"),ea.attr("transform","translate("+l.left+","+l.top+")"),ga.append("clipPath").attr("id","nv-edge-clip-"+q).append("rect").attr("transform","translate( -10, -10)"),ea.select("#nv-edge-clip-"+q+" rect").attr("width",Z+20).attr("height",$>0?$+20:0),ia.attr("clip-path",G?"url(#nv-edge-clip-"+q+")":""),W=!0;var ja=ea.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});ja.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ja.exit().remove(),ja.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("nv-noninteractive",!C).classed("hover",function(a){return a.hover}),ja.watchTransition(X,"scatter: groups").style("fill",function(a,b){return o(a,b)}).style("stroke",function(a,b){return a.pointBorderColor||p||o(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);var ka=ja.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return D(a[0],b)})});if(ka.enter().append("path").attr("class",function(a){return"nv-point nv-point-"+a[1]}).style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(b){return"translate("+a.utils.NaNtoZero(f(v(b[0],b[1])))+","+a.utils.NaNtoZero(g(w(b[0],b[1])))+")"}).attr("d",a.utils.symbol().type(function(a){return y(a[0])}).size(function(a){return u(x(a[0],a[1]))})),ka.exit().each(c).remove(),ja.exit().selectAll("path.nv-point").watchTransition(X,"scatter exit").attr("transform",function(b){return"translate("+a.utils.NaNtoZero(s(v(b[0],b[1])))+","+a.utils.NaNtoZero(t(w(b[0],b[1])))+")"}).remove(),ka.filter(function(a){return ca||da||d(a,"x",v,"y",w)}).watchTransition(X,"scatter points").attr("transform",function(b){return"translate("+a.utils.NaNtoZero(s(v(b[0],b[1])))+","+a.utils.NaNtoZero(t(w(b[0],b[1])))+")"}),ka.filter(function(a){return ca||da||d(a,"shape",y,"size",x)}).watchTransition(X,"scatter points").attr("d",a.utils.symbol().type(function(a){return y(a[0])}).size(function(a){return u(x(a[0],a[1]))})),V){var la=ja.selectAll(".nv-label").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return D(a[0],b)})});la.enter().append("text").style("fill",function(a,b){return a.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(b){var c=a.utils.NaNtoZero(f(v(b[0],b[1])))+Math.sqrt(u(x(b[0],b[1]))/Math.PI)+2;return"translate("+c+","+a.utils.NaNtoZero(g(w(b[0],b[1])))+")"}).text(function(a,b){return a[0].label}),la.exit().remove(),ja.exit().selectAll("path.nv-label").watchTransition(X,"scatter exit").attr("transform",function(b){var c=a.utils.NaNtoZero(s(v(b[0],b[1])))+Math.sqrt(u(x(b[0],b[1]))/Math.PI)+2;return"translate("+c+","+a.utils.NaNtoZero(t(w(b[0],b[1])))+")"}).remove(),la.each(function(a){d3.select(this).classed("nv-label",!0).classed("nv-label-"+a[1],!1).classed("hover",!1)}),la.watchTransition(X,"scatter labels").attr("transform",function(b){var c=a.utils.NaNtoZero(s(v(b[0],b[1])))+Math.sqrt(u(x(b[0],b[1]))/Math.PI)+2;return"translate("+c+","+a.utils.NaNtoZero(t(w(b[0],b[1])))+")"})}U?(clearTimeout(k),k=setTimeout(T,U)):T(),f=s.copy(),g=t.copy(),h=u.copy(),i=m,j=n}),X.renderEnd("scatter immediate"),e}var f,g,h,i,j,k,l={top:0,right:0,bottom:0,left:0},m=null,n=null,o=a.utils.defaultColor(),p=null,q=Math.floor(1e5*Math.random()),r=null,s=d3.scale.linear(),t=d3.scale.linear(),u=d3.scale.linear(),v=function(a){return a.x},w=function(a){return a.y},x=function(a){return a.size||1},y=function(a){return a.shape||"circle"},z=[],A=[],B=[],C=!0,D=function(a){return!a.notActive},E=!1,F=.1,G=!1,H=!0,I=!1,J=function(){return 25},K=null,L=null,M=null,N=null,O=null,P=null,Q=!1,R=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),S=!0,T=250,U=300,V=!1,W=!1,X=a.utils.renderWatch(R,T),Y=[16,256],Z={};return e.dispatch=R,e.options=a.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return a.dom.write(function(){r.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(b,c,d){a.dom.write(function(){r.select(".nv-groups").selectAll(".nv-series-"+b).selectAll(".nv-point-"+c).classed("hover",d)})}},R.on("elementMouseover.point",function(a){C&&e._calls.highlightPoint(a.seriesIndex,a.pointIndex,!0)}),R.on("elementMouseout.point",function(a){C&&e._calls.highlightPoint(a.seriesIndex,a.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},xScale:{get:function(){return s},set:function(a){s=a}},yScale:{get:function(){return t},set:function(a){t=a}},pointScale:{get:function(){return u},set:function(a){u=a}},xDomain:{get:function(){return K},set:function(a){K=a}},yDomain:{get:function(){return L},set:function(a){L=a}},pointDomain:{get:function(){return O},set:function(a){O=a}},xRange:{get:function(){return M},set:function(a){M=a}},yRange:{get:function(){return N},set:function(a){N=a}},pointRange:{get:function(){return P},set:function(a){P=a}},forceX:{get:function(){return z},set:function(a){z=a}},forceY:{get:function(){return A},set:function(a){A=a}},forcePoint:{get:function(){return B},set:function(a){B=a}},interactive:{get:function(){return C},set:function(a){C=a}},pointActive:{get:function(){return D},set:function(a){D=a}},padDataOuter:{get:function(){return F},set:function(a){F=a}},padData:{get:function(){return E},set:function(a){E=a}},clipEdge:{get:function(){return G},set:function(a){G=a}},clipVoronoi:{get:function(){return H},set:function(a){H=a}},clipRadius:{get:function(){return J},set:function(a){J=a}},showVoronoi:{get:function(){return I},set:function(a){I=a}},id:{get:function(){return q},set:function(a){q=a}},interactiveUpdateDelay:{get:function(){return U},set:function(a){U=a}},showLabels:{get:function(){return V},set:function(a){V=a}},pointBorderColor:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return v},set:function(a){v=d3.functor(a)}},y:{get:function(){return w},set:function(a){w=d3.functor(a)}},pointSize:{get:function(){return x},set:function(a){x=d3.functor(a)}},pointShape:{get:function(){return y},set:function(a){y=d3.functor(a)}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return T},set:function(a){T=a,X.reset(T)}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b)}},useVoronoi:{get:function(){return S},set:function(a){S=a,S===!1&&(H=!1)}}}),a.utils.initOptions(e),e},a.models.scatterChart=function(){"use strict";function b(A){return F.reset(),F.models(c),u&&F.models(d),v&&F.models(e),r&&F.models(g),s&&F.models(h),A.each(function(A){n=d3.select(this),a.utils.initSVG(n);var I=a.utils.availableWidth(l,n,j),J=a.utils.availableHeight(m,n,j);if(b.update=function(){0===B?n.call(b):n.transition().duration(B).call(b)},b.container=this,x.setter(H(A),b.update).getter(G(A)).update(),x.disabled=A.map(function(a){return!!a.disabled}),!y){var K;y={};for(K in x)x[K]instanceof Array?y[K]=x[K].slice(0):y[K]=x[K]}if(!(A&&A.length&&A.filter(function(a){return a.values.length}).length))return a.utils.noData(b,n),F.renderEnd("scatter immediate"),b;n.selectAll(".nv-noData").remove(),p=c.xScale(),q=c.yScale();var L=n.selectAll("g.nv-wrap.nv-scatterChart").data([A]),M=L.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+c.id()),N=M.append("g"),O=L.select("g");if(N.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-scatterWrap"),N.append("g").attr("class","nv-regressionLinesWrap"),N.append("g").attr("class","nv-distWrap"),N.append("g").attr("class","nv-legendWrap"),w&&O.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),t){var P=I;f.width(P),L.select(".nv-legendWrap").datum(A).call(f),k||f.height()===j.top||(j.top=f.height(),J=a.utils.availableHeight(m,n,j)),L.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")}else O.select(".nv-legendWrap").selectAll("*").remove();L.attr("transform","translate("+j.left+","+j.top+")"),c.width(I).height(J).color(A.map(function(a,b){return a.color=a.color||o(a,b),a.color}).filter(function(a,b){return!A[b].disabled})).showLabels(C),L.select(".nv-scatterWrap").datum(A.filter(function(a){return!a.disabled})).call(c),L.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+c.id()+")");var Q=L.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});Q.enter().append("g").attr("class","nv-regLines");var R=Q.selectAll(".nv-regLine").data(function(a){return[a]});R.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),R.filter(function(a){return a.intercept&&a.slope}).watchTransition(F,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(a,b){return q(p.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return q(p.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return o(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"==typeof a.slope||"undefined"==typeof a.intercept?0:1}),u&&(d.scale(p)._ticks(a.utils.calcTicksX(I/100,A)).tickSize(-J,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")").call(d)),v&&(e.scale(q)._ticks(a.utils.calcTicksY(J/36,A)).tickSize(-I,0),O.select(".nv-y.nv-axis").call(e)),r&&(g.getData(c.x()).scale(p).width(I).color(A.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!A[b].disabled})),N.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),O.select(".nv-distributionX").attr("transform","translate(0,"+q.range()[0]+")").datum(A.filter(function(a){return!a.disabled})).call(g)),s&&(h.getData(c.y()).scale(q).width(J).color(A.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!A[b].disabled})),N.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),O.select(".nv-distributionY").attr("transform","translate("+(w?I:-h.size())+",0)").datum(A.filter(function(a){return!a.disabled})).call(h)),f.dispatch.on("stateChange",function(a){for(var c in a)x[c]=a[c];z.stateChange(x),b.update()}),z.on("changeState",function(a){"undefined"!=typeof a.disabled&&(A.forEach(function(b,c){b.disabled=a.disabled[c]}),x.disabled=a.disabled),b.update()}),c.dispatch.on("elementMouseout.tooltip",function(a){i.hidden(!0),n.select(".nv-chart-"+c.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0),n.select(".nv-chart-"+c.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",h.size())}),c.dispatch.on("elementMouseover.tooltip",function(a){n.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.relativePos[1]-J),n.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.relativePos[0]+g.size()),i.data(a).hidden(!1)}),D=p.copy(),E=q.copy()}),F.renderEnd("scatter with line immediate"),b}var c=a.models.scatter(),d=a.models.axis(),e=a.models.axis(),f=a.models.legend(),g=a.models.distribution(),h=a.models.distribution(),i=a.models.tooltip(),j={top:30,right:20,bottom:50,left:75},k=null,l=null,m=null,n=null,o=a.utils.defaultColor(),p=c.xScale(),q=c.yScale(),r=!1,s=!1,t=!0,u=!0,v=!0,w=!1,x=a.utils.state(),y=null,z=d3.dispatch("stateChange","changeState","renderEnd"),A=null,B=250,C=!1;c.xScale(p).yScale(q),d.orient("bottom").tickPadding(10),e.orient(w?"right":"left").tickPadding(10),g.axis("x"),h.axis("y"),i.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return e.tickFormat()(a,b)});var D,E,F=a.utils.renderWatch(z,B),G=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},H=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return b.dispatch=z,b.scatter=c,b.legend=f,b.xAxis=d,b.yAxis=e,b.distX=g,b.distY=h,b.tooltip=i,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},container:{get:function(){return n},set:function(a){n=a}},showDistX:{get:function(){return r},set:function(a){r=a}},showDistY:{get:function(){return s},set:function(a){s=a}},showLegend:{get:function(){return t},set:function(a){t=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return A},set:function(a){A=a}},duration:{get:function(){return B},set:function(a){B=a}},showLabels:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return j},set:function(a){void 0!==a.top&&(j.top=a.top,k=a.top),j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,e.orient(a?"right":"left")}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b),f.color(o),g.color(o),h.color(o)}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.models.sparkline=function(){"use strict";function b(k){return t.reset(),k.each(function(b){var k=h-g.left-g.right,s=i-g.top-g.bottom;j=d3.select(this),a.utils.initSVG(j),l.domain(c||d3.extent(b,n)).range(e||[0,k]),m.domain(d||d3.extent(b,o)).range(f||[s,0]);var t=j.selectAll("g.nv-wrap.nv-sparkline").data([b]),u=t.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");u.append("g"),t.select("g");t.attr("transform","translate("+g.left+","+g.top+")");var v=t.selectAll("path").data(function(a){return[a]});v.enter().append("path"),v.exit().remove(),v.style("stroke",function(a,b){return a.color||p(a,b)}).attr("d",d3.svg.line().x(function(a,b){return l(n(a,b))}).y(function(a,b){return m(o(a,b))}));var w=t.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];return c.pointIndex=b,c}return null}var c=a.map(function(a,b){return o(a,b)}),d=b(c.lastIndexOf(m.domain()[1])),e=b(c.indexOf(m.domain()[0])),f=b(c.length-1);return[q?e:null,q?d:null,r?f:null].filter(function(a){return null!=a})});w.enter().append("circle"),w.exit().remove(),w.attr("cx",function(a,b){return l(n(a,a.pointIndex))}).attr("cy",function(a,b){return m(o(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return n(a,a.pointIndex)==l.domain()[1]?"nv-point nv-currentValue":o(a,a.pointIndex)==m.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),t.renderEnd("sparkline immediate"),b}var c,d,e,f,g={top:2,right:0,bottom:2,left:0},h=400,i=32,j=null,k=!0,l=d3.scale.linear(),m=d3.scale.linear(),n=function(a){return a.x},o=function(a){return a.y},p=a.utils.getColor(["#000"]),q=!0,r=!0,s=d3.dispatch("renderEnd"),t=a.utils.renderWatch(s);return b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xDomain:{get:function(){return c},set:function(a){c=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},animate:{get:function(){return k},set:function(a){k=a}},showMinMaxPoints:{get:function(){return q},set:function(a){q=a}},showCurrentPoint:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return n},set:function(a){n=d3.functor(a)}},y:{get:function(){return o},set:function(a){o=d3.functor(a)}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},color:{get:function(){return p},set:function(b){p=a.utils.getColor(b)}}}),b.dispatch=s,a.utils.initOptions(b),b},a.models.sparklinePlus=function(){"use strict";function b(p){return r.reset(),r.models(e),p.each(function(p){function q(){if(!j){var a=z.selectAll(".nv-hoverValue").data(i),b=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),a.attr("transform",function(a){return"translate("+c(e.x()(p[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),i.length&&(b.append("line").attr("x1",0).attr("y1",-f.top).attr("x2",0).attr("y2",u),b.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-f.top).attr("text-anchor","end").attr("dy",".9em"),z.select(".nv-hoverValue .nv-xValue").text(k(e.x()(p[i[0]],i[0]))),b.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-f.top).attr("text-anchor","start").attr("dy",".9em"),z.select(".nv-hoverValue .nv-yValue").text(l(e.y()(p[i[0]],i[0]))))}}function r(){function a(a,b){for(var c=Math.abs(e.x()(a[0],0)-b),d=0,f=0;f<a.length;f++)Math.abs(e.x()(a[f],f)-b)<c&&(c=Math.abs(e.x()(a[f],f)-b),d=f);return d}if(!j){var b=d3.mouse(this)[0]-f.left;i=[a(p,Math.round(c.invert(b)))],q()}}var s=d3.select(this);a.utils.initSVG(s);var t=a.utils.availableWidth(g,s,f),u=a.utils.availableHeight(h,s,f);if(b.update=function(){s.call(b)},b.container=this,!p||!p.length)return a.utils.noData(b,s),b;s.selectAll(".nv-noData").remove();var v=e.y()(p[p.length-1],p.length-1);c=e.xScale(),d=e.yScale();var w=s.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),y=x.append("g"),z=w.select("g");y.append("g").attr("class","nv-sparklineWrap"),y.append("g").attr("class","nv-valueWrap"),y.append("g").attr("class","nv-hoverArea"),w.attr("transform","translate("+f.left+","+f.top+")");var A=z.select(".nv-sparklineWrap");if(e.width(t).height(u),A.call(e),m){var B=z.select(".nv-valueWrap"),C=B.selectAll(".nv-currentValue").data([v]);C.enter().append("text").attr("class","nv-currentValue").attr("dx",o?-8:8).attr("dy",".9em").style("text-anchor",o?"end":"start"),C.attr("x",t+(o?f.right:0)).attr("y",n?function(a){return d(a)}:0).style("fill",e.color()(p[p.length-1],p.length-1)).text(l(v))}y.select(".nv-hoverArea").append("rect").on("mousemove",r).on("click",function(){j=!j}).on("mouseout",function(){i=[],q()}),z.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-f.left+","+-f.top+")"}).attr("width",t+f.left+f.right).attr("height",u+f.top)}),r.renderEnd("sparklinePlus immediate"),b}var c,d,e=a.models.sparkline(),f={top:15,right:100,bottom:10,left:50},g=null,h=null,i=[],j=!1,k=d3.format(",r"),l=d3.format(",.2f"),m=!0,n=!0,o=!1,p=null,q=d3.dispatch("renderEnd"),r=a.utils.renderWatch(q);return b.dispatch=q,b.sparkline=e,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},xTickFormat:{get:function(){return k},set:function(a){k=a}},yTickFormat:{get:function(){return l},set:function(a){l=a}},showLastValue:{get:function(){return m},set:function(a){m=a}},alignValue:{get:function(){return n},set:function(a){n=a}},rightAlignValue:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.stackedArea=function(){"use strict";function b(n){return v.reset(),v.models(s),n.each(function(n){var t=f-e.left-e.right,w=g-e.top-e.bottom;j=d3.select(this),a.utils.initSVG(j),c=s.xScale(),d=s.yScale();var x=n;n.forEach(function(a,b){a.seriesIndex=b,a.values=a.values.map(function(a,c){return a.index=c,a.seriesIndex=b,a})});var y=n.filter(function(a){return!a.disabled});n=d3.layout.stack().order(p).offset(o).values(function(a){return a.values}).x(k).y(l).out(function(a,b,c){a.display={y:c,y0:b}})(y);var z=j.selectAll("g.nv-wrap.nv-stackedarea").data([n]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),B=A.append("defs"),C=A.append("g"),D=z.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),z.attr("transform","translate("+e.left+","+e.top+")"),0==s.forceY().length&&s.forceY().push(0),s.width(t).height(w).x(k).y(function(a){return void 0!==a.display?a.display.y+a.display.y0:void 0}).color(n.map(function(a,b){return a.color=a.color||h(a,a.seriesIndex),a.color}));var E=D.select(".nv-scatterWrap").datum(n);E.call(s),B.append("clipPath").attr("id","nv-edge-clip-"+i).append("rect"),z.select("#nv-edge-clip-"+i+" rect").attr("width",t).attr("height",w),D.attr("clip-path",r?"url(#nv-edge-clip-"+i+")":"");var F=d3.svg.area().defined(m).x(function(a,b){return c(k(a,b))}).y0(function(a){return d(a.display.y0)}).y1(function(a){return d(a.display.y+a.display.y0)}).interpolate(q),G=d3.svg.area().defined(m).x(function(a,b){return c(k(a,b))}).y0(function(a){return d(a.display.y0)}).y1(function(a){return d(a.display.y0)}),H=D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});H.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return G(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),u.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),u.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1),u.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}),H.exit().remove(),H.style("fill",function(a,b){return a.color||h(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||h(a,a.seriesIndex)}),H.watchTransition(v,"stackedArea path").attr("d",function(a,b){return F(a.values,b)}),s.dispatch.on("elementMouseover.area",function(a){D.select(".nv-chart-"+i+" .nv-area-"+a.seriesIndex).classed("hover",!0)}),s.dispatch.on("elementMouseout.area",function(a){D.select(".nv-chart-"+i+" .nv-area-"+a.seriesIndex).classed("hover",!1)}),b.d3_stackedOffset_stackPercent=function(a){var b,c,d,e=a.length,f=a[0].length,g=[];for(c=0;f>c;++c){for(b=0,d=0;b<x.length;b++)d+=l(x[b].values[c]);if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=0}for(c=0;f>c;++c)g[c]=0;return g}}),v.renderEnd("stackedArea immediate"),b}var c,d,e={top:0,right:0,bottom:0,left:0},f=960,g=500,h=a.utils.defaultColor(),i=Math.floor(1e5*Math.random()),j=null,k=function(a){return a.x},l=function(a){return a.y},m=function(a,b){return!isNaN(l(a,b))&&null!==l(a,b)},n="stack",o="zero",p="default",q="linear",r=!1,s=a.models.scatter(),t=250,u=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");s.pointSize(2.2).pointDomain([2.2,2.2]);var v=a.utils.renderWatch(u,t);return b.dispatch=u,b.scatter=s,s.dispatch.on("elementClick",function(){u.elementClick.apply(this,arguments)}),s.dispatch.on("elementMouseover",function(){u.elementMouseover.apply(this,arguments)}),s.dispatch.on("elementMouseout",function(){u.elementMouseout.apply(this,arguments)}),b.interpolate=function(a){return arguments.length?(q=a,b):q},b.duration=function(a){
return arguments.length?(t=a,v.reset(t),s.duration(t),b):t},b.dispatch=u,b.scatter=s,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},defined:{get:function(){return m},set:function(a){m=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},offset:{get:function(){return o},set:function(a){o=a}},order:{get:function(){return p},set:function(a){p=a}},interpolate:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return k},set:function(a){k=d3.functor(a)}},y:{get:function(){return l},set:function(a){l=d3.functor(a)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}},style:{get:function(){return n},set:function(a){switch(n=a){case"stack":b.offset("zero"),b.order("default");break;case"stream":b.offset("wiggle"),b.order("inside-out");break;case"stream-center":b.offset("silhouette"),b.order("inside-out");break;case"expand":b.offset("expand"),b.order("default");break;case"stack_percent":b.offset(b.d3_stackedOffset_stackPercent),b.order("default")}}},duration:{get:function(){return t},set:function(a){t=a,v.reset(t),s.duration(t)}}}),a.utils.inheritOptions(b,s),a.utils.initOptions(b),b},a.models.stackedAreaChart=function(){"use strict";function b(k){return L.reset(),L.models(e),u&&L.models(f),v&&L.models(g),k.each(function(k){function D(){u&&X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+T+")").transition().duration(I).call(f)}function L(){if(v){if("expand"===e.style()||"stack_percent"===e.style()){var a=g.tickFormat();J&&a===P||(J=a),g.tickFormat(P)}else J&&(g.tickFormat(J),J=null);X.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(g)}}function Q(a){var b=X.select(".nv-focus .nv-stackedWrap").datum(k.filter(function(a){return!a.disabled}).map(function(b,c){return{key:b.key,area:b.area,classed:b.classed,values:b.values.filter(function(b,c){return e.x()(b,c)>=a[0]&&e.x()(b,c)<=a[1]}),disableTooltip:b.disableTooltip}}));b.transition().duration(I).call(e),D(),L()}var R=d3.select(this);a.utils.initSVG(R);var S=a.utils.availableWidth(o,R,m),T=a.utils.availableHeight(p,R,m)-(x?l.height():0);if(b.update=function(){R.transition().duration(I).call(b)},b.container=this,B.setter(O(k),b.update).getter(N(k)).update(),B.disabled=k.map(function(a){return!!a.disabled}),!C){var U;C={};for(U in B)B[U]instanceof Array?C[U]=B[U].slice(0):C[U]=B[U]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return a.utils.noData(b,R),b;R.selectAll(".nv-noData").remove(),c=e.xScale(),d=e.yScale();var V=R.selectAll("g.nv-wrap.nv-stackedAreaChart").data([k]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),X=V.select("g");W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap");var Y=W.append("g").attr("class","nv-focus");Y.append("g").attr("class","nv-background").append("rect"),Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-stackedWrap"),Y.append("g").attr("class","nv-interactive");W.append("g").attr("class","nv-focusWrap");if(s){var Z=r&&"top"===t?S-F:S;if(h.width(Z),X.select(".nv-legendWrap").datum(k).call(h),"bottom"===t){var $=(u?12:0)+10;m.bottom=Math.max(h.height()+$,m.bottom),T=a.utils.availableHeight(p,R,m)-(x?l.height():0);var _=T+$;X.select(".nv-legendWrap").attr("transform","translate(0,"+_+")")}else"top"===t&&(n||m.top==h.height()||(m.top=h.height(),T=a.utils.availableHeight(p,R,m)-(x?l.height():0)),X.select(".nv-legendWrap").attr("transform","translate("+(S-Z)+","+-m.top+")"))}else X.select(".nv-legendWrap").selectAll("*").remove();if(r){var aa=[{key:H.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=e.style(),style:"stack"},{key:H.stream||"Stream",metaKey:"Stream",disabled:"stream"!=e.style(),style:"stream"},{key:H.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=e.style(),style:"expand"},{key:H.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=e.style(),style:"stack_percent"}];F=G.length/3*260,aa=aa.filter(function(a){return-1!==G.indexOf(a.metaKey)}),i.width(F).color(["#444","#444","#444"]),X.select(".nv-controlsWrap").datum(aa).call(i);var ba=Math.max(i.height(),s&&"top"===t?h.height():0);m.top!=ba&&(m.top=ba,T=a.utils.availableHeight(p,R,m)-(x?l.height():0)),X.select(".nv-controlsWrap").attr("transform","translate(0,"+-m.top+")")}else X.select(".nv-controlsWrap").selectAll("*").remove();V.attr("transform","translate("+m.left+","+m.top+")"),w&&X.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),y&&(j.width(S).height(T).margin({left:m.left,top:m.top}).svgContainer(R).xScale(c),V.select(".nv-interactive").call(j)),X.select(".nv-focus .nv-background rect").attr("width",S).attr("height",T),e.width(S).height(T).color(k.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!k[b].disabled}));var ca=X.select(".nv-focus .nv-stackedWrap").datum(k.filter(function(a){return!a.disabled}));if(u&&f.scale(c)._ticks(a.utils.calcTicksX(S/100,k)).tickSize(-T,0),v){var da;da="wiggle"===e.offset()?0:a.utils.calcTicksY(T/36,k),g.scale(d)._ticks(da).tickSize(-S,0)}if(x){l.width(S),X.select(".nv-focusWrap").attr("transform","translate(0,"+(T+m.bottom+l.margin().top)+")").datum(k.filter(function(a){return!a.disabled})).call(l);var ea=l.brush.empty()?l.xDomain():l.brush.extent();null!==ea&&Q(ea)}else ca.transition().call(e),D(),L();e.dispatch.on("areaClick.toggle",function(a){1===k.filter(function(a){return!a.disabled}).length?k.forEach(function(a){a.disabled=!1}):k.forEach(function(b,c){b.disabled=c!=a.seriesIndex}),B.disabled=k.map(function(a){return!!a.disabled}),E.stateChange(B),b.update()}),h.dispatch.on("stateChange",function(a){for(var c in a)B[c]=a[c];E.stateChange(B),b.update()}),i.dispatch.on("legendClick",function(a,c){a.disabled&&(aa=aa.map(function(a){return a.disabled=!0,a}),a.disabled=!1,e.style(a.style),B.style=e.style(),E.stateChange(B),b.update())}),j.dispatch.on("elementMousemove",function(c){e.clearHighlights();var d,f,g,h=[],i=0,l=!0;if(k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(j,k){f=a.interactiveBisect(j.values,c.pointXValue,b.x());var m=j.values[f],n=b.y()(m,f);if(null!=n&&e.highlightPoint(k,f,!0),"undefined"!=typeof m){"undefined"==typeof d&&(d=m),"undefined"==typeof g&&(g=b.xScale()(b.x()(m,f)));var o="expand"==e.style()?m.display.y:b.y()(m,f);h.push({key:j.key,value:o,color:q(j,j.seriesIndex),point:m}),z&&"expand"!=e.style()&&null!=o&&(i+=o,l=!1)}}),h.reverse(),h.length>2){var m=b.yScale().invert(c.mouseY),n=null;h.forEach(function(a,b){m=Math.abs(m);var c=Math.abs(a.point.display.y0),d=Math.abs(a.point.display.y);return m>=c&&d+c>=m?void(n=b):void 0}),null!=n&&(h[n].highlight=!0)}z&&"expand"!=e.style()&&h.length>=2&&!l&&h.push({key:A,value:i,total:!0});var o=b.x()(d,f),p=j.tooltip.valueFormatter();"expand"===e.style()||"stack_percent"===e.style()?(K||(K=p),p=d3.format(".1%")):K&&(p=K,K=null),j.tooltip.valueFormatter(p).data({value:o,series:h})(),j.renderGuideLine(g)}),j.dispatch.on("elementMouseout",function(a){e.clearHighlights()}),l.dispatch.on("onBrush",function(a){Q(a)}),E.on("changeState",function(a){"undefined"!=typeof a.disabled&&k.length===a.disabled.length&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),B.disabled=a.disabled),"undefined"!=typeof a.style&&(e.style(a.style),M=a.style),b.update()})}),L.renderEnd("stacked Area chart immediate"),b}var c,d,e=a.models.stackedArea(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend(),i=a.models.legend(),j=a.interactiveGuideline(),k=a.models.tooltip(),l=a.models.focus(a.models.stackedArea()),m={top:10,right:25,bottom:50,left:60},n=null,o=null,p=null,q=a.utils.defaultColor(),r=!0,s=!0,t="top",u=!0,v=!0,w=!1,x=!1,y=!1,z=!0,A="TOTAL",B=a.utils.state(),C=null,D=null,E=d3.dispatch("stateChange","changeState","renderEnd"),F=250,G=["Stacked","Stream","Expanded"],H={},I=250;B.style=e.style(),f.orient("bottom").tickPadding(7),g.orient(w?"right":"left"),k.headerFormatter(function(a,b){return f.tickFormat()(a,b)}).valueFormatter(function(a,b){return g.tickFormat()(a,b)}),j.tooltip.headerFormatter(function(a,b){return f.tickFormat()(a,b)}).valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)});var J=null,K=null;i.updateState(!1);var L=a.utils.renderWatch(E),M=e.style(),N=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:e.style()}}},O=function(a){return function(b){void 0!==b.style&&(M=b.style),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},P=d3.format("%");return e.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=e.x()(a.point),a.point.y=e.y()(a.point),k.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),b.dispatch=E,b.stacked=e,b.legend=h,b.controls=i,b.xAxis=f,b.x2Axis=l.xAxis,b.yAxis=g,b.y2Axis=l.yAxis,b.interactiveLayer=j,b.tooltip=k,b.focus=l,b.dispatch=E,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return s},set:function(a){s=a}},legendPosition:{get:function(){return t},set:function(a){t=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return D},set:function(a){D=a}},showControls:{get:function(){return r},set:function(a){r=a}},controlLabels:{get:function(){return H},set:function(a){H=a}},controlOptions:{get:function(){return G},set:function(a){G=a}},showTotalInTooltip:{get:function(){return z},set:function(a){z=a}},totalLabel:{get:function(){return A},set:function(a){A=a}},focusEnable:{get:function(){return x},set:function(a){x=a}},focusHeight:{get:function(){return l.height()},set:function(a){l.height(a)}},brushExtent:{get:function(){return l.brushExtent()},set:function(a){l.brushExtent(a)}},margin:{get:function(){return m},set:function(a){void 0!==a.top&&(m.top=a.top,n=a.top),m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},focusMargin:{get:function(){return l.margin},set:function(a){l.margin.top=void 0!==a.top?a.top:l.margin.top,l.margin.right=void 0!==a.right?a.right:l.margin.right,l.margin.bottom=void 0!==a.bottom?a.bottom:l.margin.bottom,l.margin.left=void 0!==a.left?a.left:l.margin.left}},duration:{get:function(){return I},set:function(a){I=a,L.reset(I),e.duration(I),f.duration(I),g.duration(I)}},color:{get:function(){return q},set:function(b){q=a.utils.getColor(b),h.color(q),e.color(q),l.color(q)}},x:{get:function(){return e.x()},set:function(a){e.x(a),l.x(a)}},y:{get:function(){return e.y()},set:function(a){e.y(a),l.y(a)}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,g.orient(w?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(a){y=!!a,b.interactive(!a),b.useVoronoi(!a),e.scatter.interactive(!a)}}}),a.utils.inheritOptions(b,e),a.utils.initOptions(b),b},a.models.stackedAreaWithFocusChart=function(){return a.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},a.models.sunburst=function(){"use strict";function b(a){var b=c(a);return b>90?180:0}function c(a){var b=Math.max(0,Math.min(2*Math.PI,F(a.x))),c=Math.max(0,Math.min(2*Math.PI,F(a.x+a.dx))),d=(b+c)/2*(180/Math.PI)-90;return d}function d(a){var b=Math.max(0,Math.min(2*Math.PI,F(a.x))),c=Math.max(0,Math.min(2*Math.PI,F(a.x+a.dx)));return(c-b)/(2*Math.PI)}function e(a){var b=Math.max(0,Math.min(2*Math.PI,F(a.x))),c=Math.max(0,Math.min(2*Math.PI,F(a.x+a.dx))),d=c-b;return d>z}function f(a,b){var c=d3.interpolate(F.domain(),[l.x,l.x+l.dx]),d=d3.interpolate(G.domain(),[l.y,1]),e=d3.interpolate(G.range(),[l.y?20:0,o]);return 0===b?function(){return J(a)}:function(b){return F.domain(c(b)),G.domain(d(b)).range(e(b)),J(a)}}function g(a){var b=d3.interpolate({x:a.x0,dx:a.dx0,y:a.y0,dy:a.dy0},a);return function(c){var d=b(c);return a.x0=d.x,a.dx0=d.dx,a.y0=d.y,a.dy0=d.dy,J(d)}}function h(a){var b=B(a);I[b]||(I[b]={});var c=I[b];c.dx=a.dx,c.x=a.x,c.dy=a.dy,c.y=a.y}function i(a){a.forEach(function(a){var b=B(a),c=I[b];c?(a.dx0=c.dx,a.x0=c.x,a.dy0=c.dy,a.y0=c.y):(a.dx0=a.dx,a.x0=a.x,a.dy0=a.dy,a.y0=a.y),h(a)})}function j(a){var d=v.selectAll("text"),g=v.selectAll("path");d.transition().attr("opacity",0),l=a,g.transition().duration(D).attrTween("d",f).each("end",function(d){if(d.x>=a.x&&d.x<a.x+a.dx&&d.depth>=a.depth){var f=d3.select(this.parentNode),g=f.select("text");g.transition().duration(D).text(function(a){return y(a)}).attr("opacity",function(a){return e(a)?1:0}).attr("transform",function(){var e=this.getBBox().width;if(0===d.depth)return"translate("+e/2*-1+",0)";if(d.depth===a.depth)return"translate("+(G(d.y)+5)+",0)";var f=c(d),g=b(d);return 0===g?"rotate("+f+")translate("+(G(d.y)+5)+",0)":"rotate("+f+")translate("+(G(d.y)+e+5)+",0)rotate("+g+")"})}})}function k(f){return K.reset(),f.each(function(f){v=d3.select(this),m=a.utils.availableWidth(q,v,p),n=a.utils.availableHeight(r,v,p),o=Math.min(m,n)/2,G.range([0,o]);var h=v.select("g.nvd3.nv-wrap.nv-sunburst");h[0][0]?h.attr("transform","translate("+(m/2+p.left+p.right)+","+(n/2+p.top+p.bottom)+")"):h=v.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+u).attr("transform","translate("+(m/2+p.left+p.right)+","+(n/2+p.top+p.bottom)+")"),v.on("click",function(a,b){E.chartClick({data:a,index:b,pos:d3.event,id:u})}),H.value(t[s]||t.count);var k=H.nodes(f[0]).reverse();i(k);var l=h.selectAll(".arc-container").data(k,B),z=l.enter().append("g").attr("class","arc-container");z.append("path").attr("d",J).style("fill",function(a){return a.color?a.color:w(C?(a.children?a:a.parent).name:a.name)}).style("stroke","#FFF").on("click",function(a,b){j(a),E.elementClick({data:a,index:b})}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("opacity",.8),E.elementMouseover({data:a,color:d3.select(this).style("fill"),percent:d(a)})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1),E.elementMouseout({data:a})}).on("mousemove",function(a,b){E.elementMousemove({data:a})}),l.each(function(a){d3.select(this).select("path").transition().duration(D).attrTween("d",g)}),x&&(l.selectAll("text").remove(),l.append("text").text(function(a){return y(a)}).transition().duration(D).attr("opacity",function(a){return e(a)?1:0}).attr("transform",function(a){var d=this.getBBox().width;if(0===a.depth)return"rotate(0)translate("+d/2*-1+",0)";var e=c(a),f=b(a);return 0===f?"rotate("+e+")translate("+(G(a.y)+5)+",0)":"rotate("+e+")translate("+(G(a.y)+d+5)+",0)rotate("+f+")"})),j(k[k.length-1]),l.exit().transition().duration(D).attr("opacity",0).each("end",function(a){var b=B(a);I[b]=void 0}).remove()}),K.renderEnd("sunburst immediate"),k}var l,m,n,o,p={top:0,right:0,bottom:0,left:0},q=600,r=600,s="count",t={count:function(a){return 1},value:function(a){return a.value||a.size},size:function(a){return a.value||a.size}},u=Math.floor(1e4*Math.random()),v=null,w=a.utils.defaultColor(),x=!1,y=function(a){return"count"===s?a.name+" #"+a.value:a.name+" "+(a.value||a.size)},z=.02,A=function(a,b){return a.name>b.name},B=function(a,b){return a.name},C=!0,D=500,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),F=d3.scale.linear().range([0,2*Math.PI]),G=d3.scale.sqrt(),H=d3.layout.partition().sort(A),I={},J=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,F(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,F(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,G(a.y))}).outerRadius(function(a){return Math.max(0,G(a.y+a.dy))}),K=a.utils.renderWatch(E);return k.dispatch=E,k.options=a.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return r},set:function(a){r=a}},mode:{get:function(){return s},set:function(a){s=a}},id:{get:function(){return u},set:function(a){u=a}},duration:{get:function(){return D},set:function(a){D=a}},groupColorByParent:{get:function(){return C},set:function(a){C=!!a}},showLabels:{get:function(){return x},set:function(a){x=!!a}},labelFormat:{get:function(){return y},set:function(a){y=a}},labelThreshold:{get:function(){return z},set:function(a){z=a}},sort:{get:function(){return A},set:function(a){A=a}},key:{get:function(){return B},set:function(a){B=a}},margin:{get:function(){return p},set:function(a){p.top=void 0!=a.top?a.top:p.top,p.right=void 0!=a.right?a.right:p.right,p.bottom=void 0!=a.bottom?a.bottom:p.bottom,p.left=void 0!=a.left?a.left:p.left}},color:{get:function(){return w},set:function(b){w=a.utils.getColor(b)}}}),a.utils.initOptions(k),k},a.models.sunburstChart=function(){"use strict";function b(d){return n.reset(),n.models(c),d.each(function(d){var h=d3.select(this);a.utils.initSVG(h);var i=a.utils.availableWidth(f,h,e),j=a.utils.availableHeight(g,h,e);return b.update=function(){0===l?h.call(b):h.transition().duration(l).call(b)},b.container=h,d&&d.length?(h.selectAll(".nv-noData").remove(),c.width(i).height(j).margin(e),void h.call(c)):(a.utils.noData(b,h),b)}),n.renderEnd("sunburstChart immediate"),b}var c=a.models.sunburst(),d=a.models.tooltip(),e={top:30,right:20,bottom:20,left:20},f=null,g=null,h=a.utils.defaultColor(),i=!1,j=(Math.round(1e5*Math.random()),null),k=null,l=250,m=d3.dispatch("stateChange","changeState","renderEnd"),n=a.utils.renderWatch(m);return d.duration(0).headerEnabled(!1).valueFormatter(function(a){return a}),c.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.value||a.data.size,color:a.color,percent:a.percent},i||(delete a.percent,delete a.series.percent),d.data(a).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(a){d()}),b.dispatch=m,b.sunburst=c,b.tooltip=d,b.options=a.utils.optionsFunc.bind(b),b._options=Object.create({},{noData:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return j},set:function(a){j=a}},showTooltipPercent:{get:function(){return i},set:function(a){i=a}},color:{get:function(){return h},set:function(a){h=a,c.color(h)}},duration:{get:function(){return l},set:function(a){l=a,n.reset(l),c.duration(l)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left,c.margin(e)}}}),a.utils.inheritOptions(b,c),a.utils.initOptions(b),b},a.version="1.8.5"}(),function(a){"use strict";var b=a.nv;"undefined"!=typeof exports&&(b=require("nvd3")),angular.module("nvd3",[]).directive("nvd3",["nvd3Utils",function(a){return{restrict:"AE",scope:{data:"=",options:"=",api:"=?",events:"=?",config:"=?",onReady:"&?"},link:function(c,d,e){function f(a,b,d){a&&b&&angular.forEach(a,function(e,h){"_"===h[0]||("dispatch"===h?((void 0===b[h]||null===b[h])&&c._config.extended&&(b[h]={}),g(e,b[h])):"tooltip"===h?((void 0===b[h]||null===b[h])&&c._config.extended&&(b[h]={}),f(a[h],b[h],d)):"contentGenerator"===h?b[h]&&a[h](b[h]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close","node"].indexOf(h)&&(void 0===b[h]||null===b[h]?c._config.extended&&(b[h]=e()):a[h](b[h])))})}function g(a,b){a&&b&&angular.forEach(a,function(d,e){void 0===b[e]||null===b[e]?c._config.extended&&(b[e]=d.on):a.on(e+"._",b[e])})}function h(b){var e=a.deepExtend(j(b),c.options[b]||{});c._config.extended&&(c.options[b]=e);var f=angular.element("<div></div>").html(e.html||"").addClass(b).addClass(e.className).removeAttr("style").css(e.css);e.html||f.text(e.text),e.enable&&("title"===b?d.prepend(f):"subtitle"===b?angular.element(d[0].querySelector(".title")).after(f):"caption"===b&&d.append(f))}function i(){var b=a.deepExtend(k(),c.options.styles||{});c._config.extended&&(c.options.styles=b),angular.forEach(b.classes,function(a,b){a?d.addClass(b):d.removeClass(b)}),d.removeAttr("style").css(b.css)}function j(a){switch(a){case"title":return{enable:!1,text:"Write Your Title",className:"h4",css:{width:c.options.chart.width+"px",textAlign:"center"}};case"subtitle":return{enable:!1,text:"Write Your Subtitle",css:{width:c.options.chart.width+"px",textAlign:"center"}};case"caption":return{enable:!1,text:"Figure 1. Write Your Caption text.",css:{width:c.options.chart.width+"px",textAlign:"center"}}}}function k(){return{classes:{"with-3d-shadow":!0,"with-transitions":!0,gallery:!1},css:{}}}function l(a,b){a!==b&&(c._config.disabled||(c._config.refreshDataOnly?c.api.update():c.api.refresh()))}var m={extended:!1,visible:!0,disabled:!1,refreshDataOnly:!0,deepWatchOptions:!0,deepWatchData:!0,deepWatchDataDepth:2,debounce:10,debounceImmediate:!0};c.isReady=!1,c._config=angular.extend(m,c.config),c.api={refresh:function(){c.api.updateWithOptions(),c.isReady=!0},refreshWithTimeout:function(a){setTimeout(function(){c.api.refresh()},a)},update:function(){c.chart&&c.svg?"sunburstChart"===c.options.chart.type?c.svg.datum(angular.copy(c.data)).call(c.chart):c.svg.datum(c.data).call(c.chart):c.api.refresh()},updateWithTimeout:function(a){setTimeout(function(){c.api.update()},a)},updateWithOptions:function(d){if(arguments.length){if(c.options=d,c._config.deepWatchOptions&&!c._config.disabled)return}else d=c.options;c.api.clearElement(),angular.isDefined(d)!==!1&&c._config.visible&&(c.chart=b.models[d.chart.type](),c.chart.id=Math.random().toString(36).substr(2,15),angular.forEach(c.chart,function(a,b){"_"===b[0]||["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(b)>=0||("dispatch"===b?((void 0===d.chart[b]||null===d.chart[b])&&c._config.extended&&(d.chart[b]={}),g(c.chart[b],d.chart[b])):["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","focus","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2"].indexOf(b)>=0||"stacked"===b&&"stackedAreaChart"===d.chart.type?((void 0===d.chart[b]||null===d.chart[b])&&c._config.extended&&(d.chart[b]={}),f(c.chart[b],d.chart[b],d.chart.type)):"focusHeight"===b&&"lineChart"===d.chart.type||"focusHeight"===b&&"lineWithFocusChart"===d.chart.type||("xTickFormat"!==b&&"yTickFormat"!==b||"lineWithFocusChart"!==d.chart.type)&&("tooltips"===b&&"boxPlotChart"===d.chart.type||("tooltipXContent"!==b&&"tooltipYContent"!==b||"scatterChart"!==d.chart.type)&&("x"!==b&&"y"!==b||"forceDirectedGraph"!==d.chart.type)&&(void 0===d.chart[b]||null===d.chart[b]?c._config.extended&&("barColor"===b?d.chart[b]=a()():d.chart[b]=a()):c.chart[b](d.chart[b]))))}),c.api.updateWithData(),(d.title||c._config.extended)&&h("title"),(d.subtitle||c._config.extended)&&h("subtitle"),(d.caption||c._config.extended)&&h("caption"),(d.styles||c._config.extended)&&i(),b.addGraph(function(){return c.chart?(c.chart.resizeHandler&&c.chart.resizeHandler.clear(),c.chart.resizeHandler=b.utils.windowResize(function(){c.chart&&c.chart.update&&c.chart.update()}),void 0!==d.chart.zoom&&["scatterChart","lineChart","candlestickBarChart","cumulativeLineChart","historicalBarChart","ohlcBarChart","stackedAreaChart"].indexOf(d.chart.type)>-1&&a.zoom(c,d),c.chart):void 0},d.chart.callback))},updateWithData:function(a){if(arguments.length){if(c.data=a,c._config.deepWatchData&&!c._config.disabled)return}else a="sunburstChart"===c.options.chart.type?angular.copy(c.data):c.data;if(a){d3.select(d[0]).select("svg").remove();var b,e;c.svg=d3.select(d[0]).insert("svg",".caption"),(b=c.options.chart.height)&&(isNaN(+b)||(b+="px"),c.svg.attr("height",b).style({height:b})),(e=c.options.chart.width)?(isNaN(+e)||(e+="px"),c.svg.attr("width",e).style({width:e})):c.svg.attr("width","100%").style({width:"100%"}),c.svg.datum(a).call(c.chart),c.chart&&c.chart.zoomRender&&c.chart.zoomRender()}},clearElement:function(){if(d.find(".title").remove(),d.find(".subtitle").remove(),d.find(".caption").remove(),d.empty(),c.chart&&c.chart.tooltip&&c.chart.tooltip.id&&d3.select("#"+c.chart.tooltip.id()).remove(),b.graphs&&c.chart)for(var a=b.graphs.length-1;a>=0;a--)b.graphs[a]&&b.graphs[a].id===c.chart.id&&b.graphs.splice(a,1);b.tooltip&&b.tooltip.cleanup&&b.tooltip.cleanup(),c.chart&&c.chart.resizeHandler&&c.chart.resizeHandler.clear(),c.chart=null},getScope:function(){return c},getElement:function(){return d}},c._config.deepWatchOptions&&c.$watch("options",a.debounce(function(a){c._config.disabled||c.api.refresh()},c._config.debounce,c._config.debounceImmediate),!0),c._config.deepWatchData&&(1===c._config.deepWatchDataDepth?c.$watchCollection("data",l):c.$watch("data",l,2===c._config.deepWatchDataDepth)),c.$watch("config",function(a,b){a!==b&&(c._config=angular.extend(m,a),c.api.refresh())},!0),c._config.deepWatchOptions||c._config.deepWatchData||c.api.refresh(),angular.forEach(c.events,function(a,b){c.$on(b,function(b,d){return a(b,c,d)})}),d.on("$destroy",function(){c.api.clearElement()}),c.$watch("isReady",function(a){a&&c.onReady&&"function"==typeof c.onReady()&&c.onReady()(c,d)})}}}]).factory("nvd3Utils",function(){return{debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},deepExtend:function(a){var b=this;return angular.forEach(arguments,function(c){c!==a&&angular.forEach(c,function(c,d){a[d]&&a[d].constructor&&a[d].constructor===Object?b.deepExtend(a[d],c):a[d]=c})}),a},zoom:function(a,b){var c=b.chart.zoom,d="undefined"==typeof c.enabled||null===c.enabled?!0:c.enabled;if(d){var e,f,g,h,i,j=a.chart.xAxis.scale(),k=a.chart.yAxis.scale(),l=a.chart.xDomain||j.domain,m=a.chart.yDomain||k.domain,n=j.domain().slice(),o=k.domain().slice(),p=c.scale||1,q=c.translate||[0,0],r=c.scaleExtent||[1,10],s=c.useFixedDomain||!1,t=c.useNiceScale||!1,u=c.horizontalOff||!1,v=c.verticalOff||!1,w=c.unzoomEventType||"dblclick.zoom";t&&(j.nice(),k.nice()),e=function(a,b){return a[0]=Math.min(Math.max(a[0],b[0]),b[1]-b[1]/r[1]),a[1]=Math.max(b[0]+b[1]/r[1],Math.min(a[1],b[1])),a},g=function(){if(void 0!==c.zoomed){var b=c.zoomed(j.domain(),k.domain());u||l([b.x1,b.x2]),v||m([b.y1,b.y2])}else u||l(s?e(j.domain(),n):j.domain()),v||m(s?e(k.domain(),o):k.domain());a.chart&&a.chart.update()},h=function(){if(void 0!==c.unzoomed){var b=c.unzoomed(j.domain(),k.domain());u||l([b.x1,b.x2]),v||m([b.y1,b.y2])}else u||l(n),v||m(o);f.scale(p).translate(q),a.chart&&a.chart.update()},i=function(){void 0!==c.zoomend&&c.zoomend()},f=d3.behavior.zoom().x(j).y(k).scaleExtent(r).on("zoom",g).on("zoomend",i),a.svg&&(a.svg.call(f),f.scale(p).translate(q).event(a.svg),"none"!==w&&a.svg.on(w,h)),a.chart&&(a.chart.zoomRender=function(){f.scale(p).translate(q),j=a.chart.xAxis.scale(),k=a.chart.yAxis.scale(),l=a.chart.xDomain||j.domain,m=a.chart.yDomain||k.domain,n=j.domain().slice(),o=k.domain().slice(),f.x(j).y(k),a.svg.call(f),"none"!==w&&a.svg.on(w,h)})}}}})}(window),angular.module("jsonFormatter",["RecursionHelper"]).provider("JSONFormatterConfig",function(){var a=!1,b=100,c=5;return{get hoverPreviewEnabled(){return a},set hoverPreviewEnabled(b){a=!!b},get hoverPreviewArrayCount(){return b},set hoverPreviewArrayCount(a){b=parseInt(a,10)},get hoverPreviewFieldCount(){return c},set hoverPreviewFieldCount(a){c=parseInt(a,10)},$get:function(){return{hoverPreviewEnabled:a,hoverPreviewArrayCount:b,hoverPreviewFieldCount:c}}}}).directive("jsonFormatter",["RecursionHelper","JSONFormatterConfig",function(a,b){function c(a){return a.replace('"','"')}function d(a){if(void 0===a)return"";if(null===a)return"Object";if("object"==typeof a&&!a.constructor)return"Object";var b=/function (.{1,})\(/,c=b.exec(a.constructor.toString());return c&&c.length>1?c[1]:""}function e(a){return null===a?"null":typeof a}function f(a,b){var d=e(a);return"null"===d||"undefined"===d?d:("string"===d&&(b='"'+c(b)+'"'),"function"===d?a.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{…}":b)}function g(a){var b="";return angular.isObject(a)?(b=d(a),angular.isArray(a)&&(b+="["+a.length+"]")):b=f(a,a),b}function h(a){a.isArray=function(){return angular.isArray(a.json)},a.isObject=function(){return angular.isObject(a.json)},a.getKeys=function(){return a.isObject()?Object.keys(a.json).map(function(a){return""===a?'""':a}):void 0},a.type=e(a.json),a.hasKey="undefined"!=typeof a.key,a.getConstructorName=function(){return d(a.json)},"string"===a.type&&("Invalid Date"!==new Date(a.json).toString()&&(a.isDate=!0),0===a.json.indexOf("http")&&(a.isUrl=!0)),a.isEmptyObject=function(){return a.getKeys()&&!a.getKeys().length&&a.isOpen&&!a.isArray()},a.isOpen=!!a.open,a.toggleOpen=function(){a.isOpen=!a.isOpen},a.childrenOpen=function(){return a.open>1?a.open-1:0},a.openLink=function(b){b&&(window.location.href=a.json)},a.parseValue=function(b){return f(a.json,b)},a.showThumbnail=function(){return!!b.hoverPreviewEnabled&&a.isObject()&&!a.isOpen},a.getThumbnail=function(){if(a.isArray())return a.json.length>b.hoverPreviewArrayCount?"Array["+a.json.length+"]":"["+a.json.map(g).join(", ")+"]";var c=a.getKeys(),d=c.slice(0,b.hoverPreviewFieldCount),e=d.map(function(b){return b+":"+g(a.json[b])}),f=c.length>=5?"…":"";return"{"+e.join(", ")+f+"}"}}return{templateUrl:"json-formatter.html",restrict:"E",replace:!0,scope:{json:"=",key:"=",open:"="},compile:function(b){return a.compile(b,h)}}}]),"object"==typeof module&&(module.exports="jsonFormatter"),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(a){return{compile:function(b,c){angular.isFunction(c)&&(c={post:c});var d,e=b.contents().remove();return{pre:c&&c.pre?c.pre:null,post:function(b,f){d||(d=a(e)),d(b,function(a){f.append(a)}),c&&c.post&&c.post.apply(null,arguments)}}}}}]),angular.module("jsonFormatter").run(["$templateCache",function(a){a.put("json-formatter.html",'<div ng-init="isOpen = open && open > 0" class="json-formatter-row"><a ng-click="toggleOpen()"><span class="toggler {{isOpen ? \'open\' : \'\'}}" ng-if="isObject()"></span> <span class="key" ng-if="hasKey"><span class="key-text">{{key}}</span><span class="colon">:</span></span> <span class="value"><span ng-if="isObject()"><span class="constructor-name">{{getConstructorName(json)}}</span> <span ng-if="isArray()"><span class="bracket">[</span><span class="number">{{json.length}}</span><span class="bracket">]</span></span></span> <span ng-if="!isObject()" ng-click="openLink(isUrl)" class="{{type}}" ng-class="{date: isDate, url: isUrl}">{{parseValue(json)}}</span></span> <span ng-if="showThumbnail()" class="thumbnail-text">{{getThumbnail()}}</span></a><div class="children" ng-if="getKeys().length && isOpen"><json-formatter ng-repeat="key in getKeys() track by $index" json="json[key]" key="key" open="childrenOpen()"></json-formatter></div><div class="children empty object" ng-if="isEmptyObject()"></div><div class="children empty array" ng-if="getKeys() && !getKeys().length && isOpen && isArray()"></div></div>')}]),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.cytoscape=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){
if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict"},{}],2:[function(a,b,c){"use strict";var d=a("./util"),e=a("./is"),f=a("./promise"),g=function(a,b,c){if(!(this instanceof g))return new g(a,b,c);var f=this._private=d.extend({duration:1e3},b,c);f.target=a,f.style=f.style||f.css,f.started=!1,f.playing=!1,f.hooked=!1,f.applying=!1,f.progress=0,f.completes=[],f.frames=[],f.complete&&e.fn(f.complete)&&f.completes.push(f.complete),this.length=1,this[0]=this},h=g.prototype;d.extend(h,{instanceString:function(){return"animation"},hook:function(){var a=this._private;if(!a.hooked){var b,c=a.target._private.animation;b=a.queue?c.queue:c.current,b.push(this),e.elementOrCollection(a.target)&&a.target.cy().addToAnimationPool(a.target),a.hooked=!0}return this},play:function(){var a=this._private;return 1===a.progress&&(a.progress=0),a.playing=!0,a.started=!1,a.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var a=this._private;return a.applying=!0,a.started=!1,a.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var a=this._private;return a.playing=!1,a.started=!1,this},stop:function(){var a=this._private;return a.playing=!1,a.started=!1,a.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(a){var b=this._private;return void 0===a?b.progress*b.duration:this.progress(a/b.duration)},progress:function(a){var b=this._private,c=b.playing;return void 0===a?b.progress:(c&&this.pause(),b.progress=a,b.started=!1,c&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var a=this._private,b=a.playing;b&&this.pause(),a.progress=1-a.progress,a.started=!1;var c=function(b,c){var d=a[b];a[b]=a[c],a[c]=d};c("zoom","startZoom"),c("pan","startPan"),c("position","startPosition");for(var d=0;d<a.style.length;d++){var e=a.style[d],f=e.name,g=a.startStyle[f];a.startStyle[f]=e,a.style[d]=g}return b&&this.play(),this},promise:function(a){var b,c=this._private;switch(a){case"frame":b=c.frames;break;default:case"complete":case"completed":b=c.completes}return new f(function(a,c){b.push(function(){a()})})}}),h.complete=h.completed,b.exports=g},{"./is":83,"./promise":86,"./util":100}],3:[function(a,b,c){"use strict";var d=a("../../is"),e={aStar:function(a){var b=this;a=a||{};var c=function(a,b,d,e){if(a==b)return e.push(f.getElementById(b)),e;if(b in d){var g=d[b],h=o[b];return e.push(f.getElementById(b)),e.push(f.getElementById(h)),c(a,g,d,e)}return void 0},e=function(a,b){if(0===a.length)return void 0;for(var c=0,d=b[a[0]],e=1;e<a.length;e++){var f=b[a[e]];d>f&&(d=f,c=e)}return c},f=this._private.cy;if(null==a||null==a.root)return void 0;var g=d.string(a.root)?this.filter(a.root)[0]:a.root[0];if(null==a.goal)return void 0;var h=d.string(a.goal)?this.filter(a.goal)[0]:a.goal[0];if(null!=a.heuristic&&d.fn(a.heuristic))var i=a.heuristic;else var i=function(){return 0};if(null!=a.weight&&d.fn(a.weight))var j=a.weight;else var j=function(a){return 1};if(null!=a.directed)var k=a.directed;else var k=!1;var l=[],m=[g.id()],n={},o={},p={},q={};p[g.id()]=0,q[g.id()]=i(g);for(var r=this.edges().stdFilter(function(a){return!a.isLoop()}),s=this.nodes(),t=0;m.length>0;){var u=e(m,q),v=f.getElementById(m[u]);if(t++,v.id()==h.id()){var w=c(g.id(),h.id(),n,[]);return w.reverse(),{found:!0,distance:p[v.id()],path:b.spawn(w),steps:t}}l.push(v.id()),m.splice(u,1);var x=v.connectedEdges();k&&(x=x.stdFilter(function(a){return a.data("source")===v.id()})),x=x.intersect(r);for(var y=0;y<x.length;y++){var z=x[y],A=z.connectedNodes().stdFilter(function(a){return a.id()!==v.id()}).intersect(s);if(-1==l.indexOf(A.id())){var B=p[v.id()]+j.apply(z,[z]);-1!=m.indexOf(A.id())?B<p[A.id()]&&(p[A.id()]=B,q[A.id()]=B+i(A),n[A.id()]=v.id()):(p[A.id()]=B,q[A.id()]=B+i(A),m.push(A.id()),n[A.id()]=v.id(),o[A.id()]=z.id())}}}return{found:!1,distance:void 0,path:void 0,steps:t}}};b.exports=e},{"../../is":83}],4:[function(a,b,c){"use strict";var d=a("../../is"),e=a("../../util"),f={bellmanFord:function(a){var b=this;if(a=a||{},null!=a.weight&&d.fn(a.weight))var c=a.weight;else var c=function(a){return 1};if(null!=a.directed)var f=a.directed;else var f=!1;if(null==a.root)return void 0;if(d.string(a.root))var g=this.filter(a.root)[0];else var g=a.root[0];for(var h=this._private.cy,i=this.edges().stdFilter(function(a){return!a.isLoop()}),j=this.nodes(),k=j.length,l={},m=0;k>m;m++)l[j[m].id()]=m;for(var n=[],o=[],p=[],m=0;k>m;m++)j[m].id()===g.id()?n[m]=0:n[m]=1/0,o[m]=void 0;for(var q=!1,m=1;k>m;m++){q=!1;for(var r=0;r<i.length;r++){var s=l[i[r].source().id()],t=l[i[r].target().id()],u=c.apply(i[r],[i[r]]),v=n[s]+u;if(v<n[t]&&(n[t]=v,o[t]=s,p[t]=i[r],q=!0),!f){var v=n[t]+u;v<n[s]&&(n[s]=v,o[s]=t,p[s]=i[r],q=!0)}}if(!q)break}if(q)for(var r=0;r<i.length;r++){var s=l[i[r].source().id()],t=l[i[r].target().id()],u=c.apply(i[r],[i[r]]);if(n[s]+u<n[t])return e.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var w=[],m=0;k>m;m++)w.push(j[m].id());var x={distanceTo:function(a){if(d.string(a))var b=h.filter(a)[0].id();else var b=a.id();return n[l[b]]},pathTo:function(a){var c=function(a,b,c,d,e,f){for(;;){if(e.push(h.getElementById(d[c])),e.push(f[c]),b===c)return e;var g=a[c];if("undefined"==typeof g)return void 0;c=g}};if(d.string(a))var e=h.filter(a)[0].id();else var e=a.id();var f=[],i=c(o,l[g.id()],l[e],w,f,p);return null!=i&&i.reverse(),b.spawn(i)},hasNegativeWeightCycle:!1};return x}};b.exports=f},{"../../is":83,"../../util":100}],5:[function(a,b,c){"use strict";var d=a("../../is"),e=a("../../heap"),f={betweennessCentrality:function(a){a=a||{};var b,c;d.fn(a.weight)?(c=a.weight,b=!0):b=!1;for(var f=null!=a.directed?a.directed:!1,g=this._private.cy,h=this.nodes(),i={},j={},k=0,l={set:function(a,b){j[a]=b,b>k&&(k=b)},get:function(a){return j[a]}},m=0;m<h.length;m++){var n=h[m],o=n.id();f?i[o]=n.outgoers().nodes():i[o]=n.openNeighborhood().nodes(),l.set(o,0)}for(var p=0;p<h.length;p++){for(var q=h[p].id(),r=[],s={},t={},u={},v=new e(function(a,b){return u[a]-u[b]}),m=0;m<h.length;m++){var o=h[m].id();s[o]=[],t[o]=0,u[o]=1/0}for(t[q]=1,u[q]=0,v.push(q);!v.empty();){var n=v.pop();if(r.push(n),b)for(var w=0;w<i[n].length;w++){var x,y=i[n][w],z=g.getElementById(n);x=z.edgesTo(y).length>0?z.edgesTo(y)[0]:y.edgesTo(z)[0];var A=c.apply(x,[x]);y=y.id(),u[y]>u[n]+A&&(u[y]=u[n]+A,v.nodes.indexOf(y)<0?v.push(y):v.updateItem(y),t[y]=0,s[y]=[]),u[y]==u[n]+A&&(t[y]=t[y]+t[n],s[y].push(n))}else for(var w=0;w<i[n].length;w++){var y=i[n][w].id();u[y]==1/0&&(v.push(y),u[y]=u[n]+1),u[y]==u[n]+1&&(t[y]=t[y]+t[n],s[y].push(n))}}for(var B={},m=0;m<h.length;m++)B[h[m].id()]=0;for(;r.length>0;)for(var y=r.pop(),w=0;w<s[y].length;w++){var n=s[y][w];B[n]=B[n]+t[n]/t[y]*(1+B[y]),y!=h[p].id()&&l.set(y,l.get(y)+B[y])}}var C={betweenness:function(a){if(d.string(a))var a=g.filter(a).id();else var a=a.id();return l.get(a)},betweennessNormalized:function(a){if(0==k)return 0;if(d.string(a))var a=g.filter(a).id();else var a=a.id();return l.get(a)/k}};return C.betweennessNormalised=C.betweennessNormalized,C}};f.bc=f.betweennessCentrality,b.exports=f},{"../../heap":81,"../../is":83}],6:[function(a,b,c){"use strict";var d=a("../../is"),e=function(a){return a={bfs:a.bfs||!a.dfs,dfs:a.dfs||!a.bfs},function(b,c,e){var f,g,h;d.plainObject(b)&&!d.elementOrCollection(b)&&(f=b,b=f.roots||f.root,c=f.visit,e=f.directed,g=f.std,h=f.thisArg),e=2!==arguments.length||d.fn(c)?e:c,c=d.fn(c)?c:function(){};for(var i,j=this._private.cy,k=b=d.string(b)?this.filter(b):b,l=[],m=[],n={},o={},p={},q=0,r=this.nodes(),s=this.edges(),t=0;t<k.length;t++)k[t].isNode()&&(l.unshift(k[t]),a.bfs&&(p[k[t].id()]=!0,m.push(k[t])),o[k[t].id()]=0);for(;0!==l.length;){var k=a.bfs?l.shift():l.pop();if(a.dfs){if(p[k.id()])continue;p[k.id()]=!0,m.push(k)}var u,v=o[k.id()],w=n[k.id()],x=null==w?void 0:w.connectedNodes().not(k)[0];if(u=g?c.call(h,k,w,x,q++,v):c.call(k,q++,v,k,w,x),u===!0){i=k;break}if(u===!1)break;for(var y=k.connectedEdges(e?function(){return this.data("source")===k.id()}:void 0).intersect(s),t=0;t<y.length;t++){var z=y[t],A=z.connectedNodes(function(){return this.id()!==k.id()}).intersect(r);0===A.length||p[A.id()]||(A=A[0],l.push(A),a.bfs&&(p[A.id()]=!0,m.push(A)),n[A.id()]=z,o[A.id()]=o[k.id()]+1)}}for(var B=[],t=0;t<m.length;t++){var C=m[t],D=n[C.id()];D&&B.push(D),B.push(C)}return{path:j.collection(B,{unique:!0}),found:j.collection(i)}}},f={breadthFirstSearch:e({bfs:!0}),depthFirstSearch:e({dfs:!0})};f.bfs=f.breadthFirstSearch,f.dfs=f.depthFirstSearch,b.exports=f},{"../../is":83}],7:[function(a,b,c){"use strict";var d=a("../../is"),e={closenessCentralityNormalized:function(a){a=a||{};var b=this.cy(),c=a.harmonic;void 0===c&&(c=!0);for(var e={},f=0,g=this.nodes(),h=this.floydWarshall({weight:a.weight,directed:a.directed}),i=0;i<g.length;i++){for(var j=0,k=0;k<g.length;k++)if(i!=k){var l=h.distance(g[i],g[k]);j+=c?1/l:l}c||(j=1/j),j>f&&(f=j),e[g[i].id()]=j}return{closeness:function(a){if(0==f)return 0;if(d.string(a))var a=b.filter(a)[0].id();else var a=a.id();return e[a]/f}}},closenessCentrality:function(a){if(a=a||{},null==a.root)return void 0;if(d.string(a.root))var b=this.filter(a.root)[0];else var b=a.root[0];if(null!=a.weight&&d.fn(a.weight))var c=a.weight;else var c=function(){return 1};if(null!=a.directed&&d.bool(a.directed))var e=a.directed;else var e=!1;var f=a.harmonic;void 0===f&&(f=!0);for(var g=this.dijkstra({root:b,weight:c,directed:e}),h=0,i=this.nodes(),j=0;j<i.length;j++)if(i[j].id()!=b.id()){var k=g.distanceTo(i[j]);h+=f?1/k:k}return f?h:1/h}};e.cc=e.closenessCentrality,e.ccn=e.closenessCentralityNormalised=e.closenessCentralityNormalized,b.exports=e},{"../../is":83}],8:[function(a,b,c){"use strict";var d=a("../../is"),e=a("../../util"),f={degreeCentralityNormalized:function(a){a=a||{};var b=this.cy();if(null!=a.directed)var c=a.directed;else var c=!1;var f=this.nodes(),g=f.length;if(c){for(var h={},i={},j=0,k=0,l=0;g>l;l++){var m=f[l],n=this.degreeCentrality(e.extend({},a,{root:m}));j<n.indegree&&(j=n.indegree),k<n.outdegree&&(k=n.outdegree),h[m.id()]=n.indegree,i[m.id()]=n.outdegree}return{indegree:function(a){if(0==j)return 0;if(d.string(a))var a=b.filter(a)[0].id();else var a=a.id();return h[a]/j},outdegree:function(a){if(0==k)return 0;if(d.string(a))var a=b.filter(a)[0].id();else var a=a.id();return i[a]/k}}}for(var o={},p=0,l=0;g>l;l++){var m=f[l],n=this.degreeCentrality(e.extend({},a,{root:m}));p<n.degree&&(p=n.degree),o[m.id()]=n.degree}return{degree:function(a){if(0==p)return 0;if(d.string(a))var a=b.filter(a)[0].id();else var a=a.id();return o[a]/p}}},degreeCentrality:function(a){a=a||{};var b=this;if(null==a||null==a.root)return void 0;var c=d.string(a.root)?this.filter(a.root)[0]:a.root[0];if(null!=a.weight&&d.fn(a.weight))var e=a.weight;else var e=function(a){return 1};if(null!=a.directed)var f=a.directed;else var f=!1;if(null!=a.alpha&&d.number(a.alpha))var g=a.alpha;else g=0;if(f){for(var h=c.connectedEdges('edge[target = "'+c.id()+'"]').intersection(b),i=c.connectedEdges('edge[source = "'+c.id()+'"]').intersection(b),j=h.length,k=i.length,l=0,m=0,n=0;n<h.length;n++){var o=h[n];l+=e.apply(o,[o])}for(var n=0;n<i.length;n++){var o=i[n];m+=e.apply(o,[o])}return{indegree:Math.pow(j,1-g)*Math.pow(l,g),outdegree:Math.pow(k,1-g)*Math.pow(m,g)}}for(var p=c.connectedEdges().intersection(b),q=p.length,r=0,n=0;n<p.length;n++){var o=p[n];r+=e.apply(o,[o])}return{degree:Math.pow(q,1-g)*Math.pow(r,g)}}};f.dc=f.degreeCentrality,f.dcn=f.degreeCentralityNormalised=f.degreeCentralityNormalized,b.exports=f},{"../../is":83,"../../util":100}],9:[function(a,b,c){"use strict";var d=a("../../is"),e=a("../../heap"),f={dijkstra:function(a,b,c){var f;d.plainObject(a)&&!d.elementOrCollection(a)&&(f=a,a=f.root,b=f.weight,c=f.directed);var g=this._private.cy;b=d.fn(b)?b:function(){return 1};for(var h=d.string(a)?this.filter(a)[0]:a[0],i={},j={},k={},l=this.edges().filter(function(){return!this.isLoop()}),m=this.nodes(),n=function(a){return i[a.id()]},o=function(a,b){i[a.id()]=b,p.updateItem(a)},p=new e(function(a,b){return n(a)-n(b)}),q=0;q<m.length;q++){var r=m[q];i[r.id()]=r.same(h)?0:1/0,p.push(r)}for(var s=function(a,d){for(var e,f=(c?a.edgesTo(d):a.edgesWith(d)).intersect(l),g=1/0,h=0;h<f.length;h++){var i=f[h],j=b.apply(i,[i]);(g>j||!e)&&(g=j,e=i)}return{edge:e,dist:g}};p.size()>0;){var t=p.pop(),u=n(t),v=t.id();if(k[v]=u,u===Math.Infinite)break;for(var w=t.neighborhood().intersect(m),q=0;q<w.length;q++){var x=w[q],y=x.id(),z=s(t,x),A=u+z.dist;A<n(x)&&(o(x,A),j[y]={node:t,edge:z.edge})}}return{distanceTo:function(a){var b=d.string(a)?m.filter(a)[0]:a[0];return k[b.id()]},pathTo:function(a){var b=d.string(a)?m.filter(a)[0]:a[0],c=[],e=b;if(b.length>0)for(c.unshift(b);j[e.id()];){var f=j[e.id()];c.unshift(f.edge),c.unshift(f.node),e=f.node}return g.collection(c)}}}};b.exports=f},{"../../heap":81,"../../is":83}],10:[function(a,b,c){"use strict";var d=a("../../is"),e={floydWarshall:function(a){a=a||{};var b=this.cy();if(null!=a.weight&&d.fn(a.weight))var c=a.weight;else var c=function(a){return 1};if(null!=a.directed)var e=a.directed;else var e=!1;for(var f=this.edges().stdFilter(function(a){return!a.isLoop()}),g=this.nodes(),h=g.length,i={},j=0;h>j;j++)i[g[j].id()]=j;for(var k=[],j=0;h>j;j++){for(var l=new Array(h),m=0;h>m;m++)j==m?l[m]=0:l[m]=1/0;k.push(l)}var n=[],o=[],p=function(a){for(var b=0;h>b;b++){for(var c=new Array(h),d=0;h>d;d++)c[d]=void 0;a.push(c)}};p(n),p(o);for(var j=0;j<f.length;j++){var q=i[f[j].source().id()],r=i[f[j].target().id()],s=c.apply(f[j],[f[j]]);k[q][r]>s&&(k[q][r]=s,n[q][r]=r,o[q][r]=f[j])}if(!e)for(var j=0;j<f.length;j++){var q=i[f[j].target().id()],r=i[f[j].source().id()],s=c.apply(f[j],[f[j]]);k[q][r]>s&&(k[q][r]=s,n[q][r]=r,o[q][r]=f[j])}for(var t=0;h>t;t++)for(var j=0;h>j;j++)for(var m=0;h>m;m++)k[j][t]+k[t][m]<k[j][m]&&(k[j][m]=k[j][t]+k[t][m],n[j][m]=n[j][t]);for(var u=[],j=0;h>j;j++)u.push(g[j].id());var v={distance:function(a,c){if(d.string(a))var e=b.filter(a)[0].id();else var e=a.id();if(d.string(c))var f=b.filter(c)[0].id();else var f=c.id();return k[i[e]][i[f]]},path:function(a,c){var e=function(a,c,d,e,f){if(a===c)return b.getElementById(e[a]);if(void 0===d[a][c])return void 0;for(var g=[b.getElementById(e[a])],h=a;a!==c;){h=a,a=d[a][c];var i=f[h][a];g.push(i),g.push(b.getElementById(e[a]))}return g};if(d.string(a))var f=b.filter(a)[0].id();else var f=a.id();if(d.string(c))var g=b.filter(c)[0].id();else var g=c.id();var h=e(i[f],i[g],n,u,o);return b.collection(h)}};return v}};b.exports=e},{"../../is":83}],11:[function(a,b,c){"use strict";var d=a("../../util"),e={};[a("./bfs-dfs"),a("./dijkstra"),a("./kruskal"),a("./a-star"),a("./floyd-warshall"),a("./bellman-ford"),a("./kerger-stein"),a("./page-rank"),a("./degree-centrality"),a("./closeness-centrality"),a("./betweenness-centrality")].forEach(function(a){d.extend(e,a)}),b.exports=e},{"../../util":100,"./a-star":3,"./bellman-ford":4,"./betweenness-centrality":5,"./bfs-dfs":6,"./closeness-centrality":7,"./degree-centrality":8,"./dijkstra":9,"./floyd-warshall":10,"./kerger-stein":12,"./kruskal":13,"./page-rank":14}],12:[function(a,b,c){"use strict";var d=a("../../util"),e={kargerStein:function(a){var b=this;a=a||{};var c=function(a,b,c){for(var d=c[a],e=d[1],f=d[2],g=b[e],h=b[f],i=c.filter(function(a){return b[a[1]]===g&&b[a[2]]===h?!1:b[a[1]]===h&&b[a[2]]===g?!1:!0}),j=0;j<i.length;j++){var k=i[j];k[1]===h?(i[j]=k.slice(0),i[j][1]=g):k[2]===h&&(i[j]=k.slice(0),i[j][2]=g)}for(var j=0;j<b.length;j++)b[j]===h&&(b[j]=g);return i},e=function(a,b,d,f){if(f>=d)return b;var g=Math.floor(Math.random()*b.length),h=c(g,a,b);return e(a,h,d-1,f)},f=this._private.cy,g=this.edges().stdFilter(function(a){return!a.isLoop()}),h=this.nodes(),i=h.length,j=g.length,k=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/Math.sqrt(2));if(2>i)return void d.error("At least 2 nodes are required for Karger-Stein algorithm");for(var m={},n=0;i>n;n++)m[h[n].id()]=n;for(var o=[],n=0;j>n;n++){var p=g[n];o.push([n,m[p.source().id()],m[p.target().id()]])}for(var q,r=1/0,s=[],n=0;i>n;n++)s.push(n);for(var t=0;k>=t;t++){var u=s.slice(0),v=e(u,o,i,l),w=u.slice(0),x=e(u,v,l,2),y=e(w,v,l,2);x.length<=y.length&&x.length<r?(r=x.length,q=[x,u]):y.length<=x.length&&y.length<r&&(r=y.length,q=[y,w])}for(var z=q[0].map(function(a){return g[a[0]]}),A=[],B=[],C=q[1][0],n=0;n<q[1].length;n++){var D=q[1][n];D===C?A.push(h[n]):B.push(h[n])}var E={cut:b.spawn(f,z),partition1:b.spawn(A),partition2:b.spawn(B)};return E}};b.exports=e},{"../../util":100}],13:[function(a,b,c){"use strict";var d=a("../../is"),e={kruskal:function(a){function b(a){for(var b=0;b<f.length;b++){var c=f[b];if(c.anySame(a))return{eles:c,index:b}}}var c=this.cy();a=d.fn(a)?a:function(){return 1};for(var e=c.collection(c,[]),f=[],g=this.nodes(),h=0;h<g.length;h++)f.push(g[h].collection());for(var i=this.edges(),j=i.toArray().sort(function(b,c){var d=a.call(b,b),e=a.call(c,c);return d-e}),h=0;h<j.length;h++){var k=j[h],l=k.source()[0],m=k.target()[0],n=b(l),o=b(m);n.index!==o.index&&(e=e.add(k),f[n.index]=n.eles.add(o.eles),f.splice(o.index,1))}return g.add(e)}};b.exports=e},{"../../is":83}],14:[function(a,b,c){"use strict";var d=a("../../is"),e={pageRank:function(a){a=a||{};var b=function(a){for(var b=a.length,c=0,d=0;b>d;d++)c+=a[d];for(var d=0;b>d;d++)a[d]=a[d]/c};if(null!=a&&null!=a.dampingFactor)var c=a.dampingFactor;else var c=.8;if(null!=a&&null!=a.precision)var e=a.precision;else var e=1e-6;if(null!=a&&null!=a.iterations)var f=a.iterations;else var f=200;if(null!=a&&null!=a.weight&&d.fn(a.weight))var g=a.weight;else var g=function(a){return 1};for(var h=this._private.cy,i=this.edges().stdFilter(function(a){return!a.isLoop()}),j=this.nodes(),k=j.length,l=i.length,m={},n=0;k>n;n++)m[j[n].id()]=n;for(var o=[],p=[],q=(1-c)/k,n=0;k>n;n++){for(var r=[],s=0;k>s;s++)r.push(0);o.push(r),p.push(0)}for(var n=0;l>n;n++){var t=i[n],u=m[t.source().id()],v=m[t.target().id()],w=g.apply(t,[t]);o[v][u]+=w,p[u]+=w}for(var x=1/k+q,s=0;k>s;s++)if(0===p[s])for(var n=0;k>n;n++)o[n][s]=x;else for(var n=0;k>n;n++)o[n][s]=o[n][s]/p[s]+q;for(var y,z=[],A=[],n=0;k>n;n++)z.push(1),A.push(0);for(var B=0;f>B;B++){for(var C=A.slice(0),n=0;k>n;n++)for(var s=0;k>s;s++)C[n]+=o[n][s]*z[s];b(C),y=z,z=C;for(var D=0,n=0;k>n;n++)D+=Math.pow(y[n]-z[n],2);if(e>D)break}var E={rank:function(a){if(d.string(a))var b=h.filter(a)[0].id();else var b=a.id();return z[m[b]]}};return E}};b.exports=e},{"../../is":83}],15:[function(a,b,c){"use strict";var d=a("../define"),e={animate:d.animate(),animation:d.animation(),animated:d.animated(),clearQueue:d.clearQueue(),delay:d.delay(),delayAnimation:d.delayAnimation(),stop:d.stop()};b.exports=e},{"../define":44}],16:[function(a,b,c){"use strict";var d=a("../util"),e={classes:function(a){a=(a||"").match(/\S+/g)||[];for(var b=this,c=[],e={},f=0;f<a.length;f++){var g=a[f];e[g]=!0}for(var h=0;h<b.length;h++){for(var i=b[h],j=i._private,k=j.classes,l=!1,f=0;f<a.length;f++){var g=a[f],m=k[g];if(!m){l=!0;break}}if(!l)for(var a=Object.keys(k),f=0;f<a.length;f++){var n=a[f],m=k[n],o=e[n];if(m&&!o){l=!0;break}}l&&(j.classes=d.copy(e),c.push(i))}return c.length>0&&this.spawn(c).updateStyle().trigger("class"),b},addClass:function(a){return this.toggleClass(a,!0)},hasClass:function(a){var b=this[0];return null!=b&&b._private.classes[a]?!0:!1},toggleClass:function(a,b){for(var c=a.match(/\S+/g)||[],d=this,e=[],f=0,g=d.length;g>f;f++)for(var h=d[f],i=!1,j=0;j<c.length;j++){var k=c[j],l=h._private.classes,m=l[k],n=b||void 0===b&&!m;n?(l[k]=!0,m||i||(e.push(h),i=!0)):(l[k]=!1,m&&!i&&(e.push(h),i=!0))}return e.length>0&&this.spawn(e).updateStyle().trigger("class"),d},removeClass:function(a){return this.toggleClass(a,!1)},flashClass:function(a,b){var c=this;if(null==b)b=250;else if(0===b)return c;return c.addClass(a),setTimeout(function(){c.removeClass(a)},b),c}};b.exports=e},{"../util":100}],17:[function(a,b,c){"use strict";var d={allAre:function(a){return this.filter(a).length===this.length},is:function(a){return this.filter(a).length>0},some:function(a,b){for(var c=0;c<this.length;c++){var d=b?a.apply(b,[this[c],c,this]):a(this[c],c,this);if(d)return!0}return!1},every:function(a,b){for(var c=0;c<this.length;c++){var d=b?a.apply(b,[this[c],c,this]):a(this[c],c,this);if(!d)return!1}return!0},same:function(a){return a=this.cy().collection(a),this.length!==a.length?!1:this.intersect(a).length===this.length},anySame:function(a){return a=this.cy().collection(a),this.intersect(a).length>0},allAreNeighbors:function(a){return a=this.cy().collection(a),this.neighborhood().intersect(a).length===a.length}};d.allAreNeighbours=d.allAreNeighbors,b.exports=d},{}],18:[function(a,b,c){"use strict";var d={parent:function(a){for(var b=[],c=this._private.cy,d=0;d<this.length;d++){var e=this[d],f=c.getElementById(e._private.data.parent);f.size()>0&&b.push(f)}return this.spawn(b,{unique:!0}).filter(a)},parents:function(a){for(var b=[],c=this.parent();c.nonempty();){for(var d=0;d<c.length;d++){var e=c[d];b.push(e)}c=c.parent()}return this.spawn(b,{unique:!0}).filter(a)},commonAncestors:function(a){for(var b,c=0;c<this.length;c++){var d=this[c],e=d.parents();b=b||e,b=b.intersect(e)}return b.filter(a)},orphans:function(a){return this.stdFilter(function(a){return a.isNode()&&a.parent().empty()}).filter(a)},nonorphans:function(a){return this.stdFilter(function(a){return a.isNode()&&a.parent().nonempty()}).filter(a)},children:function(a){for(var b=[],c=0;c<this.length;c++){var d=this[c];b=b.concat(d._private.children)}return this.spawn(b,{unique:!0}).filter(a)},siblings:function(a){return this.parent().children().not(this).filter(a)},isParent:function(){var a=this[0];return a?0!==a._private.children.length:void 0},isChild:function(){var a=this[0];return a?void 0!==a._private.data.parent&&0!==a.parent().length:void 0},descendants:function(a){function b(a){for(var d=0;d<a.length;d++){var e=a[d];c.push(e),e.children().nonempty()&&b(e.children())}}var c=[];return b(this.children()),this.spawn(c,{unique:!0}).filter(a)}};d.ancestors=d.parents,b.exports=d},{}],19:[function(a,b,c){"use strict";var d,e,f=a("../define");d=e={data:f.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:f.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:f.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:f.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:f.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:f.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var a=this[0];return a?a._private.data.id:void 0}},d.attr=d.data,d.removeAttr=d.removeData,b.exports=e},{"../define":44}],20:[function(a,b,c){"use strict";function d(a){return function(b){var c=this;if(void 0===b&&(b=!0),0!==c.length&&c.isNode()&&!c.removed()){for(var d=0,e=c[0],f=e._private.edges,g=0;g<f.length;g++){var h=f[g];(b||!h.isLoop())&&(d+=a(e,h))}return d}}}function e(a,b){return function(c){for(var d,e=this.nodes(),f=0;f<e.length;f++){var g=e[f],h=g[a](c);void 0===h||void 0!==d&&!b(h,d)||(d=h)}return d}}var f=a("../util"),g={};f.extend(g,{degree:d(function(a,b){return b.source().same(b.target())?2:1}),indegree:d(function(a,b){return b.target().same(a)?1:0}),outdegree:d(function(a,b){return b.source().same(a)?1:0})}),f.extend(g,{minDegree:e("degree",function(a,b){return b>a}),maxDegree:e("degree",function(a,b){return a>b}),minIndegree:e("indegree",function(a,b){return b>a}),maxIndegree:e("indegree",function(a,b){return a>b}),minOutdegree:e("outdegree",function(a,b){return b>a}),maxOutdegree:e("outdegree",function(a,b){return a>b})}),f.extend(g,{totalDegree:function(a){for(var b=0,c=this.nodes(),d=0;d<c.length;d++)b+=c[d].degree(a);return b}}),b.exports=g},{"../util":100}],21:[function(a,b,c){"use strict";function d(a){return{includeNodes:i["default"](a.includeNodes,u.includeNodes),includeEdges:i["default"](a.includeEdges,u.includeEdges),includeLabels:i["default"](a.includeLabels,u.includeLabels),includeShadows:i["default"](a.includeShadows,u.includeShadows),includeOverlays:i["default"](a.includeOverlays,u.includeOverlays),useCache:i["default"](a.useCache,u.useCache)}}var e,f,g=a("../define"),h=a("../is"),i=a("../util"),j=a("../math");e=f={position:g.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(a){var b=a.updateCompoundBounds();b.rtrigger("position")},canSet:function(a){return!a.locked()&&!a.isParent()}}),silentPosition:g.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(a){a.updateCompoundBounds()},canSet:function(a){return!a.locked()&&!a.isParent()}}),positions:function(a,b){if(h.plainObject(a))this.position(a);else if(h.fn(a)){for(var c=a,d=0;d<this.length;d++){var e=this[d],a=c.apply(e,[d,e]);if(a&&!e.locked()&&!e.isParent()){var f=e._private.position;f.x=a.x,f.y=a.y}}var g=this.updateCompoundBounds(),i=g.length>0?this.add(g):this;b?i.trigger("position"):i.rtrigger("position")}return this},silentPositions:function(a){return this.positions(a,!0)},renderedPosition:function(a,b){var c=this[0],d=this.cy(),e=d.zoom(),f=d.pan(),g=h.plainObject(a)?a:void 0,i=void 0!==g||void 0!==b&&h.string(a);if(c&&c.isNode()){if(!i){var j=c._private.position;return g={x:j.x*e+f.x,y:j.y*e+f.y},void 0===a?g:g[a]}for(var k=0;k<this.length;k++){var c=this[k];void 0!==b?c._private.position[a]=(b-f[a])/e:void 0!==g&&(c._private.position={x:(g.x-f.x)/e,y:(g.y-f.y)/e})}this.rtrigger("position")}else if(!i)return void 0;return this},relativePosition:function(a,b){var c=this[0],d=this.cy(),e=h.plainObject(a)?a:void 0,f=void 0!==e||void 0!==b&&h.string(a),g=d.hasCompoundNodes();if(c&&c.isNode()){if(!f){var i=c._private.position,j=g?c.parent():null,k=j&&j.length>0,l=k;k&&(j=j[0]);var m=l?j._private.position:{x:0,y:0};return e={x:i.x-m.x,y:i.y-m.y},void 0===a?e:e[a]}for(var n=0;n<this.length;n++){var c=this[n],j=g?c.parent():null,k=j&&j.length>0,l=k;k&&(j=j[0]);var m=l?j._private.position:{x:0,y:0};void 0!==b?c._private.position[a]=b+m[a]:void 0!==e&&(c._private.position={x:e.x+m.x,y:e.y+m.y})}this.rtrigger("position")}else if(!f)return void 0;return this},renderedBoundingBox:function(a){var b=this.boundingBox(a),c=this.cy(),d=c.zoom(),e=c.pan(),f=b.x1*d+e.x,g=b.x2*d+e.x,h=b.y1*d+e.y,i=b.y2*d+e.y;return{x1:f,x2:g,y1:h,y2:i,w:g-f,h:i-h}},updateCompoundBounds:function(){function a(a){if(a.isParent()){var b=a._private,d=a.children(),e="include"===a.pstyle("compound-sizing-wrt-labels").value,f=d.boundingBox({includeLabels:e,includeShadows:!1,includeOverlays:!1,useCache:!1}),g=b.position;b.autoWidth=f.w,g.x=(f.x1+f.x2)/2,b.autoHeight=f.h,g.y=(f.y1+f.y2)/2,c.push(a)}}var b=this.cy();if(!b.styleEnabled()||!b.hasCompoundNodes())return b.collection();for(var c=[],d=this;d.nonempty();){for(var e=0;e<d.length;e++){var f=d[e];a(f)}d=d.parent()}return this.spawn(c)}};var k=function(a){return a===1/0||a===-(1/0)?0:a},l=function(a,b,c,d,e){d-b!==0&&e-c!==0&&(a.x1=b<a.x1?b:a.x1,a.x2=d>a.x2?d:a.x2,a.y1=c<a.y1?c:a.y1,a.y2=e>a.y2?e:a.y2)},m=function(a,b){return l(a,b.x1,b.y1,b.x2,b.y2)},n=function(a,b,c){return i.getPrefixedProperty(a,b,c)},o=function(a,b,c,d){var e,f,g=b._private,h=g.rstyle,i=h.arrowWidth/2,j=b.pstyle(c+"-arrow-shape").value;"none"!==j&&("source"===c?(e=h.srcX,f=h.srcY):"target"===c?(e=h.tgtX,f=h.tgtY):(e=h.midX,f=h.midY),l(a,e-i,f-i,e+i,f+i))},p=function(a,b,c,d){var e;e=c?c+"-":"";var f=b._private,g=f.rstyle,h=b.pstyle(e+"label").strValue;if(h){var i,j,k,m,o=b.pstyle("text-halign"),p=b.pstyle("text-valign"),q=n(g,"labelWidth",c),r=n(g,"labelHeight",c),s=n(g,"labelX",c),t=n(g,"labelY",c),u=b.pstyle(e+"text-margin-x").pfValue,v=b.pstyle(e+"text-margin-y").pfValue,w=b.isEdge(),x=b.pstyle(e+"text-rotation"),y=b.pstyle("text-shadow-blur").pfValue/2,z=b.pstyle("text-shadow-offset-x").pfValue,A=b.pstyle("text-shadow-offset-y").pfValue,B=b.pstyle("text-shadow-opacity").value,C=b.pstyle("text-outline-width").pfValue,D=b.pstyle("text-border-width").pfValue,E=D/2,F=r,G=q,H=G/2,I=F/2;if(w)i=s-H,j=s+H,k=t-I,m=t+I;else{switch(o.value){case"left":i=s-G,j=s;break;case"center":i=s-H,j=s+H;break;case"right":i=s,j=s+G}switch(p.value){case"top":k=t-F,m=t;break;case"center":k=t-I,m=t+I;break;case"bottom":k=t,m=t+F}}var J=w&&"autorotate"===x.strValue,K=null!=x.pfValue&&0!==x.pfValue;if(J||K){var L=J?n(f.rstyle,"labelAngle",c):x.pfValue,M=Math.cos(L),N=Math.sin(L),O=function(a,b){return a-=s,b-=t,{x:a*M-b*N+s,y:a*N+b*M+t}},P=O(i,k),Q=O(i,m),R=O(j,k),S=O(j,m);i=Math.min(P.x,Q.x,R.x,S.x),j=Math.max(P.x,Q.x,R.x,S.x),k=Math.min(P.y,Q.y,R.y,S.y),m=Math.max(P.y,Q.y,R.y,S.y)}i+=u-Math.max(C,E),j+=u+Math.max(C,E),k+=v-Math.max(C,E),m+=v+Math.max(C,E),l(a,i,k,j,m),d.includeShadows&&B>0&&(i+=-y+z,j+=+y+z,k+=-y+A,m+=+y+A,l(a,i,k,j,m))}return a},q=function(a,b){var c,d,e,f,g,h,i=a._private.cy,m=i._private,n=m.styleEnabled,q={x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0)},r=a._private,s=n?a.pstyle("display").value:"element",t=a.isNode(),u=a.isEdge(),v="none"!==s;if(v){var w=0,x=0;n&&b.includeOverlays&&(w=a.pstyle("overlay-opacity").value,0!==w&&(x=a.pstyle("overlay-padding").value));var y=0,z=0;if(n&&(y=a.pstyle("width").pfValue,z=y/2),t&&b.includeNodes){var A=r.position;g=A.x,h=A.y;var y=a.outerWidth(),B=y/2,C=a.outerHeight(),D=C/2;c=g-B-x,d=g+B+x,e=h-D-x,f=h+D+x,l(q,c,e,d,f)}else if(u&&b.includeEdges){var E=r.rstyle||{};if(n&&(c=Math.min(E.srcX,E.midX,E.tgtX),d=Math.max(E.srcX,E.midX,E.tgtX),e=Math.min(E.srcY,E.midY,E.tgtY),f=Math.max(E.srcY,E.midY,E.tgtY),c-=z,d+=z,e-=z,f+=z,l(q,c,e,d,f)),n&&"haystack"===a.pstyle("curve-style").strValue){var F=E.haystackPts;if(c=F[0].x,e=F[0].y,d=F[1].x,f=F[1].y,c>d){var G=c;c=d,d=G}if(e>f){var G=e;e=f,f=G}l(q,c-z,e-z,d+z,f+z)}else{for(var H=E.bezierPts||E.linePts||[],I=0;I<H.length;I++){var J=H[I];c=J.x-z,d=J.x+z,e=J.y-z,f=J.y+z,l(q,c,e,d,f)}if(0===H.length){var K=r.source,L=K._private,M=L.position,N=r.target,O=N._private,P=O.position;if(c=M.x,d=P.x,e=M.y,f=P.y,c>d){var G=c;c=d,d=G}if(e>f){var G=e;e=f,f=G}c-=z,d+=z,e-=z,f+=z,l(q,c,e,d,f)}}}if(n){if(c=q.x1,d=q.x2,e=q.y1,f=q.y2,b.includeShadows&&a.pstyle("shadow-opacity").value>0){var Q=a.pstyle("shadow-blur").pfValue/2,R=a.pstyle("shadow-offset-x").pfValue,S=a.pstyle("shadow-offset-y").pfValue;l(q,c-Q+R,e-Q+S,d+Q+R,f+Q+S)}l(q,c-x,e-x,d+x,f+x)}n&&b.includeEdges&&u&&(o(q,a,"mid-source",b),o(q,a,"mid-target",b),o(q,a,"source",b),o(q,a,"target",b)),n&&b.includeLabels&&(p(q,a,null,b),u&&(p(q,a,"source",b),p(q,a,"target",b)))}return q.x1=k(q.x1),q.y1=k(q.y1),q.x2=k(q.x2),q.y2=k(q.y2),q.w=k(q.x2-q.x1),q.h=k(q.y2-q.y1),q.w>0&&q.h>0&&v&&j.expandBoundingBox(q,1),q},r=function(a){return a?"t":"f"},s=function(a){var b="";return b+=r(a.incudeNodes),b+=r(a.includeEdges),b+=r(a.includeLabels),b+=r(a.includeShadows),b+=r(a.includeOverlays)},t=function(a,b){var c,d=a._private,e=a.cy().headless(),f=b===u?v:s(b);
return b.useCache&&!e&&d.bbCache&&d.bbCache[f]?c=d.bbCache[f]:(c=q(a,b),e||(d.bbCache=d.bbCache||{},d.bbCache[f]=c)),c},u={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeShadows:!0,includeOverlays:!0,useCache:!0},v=s(u);f.recalculateRenderedStyle=function(a){var b=this.cy(),c=b.renderer(),d=b.styleEnabled();return c&&d&&c.recalculateRenderedStyle(this,a),this},f.boundingBox=function(a){if(1===this.length&&this[0]._private.bbCache&&(void 0===a||void 0===a.useCache||a.useCache===!0))return a=void 0===a?u:d(a),t(this[0],a);var b={x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0)};a=a||i.staticEmptyObject();var c=d(a),e=this,f=e.cy(),g=f.styleEnabled();g&&this.recalculateRenderedStyle(c.useCache);for(var h=0;h<e.length;h++){var j=e[h];g&&j.isEdge()&&"bezier"===j.pstyle("curve-style").strValue&&j.parallelEdges().recalculateRenderedStyle(c.useCache),m(b,t(j,c))}return b.x1=k(b.x1),b.y1=k(b.y1),b.x2=k(b.x2),b.y2=k(b.y2),b.w=k(b.x2-b.x1),b.h=k(b.y2-b.y1),b};var w=function(a){a.uppercaseName=i.capitalize(a.name),a.autoName="auto"+a.uppercaseName,a.labelName="label"+a.uppercaseName,a.outerName="outer"+a.uppercaseName,a.uppercaseOuterName=i.capitalize(a.outerName),e[a.name]=function(){var b=this[0],c=b._private,d=c.cy,e=d._private.styleEnabled;if(b){if(!e)return 1;if(b.isParent())return c[a.autoName]||0;var f=b.pstyle(a.name);switch(f.strValue){case"label":return c.rstyle[a.labelName]||0;default:return f.pfValue}}},e["outer"+a.uppercaseName]=function(){var b=this[0],c=b._private,d=c.cy,e=d._private.styleEnabled;if(b){if(e){var f=b[a.name](),g=b.pstyle("border-width").pfValue,h=2*b.pstyle("padding").pfValue;return f+g+h}return 1}},e["rendered"+a.uppercaseName]=function(){var b=this[0];if(b){var c=b[a.name]();return c*this.cy().zoom()}},e["rendered"+a.uppercaseOuterName]=function(){var b=this[0];if(b){var c=b[a.outerName]();return c*this.cy().zoom()}}};w({name:"width"}),w({name:"height"}),e.modelPosition=e.point=e.position,e.modelPositions=e.points=e.positions,e.renderedPoint=e.renderedPosition,e.relativePoint=e.relativePosition,e.boundingbox=e.boundingBox,e.renderedBoundingbox=e.renderedBoundingBox,b.exports=f},{"../define":44,"../is":83,"../math":85,"../util":100}],22:[function(a,b,c){"use strict";var d=a("../util"),e=a("../is"),f=function(a,b,c){var f=this;if(c=void 0===c||c?!0:!1,void 0===a||void 0===b||!e.core(a))return void d.error("An element must have a core reference and parameters set");var g=b.group;if(null==g&&(g=b.data&&null!=b.data.source&&null!=b.data.target?"edges":"nodes"),"nodes"!==g&&"edges"!==g)return void d.error("An element must be of type `nodes` or `edges`; you specified `"+g+"`");if(this.length=1,this[0]=this,this._private={cy:a,single:!0,data:b.data||{},position:b.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:g,style:{},rstyle:{},styleCxts:[],removed:!0,selected:b.selected?!0:!1,selectable:void 0===b.selectable?!0:b.selectable?!0:!1,locked:b.locked?!0:!1,grabbed:!1,grabbable:void 0===b.grabbable?!0:b.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:b.scratch||{},edges:[],children:[],traversalCache:{}},b.renderedPosition){var h=b.renderedPosition,i=a.pan(),j=a.zoom();this._private.position={x:(h.x-i.x)/j,y:(h.y-i.y)/j}}if(e.string(b.classes))for(var k=b.classes.split(/\s+/),l=0,m=k.length;m>l;l++){var n=k[l];n&&""!==n&&(f._private.classes[n]=!0)}(b.style||b.css)&&a.style().applyBypass(this,b.style||b.css),(void 0===c||c)&&this.restore()};b.exports=f},{"../is":83,"../util":100}],23:[function(a,b,c){"use strict";var d=a("../define"),e={on:d.on(),one:d.on({unbindSelfOnTrigger:!0}),once:d.on({unbindAllBindersOnTrigger:!0}),off:d.off(),trigger:d.trigger(),rtrigger:function(a,b){return 0!==this.length?(this.cy().notify({type:a,eles:this}),this.trigger(a,b),this):void 0}};d.eventAliasesOn(e),b.exports=e},{"../define":44}],24:[function(a,b,c){"use strict";var d=a("../is"),e=a("../selector"),f={nodes:function(a){return this.filter(function(a,b){return b.isNode()}).filter(a)},edges:function(a){return this.filter(function(a,b){return b.isEdge()}).filter(a)},filter:function(a){if(void 0===a)return this;if(d.string(a)||d.elementOrCollection(a))return e(a).filter(this);if(d.fn(a)){for(var b=[],c=0;c<this.length;c++){var f=this[c];a.apply(f,[c,f])&&b.push(f)}return this.spawn(b)}return this.spawn()},not:function(a){if(a){d.string(a)&&(a=this.filter(a));for(var b=[],c=0;c<this.length;c++){var e=this[c],f=a._private.ids[e.id()];f||b.push(e)}return this.spawn(b)}return this},absoluteComplement:function(){var a=this._private.cy;return a.mutableElements().not(this)},intersect:function(a){if(d.string(a)){var b=a;return this.filter(b)}for(var c=[],e=this,f=a,g=this.length<a.length,h=g?f._private.ids:e._private.ids,i=g?e:f,j=0;j<i.length;j++){var k=i[j]._private.data.id,l=h[k];l&&c.push(l)}return this.spawn(c)},xor:function(a){var b=this._private.cy;d.string(a)&&(a=b.$(a));var c=[],e=this,f=a,g=function(a,b){for(var d=0;d<a.length;d++){var e=a[d],f=e._private.data.id,g=b._private.ids[f];g||c.push(e)}};return g(e,f),g(f,e),this.spawn(c)},diff:function(a){var b=this._private.cy;d.string(a)&&(a=b.$(a));var c=[],e=[],f=[],g=this,h=a,i=function(a,b,c){for(var d=0;d<a.length;d++){var e=a[d],g=e._private.data.id,h=b._private.ids[g];h?f.push(e):c.push(e)}};return i(g,h,c),i(h,g,e),{left:this.spawn(c,{unique:!0}),right:this.spawn(e,{unique:!0}),both:this.spawn(f,{unique:!0})}},add:function(a){var b=this._private.cy;if(!a)return this;if(d.string(a)){var c=a;a=b.mutableElements().filter(c)}for(var e=[],f=0;f<this.length;f++)e.push(this[f]);for(var f=0;f<a.length;f++){var g=!this._private.ids[a[f].id()];g&&e.push(a[f])}return this.spawn(e)},merge:function(a){var b=this._private,c=b.cy;if(!a)return this;if(a&&d.string(a)){var e=a;a=c.mutableElements().filter(e)}for(var f=0;f<a.length;f++){var g=a[f],h=g._private.data.id,i=!b.ids[h];if(i){var j=this.length++;this[j]=g,b.ids[h]=g,b.indexes[h]=j}else{var j=b.indexes[h];this[j]=g,b.ids[h]=g}}return this},unmergeOne:function(a){a=a[0];var b=this._private,c=a._private.data.id,d=b.indexes[c];if(null==d)return this;this[d]=void 0,b.ids[c]=void 0,b.indexes[c]=void 0;var e=d===this.length-1;if(this.length>1&&!e){var f=this.length-1,g=this[f],h=g._private.data.id;this[f]=void 0,this[d]=g,b.indexes[h]=d}return this.length--,this},unmerge:function(a){var b=this._private.cy;if(!a)return this;if(a&&d.string(a)){var c=a;a=b.mutableElements().filter(c)}for(var e=0;e<a.length;e++)this.unmergeOne(a[e]);return this},map:function(a,b){for(var c=[],d=this,e=0;e<d.length;e++){var f=d[e],g=b?a.apply(b,[f,e,d]):a(f,e,d);c.push(g)}return c},stdFilter:function(a,b){for(var c=[],d=this,e=0;e<d.length;e++){var f=d[e],g=b?a.apply(b,[f,e,d]):a(f,e,d);g&&c.push(f)}return this.spawn(c)},max:function(a,b){for(var c,d=-(1/0),e=this,f=0;f<e.length;f++){var g=e[f],h=b?a.apply(b,[g,f,e]):a(g,f,e);h>d&&(d=h,c=g)}return{value:d,ele:c}},min:function(a,b){for(var c,d=1/0,e=this,f=0;f<e.length;f++){var g=e[f],h=b?a.apply(b,[g,f,e]):a(g,f,e);d>h&&(d=h,c=g)}return{value:d,ele:c}}},g=f;g.u=g["|"]=g["+"]=g.union=g.or=g.add,g["\\"]=g["!"]=g["-"]=g.difference=g.relativeComplement=g.subtract=g.not,g.n=g["&"]=g["."]=g.and=g.intersection=g.intersect,g["^"]=g["(+)"]=g["(-)"]=g.symmetricDifference=g.symdiff=g.xor,g.fnFilter=g.filterFn=g.stdFilter,g.complement=g.abscomp=g.absoluteComplement,b.exports=f},{"../is":83,"../selector":87}],25:[function(a,b,c){"use strict";var d={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var a=this[0];return a?a._private.group:void 0}};b.exports=d},{}],26:[function(a,b,c){"use strict";var d=a("../util"),e=a("../is"),f=a("./element"),g={generate:function(a,b,c){for(var e=null!=c?c:d.uuid();a.hasElementWithId(e);)e=d.uuid();return e}},h=function(a,b,c){if(void 0===a||!e.core(a))return void d.error("A collection must have a reference to the core");var h={},i={},j=!1;if(b){if(b.length>0&&e.plainObject(b[0])&&!e.element(b[0])){j=!0;for(var k=[],l={},m=0,n=b.length;n>m;m++){var o=b[m];null==o.data&&(o.data={});var p=o.data;if(null==p.id)p.id=g.generate(a,o);else if(a.hasElementWithId(p.id)||l[p.id])continue;var q=new f(a,o,!1);k.push(q),l[p.id]=!0}b=k}}else b=[];this.length=0;for(var m=0,n=b.length;n>m;m++){var r=b[m];if(r){var s=r._private.data.id;(!c||c.unique&&!h[s])&&(h[s]=r,i[s]=this.length,this[this.length]=r,this.length++)}}this._private={cy:a,ids:h,indexes:i},j&&this.restore()},i=f.prototype=h.prototype;i.instanceString=function(){return"collection"},i.spawn=function(a,b,c){return e.core(a)||(c=b,b=a,a=this.cy()),new h(a,b,c)},i.spawnSelf=function(){return this.spawn(this)},i.cy=function(){return this._private.cy},i.element=function(){return this[0]},i.collection=function(){return e.collection(this)?this:new h(this._private.cy,[this])},i.unique=function(){return new h(this._private.cy,this,{unique:!0})},i.hasElementWithId=function(a){return!!this._private.ids[a]},i.getElementById=function(a){var b=this._private.cy,c=this._private.ids[a];return c?c:new h(b)},i.poolIndex=function(){var a=this._private.cy,b=a._private.elements,c=this._private.data.id;return b._private.indexes[c]},i.json=function(a){var b=this.element(),c=this.cy();if(null==b&&a)return this;if(null==b)return void 0;var f=b._private;if(e.plainObject(a)){c.startBatch(),a.data&&b.data(a.data),a.position&&b.position(a.position);var g=function(c,d,e){var g=a[c];null!=g&&g!==f[c]&&(g?b[d]():b[e]())};return g("removed","remove","restore"),g("selected","select","unselect"),g("selectable","selectify","unselectify"),g("locked","lock","unlock"),g("grabbable","grabify","ungrabify"),null!=a.classes&&b.classes(a.classes),c.endBatch(),this}if(void 0===a){var h={data:d.copy(f.data),position:d.copy(f.position),group:f.group,removed:f.removed,selected:f.selected,selectable:f.selectable,locked:f.locked,grabbable:f.grabbable,classes:null};return h.classes=Object.keys(f.classes).filter(function(a){return f.classes[a]}).join(" "),h}},i.jsons=function(){for(var a=[],b=0;b<this.length;b++){var c=this[b],d=c.json();a.push(d)}return a},i.clone=function(){for(var a=this.cy(),b=[],c=0;c<this.length;c++){var d=this[c],e=d.json(),g=new f(a,e,!1);b.push(g)}return new h(a,b)},i.copy=i.clone,i.restore=function(a){var b=this,c=b.cy(),f=c._private;void 0===a&&(a=!0);for(var i,j=[],k=[],l=0,m=b.length;m>l;l++){var n=b[l];n.removed()&&(n.isNode()?j.push(n):k.push(n))}i=j.concat(k);var l,o=function(){i.splice(l,1),l--};for(l=0;l<i.length;l++){var n=i[l],p=n._private,q=p.data;if(p.traversalCache=null,void 0===q.id)q.id=g.generate(c,n);else if(e.number(q.id))q.id=""+q.id;else{if(e.emptyString(q.id)||!e.string(q.id)){d.error("Can not create element with invalid string ID `"+q.id+"`"),o();continue}if(c.hasElementWithId(q.id)){d.error("Can not create second element with ID `"+q.id+"`"),o();continue}}var r=q.id;if(n.isNode()){var s=n,t=p.position;null==t.x&&(t.x=0),null==t.y&&(t.y=0)}if(n.isEdge()){for(var u=n,v=["source","target"],w=v.length,x=!1,y=0;w>y;y++){var z=v[y],A=q[z];e.number(A)&&(A=q[z]=""+q[z]),null==A||""===A?(d.error("Can not create edge `"+r+"` with unspecified "+z),x=!0):c.hasElementWithId(A)||(d.error("Can not create edge `"+r+"` with nonexistant "+z+" `"+A+"`"),x=!0)}if(x){o();continue}var B=c.getElementById(q.source),C=c.getElementById(q.target);B._private.edges.push(u),C._private.edges.push(u),u._private.source=B,u._private.target=C}p.ids={},p.ids[r]=n,p.indexes={},p.indexes[r]=n,p.removed=!1,c.addToPool(n)}for(var l=0;l<j.length;l++){var s=j[l],q=s._private.data;e.number(q.parent)&&(q.parent=""+q.parent);var D=q.parent,E=null!=D;if(E){var F=c.getElementById(D);if(F.empty())q.parent=void 0;else{for(var G=!1,H=F;!H.empty();){if(s.same(H)){G=!0,q.parent=void 0;break}H=H.parent()}G||(F[0]._private.children.push(s),s._private.parent=F[0],f.hasCompoundNodes=!0)}}}if(i.length>0){for(var I=new h(c,i),l=0;l<I.length;l++){var n=I[l];if(!n.isNode()){for(var J=n.parallelEdges(),y=0;y<J.length;y++)J[y]._private.traversalCache=null;n.source()[0]._private.traversalCache=null,n.target()[0]._private.traversalCache=null}}var K;K=f.hasCompoundNodes?I.add(I.connectedNodes()).add(I.parent()):I,K.updateStyle(a),a?I.rtrigger("add"):I.trigger("add")}return b},i.removed=function(){var a=this[0];return a&&a._private.removed},i.inside=function(){var a=this[0];return a&&!a._private.removed},i.remove=function(a){function b(a){for(var b=a._private.edges,c=0;c<b.length;c++)e(b[c])}function c(a){for(var b=a._private.children,c=0;c<b.length;c++)e(b[c])}function e(a){var d=m[a.id()];d||(m[a.id()]=!0,a.isNode()?(l.push(a),b(a),c(a)):l.unshift(a))}function f(a,b){var c=a._private.edges;d.removeFromArray(c,b),a._private.traversalCache=null}function g(a){for(var b=a.parallelEdges(),c=0;c<b.length;c++)b[c]._private.traversalCache=null}function i(a,b){b=b[0],a=a[0];var c=a._private.children,e=a.id();d.removeFromArray(c,b),r.ids[e]||(r.ids[e]=!0,r.push(a))}var j=this,k=[],l=[],m={},n=j._private.cy;void 0===a&&(a=!0);for(var o=0,p=j.length;p>o;o++){var q=j[o];e(q)}var r=[];r.ids={},n.removeFromPool(l);for(var o=0;o<l.length;o++){var q=l[o];if(q._private.removed=!0,k.push(q),q.isEdge()){var s=q.source()[0],t=q.target()[0];f(s,q),f(t,q),g(q)}else{var u=q.parent();0!==u.length&&i(u,q)}}var v=n._private.elements;n._private.hasCompoundNodes=!1;for(var o=0;o<v.length;o++){var q=v[o];if(q.isParent()){n._private.hasCompoundNodes=!0;break}}var w=new h(this.cy(),k);w.size()>0&&(a&&this.cy().notify({type:"remove",eles:w}),w.trigger("remove"));for(var o=0;o<r.length;o++){var q=r[o];q.removed()||q.updateStyle()}return new h(n,k)},i.move=function(a){var b=this._private.cy;if(void 0!==a.source||void 0!==a.target){var c=a.source,d=a.target,e=b.hasElementWithId(c),f=b.hasElementWithId(d);if(e||f){var g=this.jsons();this.remove();for(var h=0;h<g.length;h++){var i=g[h],j=this[h];"edges"===i.group&&(e&&(i.data.source=c),f&&(i.data.target=d),i.scratch=j._private.scratch)}return b.add(g)}}else if(void 0!==a.parent){var k=a.parent,l=null===k||b.hasElementWithId(k);if(l){var g=this.jsons(),m=this.descendants(),n=m.union(m.union(this).connectedEdges()).jsons();this.remove();for(var h=0;h<g.length;h++){var i=g[h],j=this[h];"nodes"===i.group&&(i.data.parent=null===k?void 0:k,i.scratch=j._private.scratch)}return b.add(g.concat(n))}}return this},[a("./algorithms"),a("./animation"),a("./class"),a("./comparators"),a("./compounds"),a("./data"),a("./degree"),a("./dimensions"),a("./events"),a("./filter"),a("./group"),a("./index"),a("./iteration"),a("./layout"),a("./style"),a("./switch-functions"),a("./traversing")].forEach(function(a){d.extend(i,a)}),b.exports=h},{"../is":83,"../util":100,"./algorithms":11,"./animation":15,"./class":16,"./comparators":17,"./compounds":18,"./data":19,"./degree":20,"./dimensions":21,"./element":22,"./events":23,"./filter":24,"./group":25,"./index":26,"./iteration":27,"./layout":28,"./style":29,"./switch-functions":30,"./traversing":31}],27:[function(a,b,c){"use strict";var d=a("../is"),e=a("./zsort"),f={each:function(a){if(d.fn(a))for(var b=0;b<this.length;b++){var c=this[b],e=a.apply(c,[b,c]);if(e===!1)break}return this},forEach:function(a,b){if(d.fn(a))for(var c=0;c<this.length;c++){var e=this[c],f=b?a.apply(b,[e,c,this]):a(e,c,this);if(f===!1)break}return this},toArray:function(){for(var a=[],b=0;b<this.length;b++)a.push(this[b]);return a},slice:function(a,b){var c=[],d=this.length;null==b&&(b=d),null==a&&(a=0),0>a&&(a=d+a),0>b&&(b=d+b);for(var e=a;e>=0&&b>e&&d>e;e++)c.push(this[e]);return this.spawn(c)},size:function(){return this.length},eq:function(a){return this[a]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(a){if(!d.fn(a))return this;var b=this.toArray().sort(a);return this.spawn(b)},sortByZIndex:function(){return this.sort(e)},zDepth:function(){var a=this[0];if(!a)return void 0;var b=a._private,c=b.group;if("nodes"===c){var d=b.data.parent?a.parents().size():0;return a.isParent()?d:Number.MAX_VALUE}var e=b.source,f=b.target,g=e.zDepth(),h=f.zDepth();return Math.max(g,h,0)}};b.exports=f},{"../is":83,"./zsort":32}],28:[function(a,b,c){"use strict";var d=a("../is"),e=a("../util"),f=a("../promise"),g={layoutPositions:function(a,b,c){var e=this.nodes(),g=this.cy();if(a.trigger({type:"layoutstart",layout:a}),a.animations=[],b.animate){for(var h=0;h<e.length;h++){var i=e[h],j=c.call(i,h,i),k=i.position();d.number(k.x)&&d.number(k.y)||i.silentPosition({x:0,y:0});var l=i.animation({position:j,duration:b.animationDuration,easing:b.animationEasing});a.animations.push(l),l.play()}var m;g.on("step.*",m=function(){b.fit&&g.fit(b.eles,b.padding)}),a.one("layoutstop",function(){g.off("step.*",m)}),a.one("layoutready",b.ready),a.trigger({type:"layoutready",layout:a}),f.all(a.animations.map(function(a){return a.promise()})).then(function(){g.off("step.*",m),null!=b.zoom&&g.zoom(b.zoom),b.pan&&g.pan(b.pan),b.fit&&g.fit(b.eles,b.padding),a.one("layoutstop",b.stop),a.trigger({type:"layoutstop",layout:a})})}else e.positions(c),b.fit&&g.fit(b.eles,b.padding),null!=b.zoom&&g.zoom(b.zoom),b.pan&&g.pan(b.pan),a.one("layoutready",b.ready),a.trigger({type:"layoutready",layout:a}),a.one("layoutstop",b.stop),a.trigger({type:"layoutstop",layout:a});return this},layout:function(a){var b=this.cy();return b.layout(e.extend({},a,{eles:this})),this},makeLayout:function(a){var b=this.cy();return b.makeLayout(e.extend({},a,{eles:this}))}};g.createLayout=g.makeLayout,b.exports=g},{"../is":83,"../promise":86,"../util":100}],29:[function(a,b,c){"use strict";var d=a("../is"),e={updateStyle:function(a){var b=this._private.cy;if(!b.styleEnabled())return this;if(b._private.batchingStyle){var c=b._private.batchStyleEles;return c.merge(this),this}var d=b.hasCompoundNodes(),e=b.style(),f=this;if(a=a||void 0===a?!0:!1,d&&(f=this.spawnSelf().merge(this.descendants()).merge(this.parents())),e.apply(f),d){f.updateCompoundBounds()}return a?f.rtrigger("style"):f.trigger("style"),this},updateMappers:function(a){var b=this._private.cy,c=b.style();if(a=a||void 0===a?!0:!1,!b.styleEnabled())return this;c.updateMappers(this);var d=this.updateCompoundBounds(),e=d.length>0?this.add(d):this;return a?e.rtrigger("style"):e.trigger("style"),this},parsedStyle:function(a){var b=this[0];if(b.cy().styleEnabled())return b?b._private.style[a]||b.cy().style().getDefaultProperty(a):void 0},renderedStyle:function(a){var b=this.cy();if(!b.styleEnabled())return this;var c=this[0];if(c){var d=c.cy().style().getRenderedStyle(c);return void 0===a?d:d[a]}},style:function(a,b){var c=this.cy();if(!c.styleEnabled())return this;var e=!1,f=c.style();if(d.plainObject(a)){var g=a;f.applyBypass(this,g,e);var h=this.updateCompoundBounds(),i=h.length>0?this.add(h):this;i.rtrigger("style")}else if(d.string(a)){if(void 0===b){var j=this[0];return j?f.getStylePropertyValue(j,a):void 0}f.applyBypass(this,a,b,e);var h=this.updateCompoundBounds(),i=h.length>0?this.add(h):this;i.rtrigger("style")}else if(void 0===a){var j=this[0];return j?f.getRawStyle(j):void 0}return this},removeStyle:function(a){var b=this.cy();if(!b.styleEnabled())return this;var c=!1,d=b.style(),e=this;if(void 0===a)for(var f=0;f<e.length;f++){var g=e[f];d.removeAllBypasses(g,c)}else{a=a.split(/\s+/);for(var f=0;f<e.length;f++){var g=e[f];d.removeBypasses(g,a,c)}}var h=this.updateCompoundBounds(),i=h.length>0?this.add(h):this;return i.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var a=this.cy();if(!a.styleEnabled())return!0;var b=this[0],c=a.hasCompoundNodes();if(b){if("visible"!==b.pstyle("visibility").value||"element"!==b.pstyle("display").value||0===b.pstyle("width").pfValue)return!1;if("nodes"===b._private.group){if(0===b.pstyle("height").pfValue)return!1;if(!c)return!0;var d=b._private.data.parent?b.parents():null;if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.pstyle("visibility").value,h=f.pstyle("display").value;if("visible"!==g||"element"!==h)return!1}return!0}var i=b._private.source,j=b._private.target;return i.visible()&&j.visible()}},hidden:function(){var a=this[0];return a?!a.visible():void 0},effectiveOpacity:function(){var a=this.cy();if(!a.styleEnabled())return 1;var b=a.hasCompoundNodes(),c=this[0];if(c){var d=c._private,e=c.pstyle("opacity").value;if(!b)return e;var f=d.data.parent?c.parents():null;if(f)for(var g=0;g<f.length;g++){var h=f[g],i=h.pstyle("opacity").value;e=i*e}return e}},transparent:function(){var a=this.cy();if(!a.styleEnabled())return!1;var b=this[0],c=b.cy().hasCompoundNodes();return b?c?0===b.effectiveOpacity():0===b.pstyle("opacity").value:void 0},backgrounding:function(){var a=this.cy();if(!a.styleEnabled())return!1;var b=this[0];return b._private.backgrounding?!0:!1}};e.bypass=e.css=e.style,e.renderedCss=e.renderedStyle,e.removeBypass=e.removeCss=e.removeStyle,e.pstyle=e.parsedStyle,b.exports=e},{"../is":83}],30:[function(a,b,c){"use strict";function d(a){return function(){var b=arguments,c=[];if(2===b.length){var d=b[0],e=b[1];this.on(a.event,d,e)}else if(1===b.length){var e=b[0];this.on(a.event,e)}else if(0===b.length){for(var f=0;f<this.length;f++){var g=this[f],h=!a.ableField||g._private[a.ableField],i=g._private[a.field]!=a.value;if(a.overrideAble){var j=a.overrideAble(g);if(void 0!==j&&(h=j,!j))return this}h&&(g._private[a.field]=a.value,i&&c.push(g))}var k=this.spawn(c);k.updateStyle(),k.trigger(a.event)}return this}}function e(a){f[a.field]=function(){var b=this[0];if(b){if(a.overrideField){var c=a.overrideField(b);if(void 0!==c)return c}return b._private[a.field]}},f[a.on]=d({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),f[a.off]=d({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}var f={};e({field:"locked",overrideField:function(a){return a.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),e({field:"grabbable",overrideField:function(a){return a.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"}),e({field:"selected",ableField:"selectable",overrideAble:function(a){return a.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),e({field:"selectable",overrideField:function(a){return a.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),f.deselect=f.unselect,f.grabbed=function(){var a=this[0];return a?a._private.grabbed:void 0},e({field:"active",on:"activate",off:"unactivate"}),f.inactive=function(){var a=this[0];return a?!a._private.active:void 0},b.exports=f},{}],31:[function(a,b,c){"use strict";function d(a){return function(b){for(var c=[],d=0;d<this.length;d++){var e=this[d],f=e._private[a.attr];f&&c.push(f)}return this.spawn(c,{unique:!0}).filter(b)}}function e(a){return function(b){var c=[],d=this._private.cy,e=a||{};h.string(b)&&(b=d.$(b));for(var f=this._private.ids,g=b._private.ids,i=0;i<b.length;i++)for(var j=b[i]._private.edges,k=0;k<j.length;k++){var l=j[k],m=l._private.data,n=f[m.source]&&g[m.target],o=g[m.source]&&f[m.target],p=n||o;if(p){if(e.thisIsSrc||e.thisIsTgt){if(e.thisIsSrc&&!n)continue;if(e.thisIsTgt&&!o)continue}c.push(l)}}return this.spawn(c,{unique:!0})}}function f(a){var b={codirected:!1};return a=g.extend({},b,a),function(b){for(var c=[],d=this.edges(),e=a,f=0;f<d.length;f++)for(var g=d[f],h=g._private,i=h.source,j=i._private.data.id,k=h.data.target,l=i._private.edges,m=0;m<l.length;m++){var n=l[m],o=n._private.data,p=o.target,q=o.source,r=p===k&&q===j,s=j===p&&k===q;(e.codirected&&r||!e.codirected&&(r||s))&&c.push(n)}return this.spawn(c,{unique:!0}).filter(b)}}var g=a("../util"),h=a("../is"),i={},j=function(a,b){return function(c,d,e,f){var g,i=c,j=this;if(null==i?g="null":h.elementOrCollection(i)&&1===i.length&&(g="#"+i.id()),1===j.length&&g){var k=j[0]._private,l=k.traversalCache=k.traversalCache||{},m=l[b]=l[b]||{},n=m[g];return n?n:m[g]=a.call(j,c,d,e,f)}return a.call(j,c,d,e,f)}},k=function(a){return function(b){for(var c=this,d=[],e=0;e<c.length;e++){var f=c[e];if(f.isNode()){for(var g=!1,h=f.connectedEdges(),i=0;i<h.length;i++){var j=h[i],k=j.source(),l=j.target();if(a.noIncomingEdges&&l===f&&k!==f||a.noOutgoingEdges&&k===f&&l!==f){g=!0;break}}g||d.push(f)}}return this.spawn(d,{unique:!0}).filter(b)}},l=function(a){return function(b){for(var c=this,d=[],e=0;e<c.length;e++){var f=c[e];if(f.isNode())for(var g=f.connectedEdges(),h=0;h<g.length;h++){var i=g[h],j=i.source(),k=i.target();a.outgoing&&j===f?(d.push(i),d.push(k)):a.incoming&&k===f&&(d.push(i),d.push(j))}}return this.spawn(d,{unique:!0}).filter(b)}},m=function(a){return function(b){for(var c=this,d=[],e={};;){var f=a.outgoing?c.outgoers():c.incomers();if(0===f.length)break;for(var g=!1,h=0;h<f.length;h++){var i=f[h],j=i.id();e[j]||(e[j]=!0,d.push(i),g=!0)}if(!g)break;c=f}return this.spawn(d,{unique:!0}).filter(b)}};g.extend(i,{roots:k({noIncomingEdges:!0}),leaves:k({noOutgoingEdges:!0}),outgoers:j(l({outgoing:!0}),"outgoers"),successors:m({outgoing:!0}),incomers:j(l({incoming:!0}),"incomers"),predecessors:m({incoming:!0})}),g.extend(i,{neighborhood:j(function(a){for(var b=[],c=this.nodes(),d=0;d<c.length;d++)for(var e=c[d],f=e.connectedEdges(),g=0;g<f.length;g++){var h=f[g],i=h.source(),j=h.target(),k=e===i?j:i;k.length>0&&b.push(k[0]),b.push(h[0])}return this.spawn(b,{unique:!0}).filter(a)},"neighborhood"),closedNeighborhood:function(a){return this.neighborhood().add(this).filter(a)},openNeighborhood:function(a){return this.neighborhood(a)}}),i.neighbourhood=i.neighborhood,i.closedNeighbourhood=i.closedNeighborhood,i.openNeighbourhood=i.openNeighborhood,g.extend(i,{source:j(function(a){var b,c=this[0];return c&&(b=c._private.source||c.cy().collection()),b&&a?b.filter(a):b},"source"),target:j(function(a){var b,c=this[0];return c&&(b=c._private.target||c.cy().collection()),b&&a?b.filter(a):b},"target"),sources:d({attr:"source"}),targets:d({attr:"target"})}),g.extend(i,{edgesWith:j(e(),"edgesWith",!0),edgesTo:j(e({thisIsSrc:!0}),"edgesTo",!0)}),g.extend(i,{connectedEdges:j(function(a){for(var b=[],c=this,d=0;d<c.length;d++){var e=c[d];if(e.isNode())for(var f=e._private.edges,g=0;g<f.length;g++){var h=f[g];b.push(h)}}return this.spawn(b,{unique:!0}).filter(a)},"connectedEdges"),connectedNodes:j(function(a){for(var b=[],c=this,d=0;d<c.length;d++){var e=c[d];e.isEdge()&&(b.push(e.source()[0]),b.push(e.target()[0]))}return this.spawn(b,{unique:!0}).filter(a)},"connectedNodes"),parallelEdges:j(f(),"parallelEdges"),codirectedEdges:j(f({codirected:!0}),"codirectedEdges")}),g.extend(i,{components:function(){var a=this,b=a.cy(),c=a.spawn(),d=a.nodes().spawnSelf(),e=[],f=function(a,b){c.merge(a),d.unmerge(a),b.merge(a)};if(d.empty())return a.spawn();do{var g=b.collection();e.push(g);var h=d[0];f(h,g),a.bfs({directed:!1,roots:h,visit:function(a,b,c,d,e){f(c,g)}})}while(d.length>0);return e.map(function(a){var b=a.connectedEdges().stdFilter(function(b){return a.anySame(b.source())&&a.anySame(b.target())});return a.union(b)})}}),b.exports=i},{"../is":83,"../util":100}],32:[function(a,b,c){"use strict";var d=function(a,b){var c=a.cy(),d=a.pstyle("z-index").value-b.pstyle("z-index").value,e=0,f=0,g=c.hasCompoundNodes(),h=a.isNode(),i=!h,j=b.isNode(),k=!j;g&&(e=a.zDepth(),f=b.zDepth());var l=e-f,m=0===l;return m?h&&k?1:i&&j?-1:0===d?a.poolIndex()-b.poolIndex():d:l};b.exports=d},{}],33:[function(a,b,c){"use strict";var d=a("../is"),e=a("../util"),f=a("../collection"),g=a("../collection/element"),h={add:function(a){var b,c=this;if(d.elementOrCollection(a)){var h=a;if(h._private.cy===c)b=h.restore();else{for(var i=[],j=0;j<h.length;j++){var k=h[j];i.push(k.json())}b=new f(c,i)}}else if(d.array(a)){var i=a;b=new f(c,i)}else if(d.plainObject(a)&&(d.array(a.nodes)||d.array(a.edges))){for(var l=a,i=[],m=["nodes","edges"],j=0,n=m.length;n>j;j++){var o=m[j],p=l[o];if(d.array(p))for(var q=0,r=p.length;r>q;q++){var s=e.extend({group:o},p[q]);i.push(s)}}b=new f(c,i)}else{var s=a;b=new g(c,s).collection()}return b},remove:function(a){if(d.elementOrCollection(a));else if(d.string(a)){var b=a;a=this.$(b)}return a.remove()},load:function(a,b,c){var f=this;f.notifications(!1);var g=f.mutableElements();g.length>0&&g.remove(),null!=a&&(d.plainObject(a)||d.array(a))&&f.add(a),f.one("layoutready",function(a){f.notifications(!0),f.trigger(a),f.notify({type:"load",eles:f.mutableElements()}),f.one("load",b),f.trigger("load")}).one("layoutstop",function(){f.one("done",c),f.trigger("done")});var h=e.extend({},f._private.options.layout);return h.eles=f.elements(),f.layout(h),this}};b.exports=h},{"../collection":26,"../collection/element":22,"../is":83,"../util":100}],34:[function(a,b,c){"use strict";var d=a("../define"),e=a("../util"),f=a("../is"),g={animate:d.animate(),animation:d.animation(),animated:d.animated(),clearQueue:d.clearQueue(),delay:d.delay(),delayAnimation:d.delayAnimation(),stop:d.stop(),addToAnimationPool:function(a){var b=this;b.styleEnabled()&&b._private.aniEles.merge(a)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function a(){k._private.animationsRunning&&e.requestAnimationFrame(function(c){b(c),a()})}function b(a){function b(b,e){var h=b._private,i=h.animation.current,j=h.animation.queue,k=!1;if(0===i.length){var l=j.shift();l&&i.push(l)}for(var m=function(a){for(var b=a.length-1;b>=0;b--){var c=a[b];c()}a.splice(0,a.length)},n=i.length-1;n>=0;n--){var o=i[n],p=o._private;p.stopped?(i.splice(n,1),p.hooked=!1,p.playing=!1,p.started=!1,m(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||c(b,o,a),d(b,o,a,e),f.fn(p.step)&&p.step.call(b,a),p.applying&&(p.applying=!1),m(p.frames),o.completed()&&(i.splice(n,1),p.hooked=!1,p.playing=!1,p.started=!1,m(p.completes)),k=!0)}return e||0!==i.length||0!==j.length||g.push(b),k}for(var e=k._private.aniEles,g=[],h=!1,i=0;i<e.length;i++){var j=e[i],l=b(j);h=h||l}var m=b(k,!0);if(h||m)if(e.length>0){var n=e.updateCompoundBounds().spawnSelf().merge(e);k.notify({type:"draw",eles:n})}else k.notify({type:"draw"});e.unmerge(g),k.trigger("step")}function c(a,b,c){var d=f.core(a),e=!d,g=a,h=k._private.style,i=b._private;if(e){var j=g._private.position;i.startPosition=i.startPosition||{x:j.x,y:j.y},i.startStyle=i.startStyle||h.getAnimationStartStyle(g,i.style)}if(d){var l=k._private.pan;i.startPan=i.startPan||{x:l.x,y:l.y},i.startZoom=null!=i.startZoom?i.startZoom:k._private.zoom}i.started=!0,i.startTime=c-i.progress*i.duration}function d(a,b,c,d){var e=k._private.style,h=!d,i=a._private,l=b._private,m=l.easing,o=l.startTime;if(!l.easingImpl)if(null==m)l.easingImpl=n.linear;else{var p;if(f.string(m)){var q=e.parse("transition-timing-function",m);p=q.value}else p=m;var r,s;f.string(p)?(r=p,s=[]):(r=p[1],s=p.slice(2).map(function(a){return+a})),s.length>0?("spring"===r&&s.push(l.duration),l.easingImpl=n[r].apply(null,s)):l.easingImpl=n[r]}var t,u=l.easingImpl;if(t=0===l.duration?1:(c-o)/l.duration,l.applying&&(t=l.progress),0>t?t=0:t>1&&(t=1),null==l.delay){var v=l.startPosition,w=l.position,x=i.position;w&&h&&(g(v.x,w.x)&&(x.x=j(v.x,w.x,t,u)),g(v.y,w.y)&&(x.y=j(v.y,w.y,t,u)),a.trigger("position"));var y=l.startPan,z=l.pan,A=i.pan,B=null!=z&&d;B&&(g(y.x,z.x)&&(A.x=j(y.x,z.x,t,u)),g(y.y,z.y)&&(A.y=j(y.y,z.y,t,u)),a.trigger("pan"));var C=l.startZoom,D=l.zoom,E=null!=D&&d;E&&(g(C,D)&&(i.zoom=j(C,D,t,u)),a.trigger("zoom")),(B||E)&&a.trigger("viewport");var F=l.style;if(F&&F.length>0&&h){for(var G=0;G<F.length;G++){var H=F[G],r=H.name,I=H,J=l.startStyle[r],K=j(J,I,t,u);e.overrideBypass(a,r,K)}a.trigger("style")}}return l.progress=t,t}function g(a,b){return null==a||null==b?!1:f.number(a)&&f.number(b)?!0:a&&b?!0:!1}function h(a,b,c){var d=1-c,e=c*c;return 3*d*d*c*a+3*d*e*b+e*c}function i(a,b){return function(c,d,e){
return c+(d-c)*h(a,b,e)}}function j(a,b,c,d){0>c?c=0:c>1&&(c=1);var e,g;if(e=null!=a.pfValue||null!=a.value?null!=a.pfValue?a.pfValue:a.value:a,g=null!=b.pfValue||null!=b.value?null!=b.pfValue?b.pfValue:b.value:b,f.number(e)&&f.number(g))return d(e,g,c);if(f.array(e)&&f.array(g)){for(var h=[],i=0;i<g.length;i++){var j=e[i],k=g[i];if(null!=j&&null!=k){var l=d(j,k,c);a.roundValue&&(l=Math.round(l)),h.push(l)}else h.push(k)}return h}return void 0}var k=this;if(k._private.animationsRunning=!0,k.styleEnabled()){var l=k.renderer();l&&l.beforeRender?l.beforeRender(function(a,c){b(c)},l.beforeRenderPriorities.animations):a();var m=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>l&&Math.abs(h.v)>l))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}(),n={linear:function(a,b,c){return a+(b-a)*c},ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"ease-in-sine":i(.47,0,.745,.715),"ease-out-sine":i(.39,.575,.565,1),"ease-in-out-sine":i(.445,.05,.55,.95),"ease-in-quad":i(.55,.085,.68,.53),"ease-out-quad":i(.25,.46,.45,.94),"ease-in-out-quad":i(.455,.03,.515,.955),"ease-in-cubic":i(.55,.055,.675,.19),"ease-out-cubic":i(.215,.61,.355,1),"ease-in-out-cubic":i(.645,.045,.355,1),"ease-in-quart":i(.895,.03,.685,.22),"ease-out-quart":i(.165,.84,.44,1),"ease-in-out-quart":i(.77,0,.175,1),"ease-in-quint":i(.755,.05,.855,.06),"ease-out-quint":i(.23,1,.32,1),"ease-in-out-quint":i(.86,0,.07,1),"ease-in-expo":i(.95,.05,.795,.035),"ease-out-expo":i(.19,1,.22,1),"ease-in-out-expo":i(1,0,0,1),"ease-in-circ":i(.6,.04,.98,.335),"ease-out-circ":i(.075,.82,.165,1),"ease-in-out-circ":i(.785,.135,.15,.86),spring:function(a,b,c){if(0===c)return n.linear;var d=m(a,b,c);return function(a,b,c){return a+(b-a)*d(c)}},"cubic-bezier":function(a,b,c,d){return i(a,b,c,d)}}}}};b.exports=g},{"../define":44,"../is":83,"../util":100}],35:[function(a,b,c){"use strict";var d=a("../define"),e={on:d.on(),one:d.on({unbindSelfOnTrigger:!0}),once:d.on({unbindAllBindersOnTrigger:!0}),off:d.off(),trigger:d.trigger()};d.eventAliasesOn(e),b.exports=e},{"../define":44}],36:[function(a,b,c){"use strict";var d={png:function(a){var b=this._private.renderer;return a=a||{},b.png(a)},jpg:function(a){var b=this._private.renderer;return a=a||{},a.bg=a.bg||"#fff",b.jpg(a)}};d.jpeg=d.jpg,b.exports=d},{}],37:[function(a,b,c){"use strict";var d=a("../window"),e=a("../util"),f=a("../collection"),g=a("../is"),h=a("../promise"),i=a("../define"),j=function(a){var b=this;a=e.extend({},a);var c=a.container;c&&!g.htmlElement(c)&&g.htmlElement(c[0])&&(c=c[0]);var i=c?c._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var j=i.readies=i.readies||[];c&&(c._cyreg=i),i.cy=b;var k=void 0!==d&&void 0!==c&&!a.headless,l=a;l.layout=e.extend({name:k?"grid":"null"},l.layout),l.renderer=e.extend({name:k?"canvas":"null"},l.renderer);var m=function(a,b,c){return void 0!==b?b:void 0!==c?c:a},n=this._private={container:c,ready:!1,initrender:!1,options:l,elements:new f(this),listeners:[],aniEles:new f(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:m(!0,l.zoomingEnabled),userZoomingEnabled:m(!0,l.userZoomingEnabled),panningEnabled:m(!0,l.panningEnabled),userPanningEnabled:m(!0,l.userPanningEnabled),boxSelectionEnabled:m(!0,l.boxSelectionEnabled),autolock:m(!1,l.autolock,l.autolockNodes),autoungrabify:m(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:m(!1,l.autounselectify),styleEnabled:void 0===l.styleEnabled?k:l.styleEnabled,zoom:g.number(l.zoom)?l.zoom:1,pan:{x:g.plainObject(l.pan)&&g.number(l.pan.x)?l.pan.x:0,y:g.plainObject(l.pan)&&g.number(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1},o=l.selectionType;void 0===o||"additive"!==o&&"single"!==o?n.selectionType="single":n.selectionType=o,g.number(l.minZoom)&&g.number(l.maxZoom)&&l.minZoom<l.maxZoom?(n.minZoom=l.minZoom,n.maxZoom=l.maxZoom):g.number(l.minZoom)&&void 0===l.maxZoom?n.minZoom=l.minZoom:g.number(l.maxZoom)&&void 0===l.minZoom&&(n.maxZoom=l.maxZoom);var p=function(a,b){var c=a.some(g.promise);return c?h.all(a).then(b):void b(a)};b.initRenderer(e.extend({hideEdgesOnViewport:l.hideEdgesOnViewport,textureOnViewport:l.textureOnViewport,wheelSensitivity:g.number(l.wheelSensitivity)&&l.wheelSensitivity>0?l.wheelSensitivity:1,motionBlur:void 0===l.motionBlur?!1:l.motionBlur,motionBlurOpacity:void 0===l.motionBlurOpacity?.05:l.motionBlurOpacity,pixelRatio:g.number(l.pixelRatio)&&l.pixelRatio>0?l.pixelRatio:void 0,desktopTapThreshold:void 0===l.desktopTapThreshold?4:l.desktopTapThreshold,touchTapThreshold:void 0===l.touchTapThreshold?8:l.touchTapThreshold},l.renderer)),p([l.style,l.elements],function(a){var c=a[0],d=a[1];n.styleEnabled&&b.setStyle(c),l.initrender&&(b.on("initrender",l.initrender),b.on("initrender",function(){n.initrender=!0})),b.load(d,function(){b.startAnimationLoop(),n.ready=!0,g.fn(l.ready)&&b.on("ready",l.ready);for(var a=0;a<j.length;a++){var c=j[a];b.on("ready",c)}i&&(i.readies=[]),b.trigger("ready")},l.done)})},k=j.prototype;e.extend(k,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},ready:function(a){return this.isReady()?this.trigger("ready",[],a):this.on("ready",a),this},initrender:function(){return this._private.initrender},destroy:function(){var a=this;return a.stopAnimationLoop(),a.destroyRenderer(),a},hasElementWithId:function(a){return this._private.elements.hasElementWithId(a)},getElementById:function(a){return this._private.elements.getElementById(a)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(a){return this._private.elements.merge(a),this},removeFromPool:function(a){return this._private.elements.unmerge(a),this},container:function(){return this._private.container},options:function(){return e.copy(this._private.options)},json:function(a){var b=this,c=b._private,d=b.mutableElements();if(g.plainObject(a)){if(b.startBatch(),a.elements){var f={},h=function(a,c){for(var d=0;d<a.length;d++){var g=a[d],h=g.data.id,i=b.getElementById(h);f[h]=!0,0!==i.length?i.json(g):c?b.add(e.extend({group:c},g)):b.add(g)}};if(g.array(a.elements))h(a.elements);else for(var i=["nodes","edges"],j=0;j<i.length;j++){var k=i[j],l=a.elements[k];g.array(l)&&h(l,k)}d.stdFilter(function(a){return!f[a.id()]}).remove()}a.style&&b.style(a.style),null!=a.zoom&&a.zoom!==c.zoom&&b.zoom(a.zoom),a.pan&&(a.pan.x!==c.pan.x||a.pan.y!==c.pan.y)&&b.pan(a.pan);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],j=0;j<m.length;j++){var n=m[j];null!=a[n]&&b[n](a[n])}return b.endBatch(),this}if(void 0===a){var o={};return o.elements={},d.forEach(function(a){var b=a.group();o.elements[b]||(o.elements[b]=[]),o.elements[b].push(a.json())}),this._private.styleEnabled&&(o.style=b.style().json()),o.zoomingEnabled=b._private.zoomingEnabled,o.userZoomingEnabled=b._private.userZoomingEnabled,o.zoom=b._private.zoom,o.minZoom=b._private.minZoom,o.maxZoom=b._private.maxZoom,o.panningEnabled=b._private.panningEnabled,o.userPanningEnabled=b._private.userPanningEnabled,o.pan=e.copy(b._private.pan),o.boxSelectionEnabled=b._private.boxSelectionEnabled,o.renderer=e.copy(b._private.options.renderer),o.hideEdgesOnViewport=b._private.options.hideEdgesOnViewport,o.textureOnViewport=b._private.options.textureOnViewport,o.wheelSensitivity=b._private.options.wheelSensitivity,o.motionBlur=b._private.options.motionBlur,o}},scratch:i.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:i.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),[a("./add-remove"),a("./animation"),a("./events"),a("./export"),a("./layout"),a("./notification"),a("./renderer"),a("./search"),a("./style"),a("./viewport")].forEach(function(a){e.extend(k,a)}),b.exports=j},{"../collection":26,"../define":44,"../is":83,"../promise":86,"../util":100,"../window":107,"./add-remove":33,"./animation":34,"./events":35,"./export":36,"./layout":38,"./notification":39,"./renderer":40,"./search":41,"./style":42,"./viewport":43}],38:[function(a,b,c){"use strict";var d=a("../util"),e=a("../is"),f={layout:function(a){var b=this._private.prevLayout=null==a?this._private.prevLayout:this.makeLayout(a);return b.run(),this},makeLayout:function(a){var b=this;if(null==a)return void d.error("Layout options must be specified to make a layout");if(null==a.name)return void d.error("A `name` must be specified to make a layout");var c=a.name,f=b.extension("layout",c);if(null==f)return void d.error("Can not apply layout: No such layout `"+c+"` found; did you include its JS file?");var g;g=e.string(a.eles)?b.$(a.eles):null!=a.eles?a.eles:b.$();var h=new f(d.extend({},a,{cy:b,eles:g}));return h}};f.createLayout=f.makeLayout,b.exports=f},{"../is":83,"../util":100}],39:[function(a,b,c){"use strict";var d={notify:function(a){var b=this._private;if(b.batchingNotify){var c=b.batchNotifyEles,d=b.batchNotifyTypes;return a.eles&&c.merge(a.eles),void(d.ids[a.type]||(d.push(a.type),d.ids[a.type]=!0))}if(b.notificationsEnabled){var e=this.renderer();e&&e.notify(a)}},notifications:function(a){var b=this._private;return void 0===a?b.notificationsEnabled:void(b.notificationsEnabled=a?!0:!1)},noNotifications:function(a){this.notifications(!1),a(),this.notifications(!0)},startBatch:function(){var a=this._private;return null==a.batchCount&&(a.batchCount=0),0===a.batchCount&&(a.batchingStyle=a.batchingNotify=!0,a.batchStyleEles=this.collection(),a.batchNotifyEles=this.collection(),a.batchNotifyTypes=[],a.batchNotifyTypes.ids={}),a.batchCount++,this},endBatch:function(){var a=this._private;return a.batchCount--,0===a.batchCount&&(a.batchingStyle=!1,a.batchStyleEles.updateStyle(),a.batchingNotify=!1,this.notify({type:a.batchNotifyTypes,eles:a.batchNotifyEles})),this},batch:function(a){return this.startBatch(),a(),this.endBatch(),this},batchData:function(a){var b=this;return this.batch(function(){for(var c=Object.keys(a),d=0;d<c.length;d++){var e=c[d],f=a[e],g=b.getElementById(e);g.data(f)}})}};b.exports=d},{}],40:[function(a,b,c){"use strict";var d=a("../util"),e={renderTo:function(a,b,c,d){var e=this._private.renderer;return e.renderTo(a,b,c,d),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(a){var b=this,c=b.extension("renderer",a.name);if(null==c)return void d.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",a.name);var e=d.extend({},a,{cy:b});b._private.renderer=new c(e)},destroyRenderer:function(){var a=this;a.notify({type:"destroy"});var b=a.container();if(b)for(b._cyreg=null;b.childNodes.length>0;)b.removeChild(b.childNodes[0]);a._private.renderer=null},onRender:function(a){return this.on("render",a)},offRender:function(a){return this.off("render",a)}};e.invalidateDimensions=e.resize,b.exports=e},{"../util":100}],41:[function(a,b,c){"use strict";var d=a("../is"),e=a("../collection"),f={collection:function(a,b){return d.string(a)?this.$(a):d.elementOrCollection(a)?a.collection():d.array(a)?new e(this,a,b):new e(this)},nodes:function(a){var b=this.$(function(){return this.isNode()});return a?b.filter(a):b},edges:function(a){var b=this.$(function(){return this.isEdge()});return a?b.filter(a):b},$:function(a){var b=this._private.elements;return a?b.filter(a):b.spawnSelf()},mutableElements:function(){return this._private.elements}};f.elements=f.filter=f.$,b.exports=f},{"../collection":26,"../is":83}],42:[function(a,b,c){"use strict";var d=a("../is"),e=a("../style"),f={style:function(a){if(a){var b=this.setStyle(a);b.update()}return this._private.style},setStyle:function(a){var b=this._private;return d.stylesheet(a)?b.style=a.generateStyle(this):d.array(a)?b.style=e.fromJson(this,a):d.string(a)?b.style=e.fromString(this,a):b.style=e(this),b.style}};b.exports=f},{"../is":83,"../style":92}],43:[function(a,b,c){"use strict";var d=a("../is"),e=a("../window"),f={autolock:function(a){return void 0===a?this._private.autolock:(this._private.autolock=a?!0:!1,this)},autoungrabify:function(a){return void 0===a?this._private.autoungrabify:(this._private.autoungrabify=a?!0:!1,this)},autounselectify:function(a){return void 0===a?this._private.autounselectify:(this._private.autounselectify=a?!0:!1,this)},panningEnabled:function(a){return void 0===a?this._private.panningEnabled:(this._private.panningEnabled=a?!0:!1,this)},userPanningEnabled:function(a){return void 0===a?this._private.userPanningEnabled:(this._private.userPanningEnabled=a?!0:!1,this)},zoomingEnabled:function(a){return void 0===a?this._private.zoomingEnabled:(this._private.zoomingEnabled=a?!0:!1,this)},userZoomingEnabled:function(a){return void 0===a?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=a?!0:!1,this)},boxSelectionEnabled:function(a){return void 0===a?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=a?!0:!1,this)},pan:function(){var a,b,c,e,f,g=arguments,h=this._private.pan;switch(g.length){case 0:return h;case 1:if(d.string(g[0]))return a=g[0],h[a];if(d.plainObject(g[0])){if(!this._private.panningEnabled)return this;c=g[0],e=c.x,f=c.y,d.number(e)&&(h.x=e),d.number(f)&&(h.y=f),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=g[0],b=g[1],"x"!==a&&"y"!==a||!d.number(b)||(h[a]=b),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(a){var b,c,e,f,g,h=arguments,i=this._private.pan;if(!this._private.panningEnabled)return this;switch(h.length){case 1:d.plainObject(h[0])&&(e=h[0],f=e.x,g=e.y,d.number(f)&&(i.x+=f),d.number(g)&&(i.y+=g),this.trigger("pan viewport"));break;case 2:b=h[0],c=h[1],"x"!==b&&"y"!==b||!d.number(c)||(i[b]+=c),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(a,b){var c=this.getFitViewport(a,b);if(c){var d=this._private;d.zoom=c.zoom,d.pan=c.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(a,b){if(d.number(a)&&void 0===b&&(b=a,a=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var c;if(d.string(a)){var e=a;a=this.$(e)}else if(d.boundingBox(a)){var f=a;c={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2},c.w=c.x2-c.x1,c.h=c.y2-c.y1}else d.elementOrCollection(a)||(a=this.mutableElements());c=c||a.boundingBox();var g,h=this.width(),i=this.height();if(b=d.number(b)?b:0,!isNaN(h)&&!isNaN(i)&&h>0&&i>0&&!isNaN(c.w)&&!isNaN(c.h)&&c.w>0&&c.h>0){g=Math.min((h-2*b)/c.w,(i-2*b)/c.h),g=g>this._private.maxZoom?this._private.maxZoom:g,g=g<this._private.minZoom?this._private.minZoom:g;var j={x:(h-g*(c.x1+c.x2))/2,y:(i-g*(c.y1+c.y2))/2};return{zoom:g,pan:j}}}},minZoom:function(a){return void 0===a?this._private.minZoom:(d.number(a)&&(this._private.minZoom=a),this)},maxZoom:function(a){return void 0===a?this._private.maxZoom:(d.number(a)&&(this._private.maxZoom=a),this)},zoom:function(a){var b,c;if(void 0===a)return this._private.zoom;if(d.number(a))c=a;else if(d.plainObject(a)){if(c=a.level,a.position){var e=a.position,f=this._private.pan,g=this._private.zoom;b={x:e.x*g+f.x,y:e.y*g+f.y}}else a.renderedPosition&&(b=a.renderedPosition);if(b&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!d.number(c)||b&&(!d.number(b.x)||!d.number(b.y)))return this;if(c=c>this._private.maxZoom?this._private.maxZoom:c,c=c<this._private.minZoom?this._private.minZoom:c,b){var h=this._private.pan,i=this._private.zoom,j=c,k={x:-j/i*(b.x-h.x)+b.x,y:-j/i*(b.y-h.y)+b.y};this._private.zoom=c,this._private.pan=k;var l=h.x!==k.x||h.y!==k.y;this.trigger(" zoom "+(l?" pan ":"")+" viewport ")}else this._private.zoom=c,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(a){var b=this._private,c=!0,e=!0,f=[],g=!1,h=!1;if(!a)return this;if(d.number(a.zoom)||(c=!1),d.plainObject(a.pan)||(e=!1),!c&&!e)return this;if(c){var i=a.zoom;i<b.minZoom||i>b.maxZoom||!b.zoomingEnabled?g=!0:(b.zoom=i,f.push("zoom"))}if(e&&(!g||!a.cancelOnFailedZoom)&&b.panningEnabled){var j=a.pan;d.number(j.x)&&(b.pan.x=j.x,h=!1),d.number(j.y)&&(b.pan.y=j.y,h=!1),h||f.push("pan")}return f.length>0&&(f.push("viewport"),this.trigger(f.join(" ")),this.notify({type:"viewport"})),this},center:function(a){var b=this.getCenterPan(a);return b&&(this._private.pan=b,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(a,b){if(this._private.panningEnabled){if(d.string(a)){var c=a;a=this.mutableElements().filter(c)}else d.elementOrCollection(a)||(a=this.mutableElements());var e=a.boundingBox(),f=this.width(),g=this.height();b=void 0===b?this._private.zoom:b;var h={x:(f-b*(e.x1+e.x2))/2,y:(g-b*(e.y1+e.y2))/2};return h}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var a=this._private,b=a.container;return a.sizeCache=a.sizeCache||(b?function(){var a=b.getBoundingClientRect(),c=e.getComputedStyle(b),d=function(a){return parseFloat(c.getPropertyValue(a))};return{width:a.width-d("padding-left")-d("padding-right")-d("border-left-width")-d("border-right-width"),height:a.height-d("padding-top")-d("padding-bottom")-d("border-top-width")-d("border-bottom-width")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var a=this._private.pan,b=this._private.zoom,c=this.renderedExtent(),d={x1:(c.x1-a.x)/b,x2:(c.x2-a.x)/b,y1:(c.y1-a.y)/b,y2:(c.y2-a.y)/b};return d.w=d.x2-d.x1,d.h=d.y2-d.y1,d},renderedExtent:function(){var a=this.width(),b=this.height();return{x1:0,y1:0,x2:a,y2:b,w:a,h:b}}};f.centre=f.center,f.autolockNodes=f.autolock,f.autoungrabifyNodes=f.autoungrabify,b.exports=f},{"../is":83,"../window":107}],44:[function(a,b,c){"use strict";var d=a("./util"),e=a("./is"),f=a("./selector"),g=a("./promise"),h=a("./event"),i=a("./animation"),j={data:function(a){var b={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(a){},canSet:function(a){return!0}};return a=d.extend({},b,a),function(b,c){var d=a,f=this,g=void 0!==f.length,h=g?f:[f],i=g?f[0]:f;if(e.string(b)){if(d.allowGetting&&void 0===c){var j;return i&&(j=i._private[d.field][b]),j}if(d.allowSetting&&void 0!==c){var k=!d.immutableKeys[b];if(k){for(var l=0,m=h.length;m>l;l++)d.canSet(h[l])&&(h[l]._private[d.field][b]=c);d.updateStyle&&f.updateStyle(),d.onSet(f),d.settingTriggersEvent&&f[d.triggerFnName](d.settingEvent)}}}else if(d.allowSetting&&e.plainObject(b)){for(var n,o,p=b,q=Object.keys(p),l=0;l<q.length;l++){n=q[l],o=p[n];var k=!d.immutableKeys[n];if(k)for(var r=0;r<h.length;r++){var s=h[r];d.canSet(s)&&(s._private[d.field][n]=o)}}d.updateStyle&&f.updateStyle(),d.onSet(f),d.settingTriggersEvent&&f[d.triggerFnName](d.settingEvent)}else if(d.allowBinding&&e.fn(b)){var t=b;f.on(d.bindingEvent,t)}else if(d.allowGetting&&void 0===b){var j;return i&&(j=i._private[d.field]),j}return f}},removeData:function(a){var b={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return a=d.extend({},b,a),function(b){var c=a,d=this,f=void 0!==d.length,g=f?d:[d];if(e.string(b)){for(var h=b.split(/\s+/),i=h.length,j=0;i>j;j++){var k=h[j];if(!e.emptyString(k)){var l=!c.immutableKeys[k];if(l)for(var m=0,n=g.length;n>m;m++)g[m]._private[c.field][k]=void 0}}c.triggerEvent&&d[c.triggerFnName](c.event)}else if(void 0===b){for(var m=0,n=g.length;n>m;m++)for(var o=g[m]._private[c.field],h=Object.keys(o),j=0;j<h.length;j++){var k=h[j],p=!c.immutableKeys[k];p&&(o[k]=void 0)}c.triggerEvent&&d[c.triggerFnName](c.event)}return d}},event:{regex:/(\w+)(\.(?:\w+|\*))?/,universalNamespace:".*",optionalTypeRegex:/(\w+)?(\.(?:\w+|\*))?/,falseCallback:function(){return!1}},on:function(a){var b={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return a=d.extend({},b,a),function(b,c,d,g){var h=this,i=void 0!==h.length,k=i?h:[h],l=e.string(b),m=a;if(e.plainObject(c)?(g=d,d=c,c=void 0):(e.fn(c)||c===!1)&&(g=c,d=void 0,c=void 0),(e.fn(d)||d===!1)&&(g=d,d=void 0),!e.fn(g)&&g!==!1&&l)return h;if(l){var n={};n[b]=g,b=n}for(var o=Object.keys(b),p=0;p<o.length;p++){var q=o[p];if(g=b[q],g===!1&&(g=j.event.falseCallback),e.fn(g)){q=q.split(/\s+/);for(var r=0;r<q.length;r++){var s=q[r];if(!e.emptyString(s)){var t=s.match(j.event.regex);if(t)for(var u=t[1],v=t[2]?t[2]:void 0,w={callback:g,data:d,delegated:c?!0:!1,selector:c,selObj:new f(c),type:u,namespace:v,unbindSelfOnTrigger:m.unbindSelfOnTrigger,unbindAllBindersOnTrigger:m.unbindAllBindersOnTrigger,binders:k},x=0;x<k.length;x++){var y=k[x]._private=k[x]._private||{};y.listeners=y.listeners||[],y.listeners.push(w)}}}}}return h}},eventAliasesOn:function(a){var b=a;b.addListener=b.listen=b.bind=b.on,b.removeListener=b.unlisten=b.unbind=b.off,b.emit=b.trigger,b.pon=b.promiseOn=function(a,b){var c=this,d=Array.prototype.slice.call(arguments,0);return new g(function(a,b){var e=function(b){c.off.apply(c,g),a(b)},f=d.concat([e]),g=f.concat([]);c.on.apply(c,f)})}},off:function(a){var b={};return a=d.extend({},b,a),function(a,b,c){var d=this,f=void 0!==d.length,g=f?d:[d],h=e.string(a);if(0===arguments.length){for(var i=0;i<g.length;i++)g[i]._private=g[i]._private||{},t.listeners=[];return d}if((e.fn(b)||b===!1)&&(c=b,b=void 0),h){var k={};k[a]=c,a=k}for(var l=Object.keys(a),m=0;m<l.length;m++){var n=l[m];c=a[n],c===!1&&(c=j.event.falseCallback),n=n.split(/\s+/);for(var o=0;o<n.length;o++){var p=n[o];if(!e.emptyString(p)){var q=p.match(j.event.optionalTypeRegex);if(q)for(var r=q[1]?q[1]:void 0,s=q[2]?q[2]:void 0,i=0;i<g.length;i++)for(var t=g[i]._private=g[i]._private||{},u=t.listeners=t.listeners||[],v=0;v<u.length;v++){var w=u[v],x=!s||s===w.namespace,y=!r||w.type===r,z=!c||c===w.callback,A=x&&y&&z;A&&(u.splice(v,1),v--)}}}}return d}},trigger:function(a){var b={};return a=d.extend({},b,a),function(b,c,d){var f=this,g=void 0!==f.length,i=g?f:[f],k=e.string(b),l=e.plainObject(b),m=e.event(b),n=this._private=this._private||{},o=n.cy||(e.core(this)?this:null),p=o?o.hasCompoundNodes():!1;if(k){var q=b.split(/\s+/);b=[];for(var r=0;r<q.length;r++){var s=q[r];if(!e.emptyString(s)){var t=s.match(j.event.regex),u=t[1],v=t[2]?t[2]:void 0;b.push({type:u,namespace:v})}}}else if(l){var w=b;b=[w]}c?e.array(c)||(c=[c]):c=[];for(var r=0;r<b.length;r++)for(var x=b[r],y=0;y<i.length;y++){var s,z=i[y],n=z._private=z._private||{},A=n.listeners=n.listeners||[],B=e.element(z),C=B||a.layout;if(m?(s=x,s.cyTarget=s.cyTarget||z,s.cy=s.cy||o):s=new h(x,{cyTarget:z,cy:o,namespace:x.namespace}),x.layout&&(s.layout=x.layout),a.layout&&(s.layout=z),s.cyPosition){var D=s.cyPosition,E=o.zoom(),F=o.pan();s.cyRenderedPosition={x:D.x*E+F.x,y:D.y*E+F.y}}d&&(A=[{namespace:s.namespace,type:s.type,callback:d}]);for(var G=0;G<A.length;G++){var H=A[G],I=!H.namespace||H.namespace===s.namespace||H.namespace===j.event.universalNamespace,J=H.type===s.type,K=H.delegated?z!==s.cyTarget&&e.element(s.cyTarget)&&H.selObj.matches(s.cyTarget):!0,L=I&&J&&K;if(L){var M=[s];if(M=M.concat(c),H.data?s.data=H.data:s.data=void 0,(H.unbindSelfOnTrigger||H.unbindAllBindersOnTrigger)&&(A.splice(G,1),G--),H.unbindAllBindersOnTrigger)for(var N=H.binders,O=0;O<N.length;O++){var P=N[O];if(P&&P!==z)for(var Q=P._private.listeners,R=0;R<Q.length;R++){var S=Q[R];S===H&&(Q.splice(R,1),R--)}}var T=H.delegated?s.cyTarget:z,U=H.callback.apply(T,M);(U===!1||s.isPropagationStopped())&&(C=!1,U===!1&&(s.stopPropagation(),s.preventDefault()))}}if(C){var V=p?z._private.parent:null,W=null!=V&&0!==V.length;W?(V=V[0],V.trigger(s)):o.trigger(s)}}return f}},animated:function(a){var b={};return a=d.extend({},b,a),function(){var a=this,b=void 0!==a.length,c=b?a:[a],d=this._private.cy||this;if(!d.styleEnabled())return!1;var e=c[0];return e?e._private.animation.current.length>0:void 0}},clearQueue:function(a){var b={};return a=d.extend({},b,a),function(){var a=this,b=void 0!==a.length,c=b?a:[a],d=this._private.cy||this;if(!d.styleEnabled())return this;for(var e=0;e<c.length;e++){var f=c[e];f._private.animation.queue=[]}return this}},delay:function(a){var b={};return a=d.extend({},b,a),function(a,b){var c=this._private.cy||this;return c.styleEnabled()?this.animate({delay:a,duration:a,complete:b}):this}},delayAnimation:function(a){var b={};return a=d.extend({},b,a),function(a,b){var c=this._private.cy||this;return c.styleEnabled()?this.animation({delay:a,duration:a,complete:b}):this}},animation:function(a){var b={};return a=d.extend({},b,a),function(a,b){var c=this,e=void 0!==c.length,f=e?c:[c],g=this._private.cy||this,h=!e,j=!h;if(!g.styleEnabled())return this;var k=g.style();switch(a=d.extend({},a,b),void 0===a.duration&&(a.duration=400),a.duration){case"slow":a.duration=600;break;case"fast":a.duration=200}var l=0===Object.keys(a).length;if(l)return new i(f[0],a);if(j&&(a.style=k.getPropsList(a.style||a.css),a.css=void 0),a.renderedPosition&&j){var m=a.renderedPosition,n=g.pan(),o=g.zoom();a.position={x:(m.x-n.x)/o,y:(m.y-n.y)/o}}if(a.panBy&&h){var p=a.panBy,q=g.pan();a.pan={x:q.x+p.x,y:q.y+p.y}}var r=a.center||a.centre;if(r&&h){var s=g.getCenterPan(r.eles,a.zoom);s&&(a.pan=s)}if(a.fit&&h){var t=a.fit,u=g.getFitViewport(t.eles||t.boundingBox,t.padding);u&&(a.pan=u.pan,a.zoom=u.zoom)}return new i(f[0],a)}},animate:function(a){var b={};return a=d.extend({},b,a),function(a,b){var c=this,e=void 0!==c.length,f=e?c:[c],g=this._private.cy||this;if(!g.styleEnabled())return this;b&&(a=d.extend({},a,b));for(var h=0;h<f.length;h++){var i=f[h],j=i.animated()&&(void 0===a.queue||a.queue),k=i.animation(a,j?{queue:!0}:void 0);k.play()}return this}},stop:function(a){var b={};return a=d.extend({},b,a),function(a,b){var c=this,d=void 0!==c.length,e=d?c:[c],f=this._private.cy||this;if(!f.styleEnabled())return this;for(var g=0;g<e.length;g++){for(var h=e[g],i=h._private,j=i.animation.current,k=0;k<j.length;k++){var l=j[k],m=l._private;b&&(m.duration=0)}a&&(i.animation.queue=[]),b||(i.animation.current=[])}return f.notify({eles:this,type:"draw"}),this}}};b.exports=j},{"./animation":2,"./event":45,"./is":83,"./promise":86,"./selector":87,"./util":100}],45:[function(a,b,c){"use strict";function d(){return!1}function e(){return!0}var f=function(a,b){return this instanceof f?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented?e:d):this.type=a,b&&(this.type=void 0!==b.type?b.type:this.type,this.cy=b.cy,this.cyTarget=b.cyTarget,this.cyPosition=b.cyPosition,this.cyRenderedPosition=b.cyRenderedPosition,this.namespace=b.namespace,this.layout=b.layout,this.data=b.data,this.message=b.message),void(this.timeStamp=a&&a.timeStamp||Date.now())):new f(a,b)};f.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=e;var a=this.originalEvent;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.isPropagationStopped=e;var a=this.originalEvent;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=e,this.stopPropagation()},isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d},b.exports=f},{}],46:[function(a,b,c){"use strict";function d(a,b,c){var d=c,f=function(c){h.error("Can not register `"+b+"` for `"+a+"` since `"+c+"` already exists in the prototype and can not be overridden")};if("core"===a){if(k.prototype[b])return f(b);k.prototype[b]=c}else if("collection"===a){if(j.prototype[b])return f(b);j.prototype[b]=c}else if("layout"===a){for(var g=function(a){this.options=a,c.call(this,a),m.plainObject(this._private)||(this._private={}),this._private.cy=a.cy,this._private.listeners=[]},l=g.prototype=Object.create(c.prototype),o=[],p=0;p<o.length;p++){var q=o[p];l[q]=l[q]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var r=c.prototype.stop;l.stop=function(){var a=this.options;if(a&&a.animate){var b=this.animations;if(b)for(var c=0;c<b.length;c++)b[c].stop()}return r?r.call(this):this.trigger("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.on=i.on({layout:!0}),l.one=i.on({layout:!0,unbindSelfOnTrigger:!0}),l.once=i.on({layout:!0,unbindAllBindersOnTrigger:!0}),l.off=i.off({layout:!0}),l.trigger=i.trigger({layout:!0}),i.eventAliasesOn(l),d=g}else if("renderer"===a&&"null"!==b&&"base"!==b){var s=e("renderer","base"),t=s.prototype,u=c,v=c.prototype,w=function(){s.apply(this,arguments),u.apply(this,arguments)},x=w.prototype;for(var y in t){var z=t[y],A=null!=v[y];if(A)return f(y);x[y]=z}for(var y in v)x[y]=v[y];t.clientFunctions.forEach(function(a){x[a]=x[a]||function(){h.error("Renderer does not implement `renderer."+a+"()` on its prototype")}}),d=w}return h.setMap({map:n,keys:[a,b],value:d})}function e(a,b){return h.getMap({map:n,keys:[a,b]})}function f(a,b,c,d,e){return h.setMap({map:o,keys:[a,b,c,d],value:e})}function g(a,b,c,d){return h.getMap({map:o,keys:[a,b,c,d]})}var h=a("./util"),i=a("./define"),j=a("./collection"),k=a("./core"),l=a("./extensions"),m=a("./is"),n={},o={},p=function(){return 2===arguments.length?e.apply(null,arguments):3===arguments.length?d.apply(null,arguments):4===arguments.length?g.apply(null,arguments):5===arguments.length?f.apply(null,arguments):void h.error("Invalid extension access syntax")};k.prototype.extension=p,l.forEach(function(a){a.extensions.forEach(function(b){d(a.type,b.name,b.impl)})}),b.exports=p},{"./collection":26,"./core":37,"./define":44,"./extensions":47,"./is":83,"./util":100}],47:[function(a,b,c){"use strict";b.exports=[{type:"layout",extensions:a("./layout")},{type:"renderer",extensions:a("./renderer")}]},{"./layout":53,"./renderer":78}],48:[function(a,b,c){"use strict";function d(a){this.options=e.extend({},h,a)}var e=a("../../util"),f=a("../../math"),g=a("../../is"),h={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};d.prototype.run=function(){var a,b=this.options,c=b,d=b.cy,e=c.eles,h=e.nodes().not(":parent"),i=e,j=f.makeBoundingBox(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()});if(g.elementOrCollection(c.roots))a=c.roots;else if(g.array(c.roots)){for(var k=[],l=0;l<c.roots.length;l++){var m=c.roots[l],n=d.getElementById(m);k.push(n)}a=d.collection(k)}else if(g.string(c.roots))a=d.$(c.roots);else if(c.directed)a=h.roots();else{for(var o=[],p=h;p.length>0;){var q=d.collection();e.bfs({roots:p[0],visit:function(a,b,c,d,e){q=q.add(c)},directed:!1}),p=p.not(q),o.push(q)}a=d.collection();for(var l=0;l<o.length;l++){var r=o[l],s=r.maxDegree(!1),t=r.filter(function(){return this.degree(!1)===s});a=a.add(t)}}var u=[],v={},w={},x={},y={},z={};
i.bfs({roots:a,directed:c.directed,visit:function(a,b,c,d,e){var f=this[0],g=f.id();if(u[b]||(u[b]=[]),u[b].push(f),v[g]=!0,w[g]=b,x[g]=e,y[g]=d,e){var h=e.id(),i=z[h]=z[h]||[];i.push(c)}}});for(var A=[],l=0;l<h.length;l++){var n=h[l];v[n.id()]||A.push(n)}for(var B=3*A.length,C=0;0!==A.length&&B>C;){for(var D=A.shift(),E=D.neighborhood().nodes(),F=!1,l=0;l<E.length;l++){var G=w[E[l].id()];if(void 0!==G){u[G].push(D),F=!0;break}}F||A.push(D),C++}for(;0!==A.length;){var D=A.shift(),F=!1;F||(0===u.length&&u.push([]),u[0].push(D))}var H=function(){for(var a=0;a<u.length;a++)for(var b=u[a],c=0;c<b.length;c++){var d=b[c];d._private.scratch.breadthfirst={depth:a,index:c}}};H();for(var I=function(a){for(var b,c=a.connectedEdges(function(){return this.data("target")===a.id()}),d=a._private.scratch.breadthfirst,e=0,f=0;f<c.length;f++){var g=c[f],h=g.source()[0],i=h._private.scratch.breadthfirst;d.depth<=i.depth&&e<i.depth&&(e=i.depth,b=h)}return b},J=0;J<c.maximalAdjustments;J++){for(var K=u.length,L=[],l=0;K>l;l++)for(var G=u[l],M=G.length,N=0;M>N;N++){var n=G[N],O=n._private.scratch.breadthfirst,P=I(n);P&&(O.intEle=P,L.push(n))}for(var l=0;l<L.length;l++){var n=L[l],O=n._private.scratch.breadthfirst,P=O.intEle,Q=P._private.scratch.breadthfirst;u[O.depth].splice(O.index,1);for(var R=Q.depth+1;R>u.length-1;)u.push([]);u[R].push(n),O.depth=R,O.index=u[R].length-1}H()}var S=0;if(c.avoidOverlap){for(var l=0;l<h.length;l++){var T=h[l],U=T.boundingBox(),V=U.w,W=U.h;S=Math.max(S,V,W)}S*=c.spacingFactor}for(var X={},Y=function(a){if(X[a.id()])return X[a.id()];for(var b=a._private.scratch.breadthfirst.depth,c=a.neighborhood().nodes().not(":parent").intersection(h),d=0,e=0,f=0;f<c.length;f++){var g=c[f],i=g._private.scratch.breadthfirst,j=i.index,k=i.depth,l=u[k].length;(b>k||0===b)&&(d+=j/l,e++)}return e=Math.max(1,e),d/=e,0===e&&(d=void 0),X[a.id()]=d,d},Z=function(a,b){var c=Y(a),d=Y(b);return c-d},$=0;3>$;$++){for(var l=0;l<u.length;l++)u[l]=u[l].sort(Z);H()}for(var _=0,l=0;l<u.length;l++)_=Math.max(u[l].length,_);for(var aa={x:j.x1+j.w/2,y:j.x1+j.h/2},ba=function(a,b){var d=a._private.scratch.breadthfirst,e=d.depth,f=d.index,g=u[e].length,h=Math.max(j.w/(g+1),S),i=Math.max(j.h/(u.length+1),S),k=Math.min(j.w/2/u.length,j.h/2/u.length);if(k=Math.max(k,S),c.circle){if(c.circle){var l=k*e+k-(u.length>0&&u[0].length<=3?k/2:0),m=2*Math.PI/u[e].length*f;return 0===e&&1===u[0].length&&(l=1),{x:aa.x+l*Math.cos(m),y:aa.y+l*Math.sin(m)}}return{x:aa.x+(f+1-(g+1)/2)*h,y:(e+1)*i}}var n={x:aa.x+(f+1-(g+1)/2)*h,y:(e+1)*i};return b?n:n},ca={},l=u.length-1;l>=0;l--)for(var G=u[l],N=0;N<G.length;N++){var D=G[N];ca[D.id()]=ba(D,l===u.length-1)}return h.layoutPositions(this,c,function(){return ca[this.id()]}),this},b.exports=d},{"../../is":83,"../../math":85,"../../util":100}],49:[function(a,b,c){"use strict";function d(a){this.options=e.extend({},h,a)}var e=a("../../util"),f=a("../../math"),g=a("../../is"),h={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};d.prototype.run=function(){var a=this.options,b=a,c=a.cy,d=b.eles,e=void 0!==b.counterclockwise?!b.counterclockwise:b.clockwise,h=d.nodes().not(":parent");b.sort&&(h=h.sort(b.sort));for(var i,j=f.makeBoundingBox(b.boundingBox?b.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()}),k={x:j.x1+j.w/2,y:j.y1+j.h/2},l=void 0===b.sweep?2*Math.PI-2*Math.PI/h.length:b.sweep,m=l/Math.max(1,h.length-1),n=0,o=0;o<h.length;o++){var p=h[o],q=p.boundingBox(),r=q.w,s=q.h;n=Math.max(n,r,s)}if(i=g.number(b.radius)?b.radius:h.length<=1?0:Math.min(j.h,j.w)/2-n,h.length>1&&b.avoidOverlap){n*=1.75;var t=Math.cos(m)-Math.cos(0),u=Math.sin(m)-Math.sin(0),v=Math.sqrt(n*n/(t*t+u*u));i=Math.max(v,i)}var w=function(a,c){var d=b.startAngle+a*m*(e?1:-1),f=i*Math.cos(d),g=i*Math.sin(d),h={x:k.x+f,y:k.y+g};return h};return h.layoutPositions(this,b,w),this},b.exports=d},{"../../is":83,"../../math":85,"../../util":100}],50:[function(a,b,c){"use strict";function d(a){this.options=e.extend({},g,a)}var e=a("../../util"),f=a("../../math"),g={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(a){return a.degree()},levelWidth:function(a){return a.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};d.prototype.run=function(){for(var a=this.options,b=a,c=void 0!==b.counterclockwise?!b.counterclockwise:b.clockwise,d=a.cy,e=b.eles,g=e.nodes().not(":parent"),h=f.makeBoundingBox(b.boundingBox?b.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),i={x:h.x1+h.w/2,y:h.y1+h.h/2},j=[],k=b.startAngle,l=0,m=0;m<g.length;m++){var n,o=g[m];n=b.concentric.apply(o,[o]),j.push({value:n,node:o}),o._private.scratch.concentric=n}g.updateStyle();for(var m=0;m<g.length;m++){var o=g[m],p=o.boundingBox();l=Math.max(l,p.w,p.h)}j.sort(function(a,b){return b.value-a.value});for(var q=b.levelWidth(g),r=[[]],s=r[0],m=0;m<j.length;m++){var t=j[m];if(s.length>0){var u=Math.abs(s[0].value-t.value);u>=q&&(s=[],r.push(s))}s.push(t)}var v=l+b.minNodeSpacing;if(!b.avoidOverlap){var w=r.length>0&&r[0].length>1,x=Math.min(h.w,h.h)/2-v,y=x/(r.length+w?1:0);v=Math.min(v,y)}for(var z=0,m=0;m<r.length;m++){var A=r[m],B=void 0===b.sweep?2*Math.PI-2*Math.PI/A.length:b.sweep,C=A.dTheta=B/Math.max(1,A.length-1);if(A.length>1&&b.avoidOverlap){var D=Math.cos(C)-Math.cos(0),E=Math.sin(C)-Math.sin(0),F=Math.sqrt(v*v/(D*D+E*E));z=Math.max(F,z)}A.r=z,z+=v}if(b.equidistant){for(var G=0,z=0,m=0;m<r.length;m++){var A=r[m],H=A.r-z;G=Math.max(G,H)}z=0;for(var m=0;m<r.length;m++){var A=r[m];0===m&&(z=A.r),A.r=z,z+=G}}for(var I={},m=0;m<r.length;m++)for(var A=r[m],C=A.dTheta,z=A.r,J=0;J<A.length;J++){var t=A[J],k=b.startAngle+(c?1:-1)*C*J,K={x:i.x+z*Math.cos(k),y:i.y+z*Math.sin(k)};I[t.node.id()]=K}return g.layoutPositions(this,b,function(){var a=this.id();return I[a]}),this},b.exports=d},{"../../math":85,"../../util":100}],51:[function(a,b,c){"use strict";function d(a){this.options=f.extend({},j,a),this.options.layout=this}var e,f=a("../../util"),g=a("../../math"),h=a("../../thread"),i=a("../../is"),j={ready:function(){},stop:function(){},animate:!0,animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,randomize:!1,componentSpacing:100,nodeRepulsion:function(a){return 4e5},nodeOverlap:10,idealEdgeLength:function(a){return 10},edgeElasticity:function(a){return 100},nestingFactor:5,gravity:80,numIter:1e3,initialTemp:200,coolingFactor:.95,minTemp:1,useMultitasking:!0};d.prototype.run=function(){var a=this.options,b=a.cy,c=this,d=this.thread;(!d||d.stopped())&&(d=this.thread=h({disabled:!a.useMultitasking})),c.stopped=!1,c.trigger({type:"layoutstart",layout:c}),e=!0===a.debug?!0:!1;var g=k(b,c,a);e&&n(g),a.randomize&&o(g,b);var i=Date.now(),j=!1,l=function(c){c=c||{},(!j||c.next)&&(!c.force&&Date.now()-i<a.animationThreshold||(j=!0,f.requestAnimationFrame(function(){p(g,b,a),!0===a.fit&&b.fit(a.padding),j=!1,c.next&&c.next()})))};d.on("message",function(a){var b=a.message;g.layoutNodes=b,l()}),d.pass({layoutInfo:g,options:{animate:a.animate,refresh:a.refresh,componentSpacing:a.componentSpacing,nodeOverlap:a.nodeOverlap,nestingFactor:a.nestingFactor,gravity:a.gravity,numIter:a.numIter,initialTemp:a.initialTemp,coolingFactor:a.coolingFactor,minTemp:a.minTemp}}).run(function(a){var b,c=a.layoutInfo,d=a.options,e=!1,f=function(a,b,c){g(a,b),k(a,b),l(a,b),m(a,b),n(a,b)},g=function(a,b){for(var c=0;c<a.graphSet.length;c++)for(var d=a.graphSet[c],e=d.length,f=0;e>f;f++)for(var g=a.layoutNodes[a.idToIndex[d[f]]],i=f+1;e>i;i++){var j=a.layoutNodes[a.idToIndex[d[i]]];h(g,j,a,b)}},h=function(a,b,c,d){var e=a.cmptId,f=b.cmptId;if(e===f||c.isCompound){var g=b.positionX-a.positionX,h=b.positionY-a.positionY;if(0!==g||0!==h){var k=i(a,b,g,h);if(k>0)var l=d.nodeOverlap*k,m=Math.sqrt(g*g+h*h),n=l*g/m,o=l*h/m;else var p=j(a,g,h),q=j(b,-1*g,-1*h),r=q.x-p.x,s=q.y-p.y,t=r*r+s*s,m=Math.sqrt(t),l=(a.nodeRepulsion+b.nodeRepulsion)/t,n=l*r/m,o=l*s/m;a.isLocked||(a.offsetX-=n,a.offsetY-=o),b.isLocked||(b.offsetX+=n,b.offsetY+=o)}}},i=function(a,b,c,d){if(c>0)var e=a.maxX-b.minX;else var e=b.maxX-a.minX;if(d>0)var f=a.maxY-b.minY;else var f=b.maxY-a.minY;return e>=0&&f>=0?Math.sqrt(e*e+f*f):0},j=function(a,b,c){var d=a.positionX,e=a.positionY,f=a.height||1,g=a.width||1,h=c/b,i=f/g,j={};return 0===b&&c>0?(j.x=d,j.y=e+f/2,j):0===b&&0>c?(j.x=d,j.y=e+f/2,j):b>0&&h>=-1*i&&i>=h?(j.x=d+g/2,j.y=e+g*c/2/b,j):0>b&&h>=-1*i&&i>=h?(j.x=d-g/2,j.y=e-g*c/2/b,j):c>0&&(-1*i>=h||h>=i)?(j.x=d+f*b/2/c,j.y=e+f/2,j):0>c&&(-1*i>=h||h>=i)?(j.x=d-f*b/2/c,j.y=e-f/2,j):j},k=function(a,b){for(var c=0;c<a.edgeSize;c++){var d=a.layoutEdges[c],e=a.idToIndex[d.sourceId],f=a.layoutNodes[e],g=a.idToIndex[d.targetId],h=a.layoutNodes[g],i=h.positionX-f.positionX,k=h.positionY-f.positionY;if(0===i&&0===k)return;var l=j(f,i,k),m=j(h,-1*i,-1*k),n=m.x-l.x,o=m.y-l.y,p=Math.sqrt(n*n+o*o),q=Math.pow(d.idealLength-p,2)/d.elasticity;if(0!==p)var r=q*n/p,s=q*o/p;else var r=0,s=0;f.isLocked||(f.offsetX+=r,f.offsetY+=s),h.isLocked||(h.offsetX-=r,h.offsetY-=s)}},l=function(a,b){for(var c=1,d=0;d<a.graphSet.length;d++){var e=a.graphSet[d],f=e.length;if(0===d)var g=a.clientHeight/2,h=a.clientWidth/2;else var i=a.layoutNodes[a.idToIndex[e[0]]],j=a.layoutNodes[a.idToIndex[i.parentId]],g=j.positionX,h=j.positionY;for(var k=0;f>k;k++){var l=a.layoutNodes[a.idToIndex[e[k]]];if(!l.isLocked){var m=g-l.positionX,n=h-l.positionY,o=Math.sqrt(m*m+n*n);if(o>c){var p=b.gravity*m/o,q=b.gravity*n/o;l.offsetX+=p,l.offsetY+=q}}}}},m=function(a,b){var c=[],d=0,e=-1;for(c.push.apply(c,a.graphSet[0]),e+=a.graphSet[0].length;e>=d;){var f=c[d++],g=a.idToIndex[f],h=a.layoutNodes[g],i=h.children;if(0<i.length&&!h.isLocked){for(var j=h.offsetX,k=h.offsetY,l=0;l<i.length;l++){var m=a.layoutNodes[a.idToIndex[i[l]]];m.offsetX+=j,m.offsetY+=k,c[++e]=i[l]}h.offsetX=0,h.offsetY=0}}},n=function(a,b){for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];0<d.children.length&&(d.maxX=void 0,d.minX=void 0,d.maxY=void 0,d.minY=void 0)}for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];if(!(0<d.children.length||d.isLocked)){var e=o(d.offsetX,d.offsetY,a.temperature);d.positionX+=e.x,d.positionY+=e.y,d.offsetX=0,d.offsetY=0,d.minX=d.positionX-d.width,d.maxX=d.positionX+d.width,d.minY=d.positionY-d.height,d.maxY=d.positionY+d.height,p(d,a)}}for(var c=0;c<a.nodeSize;c++){var d=a.layoutNodes[c];0<d.children.length&&!d.isLocked&&(d.positionX=(d.maxX+d.minX)/2,d.positionY=(d.maxY+d.minY)/2,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY)}},o=function(a,b,c){var d=Math.sqrt(a*a+b*b);if(d>c)var e={x:c*a/d,y:c*b/d};else var e={x:a,y:b};return e},p=function(a,b){var c=a.parentId;if(null!=c){var d=b.layoutNodes[b.idToIndex[c]],e=!1;return(null==d.maxX||a.maxX+d.padRight>d.maxX)&&(d.maxX=a.maxX+d.padRight,e=!0),(null==d.minX||a.minX-d.padLeft<d.minX)&&(d.minX=a.minX-d.padLeft,e=!0),(null==d.maxY||a.maxY+d.padBottom>d.maxY)&&(d.maxY=a.maxY+d.padBottom,e=!0),(null==d.minY||a.minY-d.padTop<d.minY)&&(d.minY=a.minY-d.padTop,e=!0),e?p(d,b):void 0}},q=function(a,b){for(var d=c.layoutNodes,e=[],f=0;f<d.length;f++){var g=d[f],h=g.cmptId,i=e[h]=e[h]||[];i.push(g)}for(var j=0,f=0;f<e.length;f++){var k=e[f];if(k){k.x1=1/0,k.x2=-(1/0),k.y1=1/0,k.y2=-(1/0);for(var l=0;l<k.length;l++){var m=k[l];k.x1=Math.min(k.x1,m.positionX-m.width/2),k.x2=Math.max(k.x2,m.positionX+m.width/2),k.y1=Math.min(k.y1,m.positionY-m.height/2),k.y2=Math.max(k.y2,m.positionY+m.height/2)}k.w=k.x2-k.x1,k.h=k.y2-k.y1,j+=k.w*k.h}}e.sort(function(a,b){return b.w*b.h-a.w*a.h});for(var n=0,o=0,p=0,q=0,r=Math.sqrt(j)*c.clientWidth/c.clientHeight,f=0;f<e.length;f++){var k=e[f];if(k){for(var l=0;l<k.length;l++){var m=k[l];m.isLocked||(m.positionX+=n,m.positionY+=o)}n+=k.w+b.componentSpacing,p+=k.w+b.componentSpacing,q=Math.max(q,k.h),p>r&&(o+=q+b.componentSpacing,n=0,p=0,q=0)}}},r=function(a){return e?!1:(f(c,d,a),c.temperature=c.temperature*d.coolingFactor,c.temperature<d.minTemp?!1:!0)},s=0;do{for(var t=0;t<d.refresh&&s<d.numIter;){var b=r(s);if(!b)break;t++,s++}d.animate&&broadcast(c.layoutNodes)}while(b&&s+1<d.numIter);return q(c,d),c}).then(function(a){g.layoutNodes=a.layoutNodes,d.stop(),m()});var m=function(){l({force:!0,next:function(){c.one("layoutstop",a.stop),c.trigger({type:"layoutstop",layout:c})}})};return this},d.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.trigger("layoutstop"),this},d.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var k=function(a,b,c){for(var d=c.eles.edges(),e=c.eles.nodes(),f={isCompound:a.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:e.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:d.size(),temperature:c.initialTemp,clientWidth:a.width(),clientHeight:a.width(),boundingBox:g.makeBoundingBox(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()})},h=c.eles.components(),j={},k=0;k<h.length;k++)for(var m=h[k],n=0;n<m.length;n++){var o=m[n];j[o.id()]=k}for(var k=0;k<f.nodeSize;k++){var p=e[k],q=p.boundingBox(),r={};r.isLocked=p.locked(),r.id=p.data("id"),r.parentId=p.data("parent"),r.cmptId=j[p.id()],r.children=[],r.positionX=p.position("x"),r.positionY=p.position("y"),r.offsetX=0,r.offsetY=0,r.height=q.w,r.width=q.h,r.maxX=r.positionX+r.width/2,r.minX=r.positionX-r.width/2,r.maxY=r.positionY+r.height/2,r.minY=r.positionY-r.height/2,r.padLeft=parseFloat(p.style("padding")),r.padRight=parseFloat(p.style("padding")),r.padTop=parseFloat(p.style("padding")),r.padBottom=parseFloat(p.style("padding")),r.nodeRepulsion=i.fn(c.nodeRepulsion)?c.nodeRepulsion.call(p,p):c.nodeRepulsion,f.layoutNodes.push(r),f.idToIndex[r.id]=k}for(var s=[],t=0,u=-1,v=[],k=0;k<f.nodeSize;k++){var p=f.layoutNodes[k],w=p.parentId;null!=w?f.layoutNodes[f.idToIndex[w]].children.push(p.id):(s[++u]=p.id,v.push(p.id))}for(f.graphSet.push(v);u>=t;){var x=s[t++],y=f.idToIndex[x],o=f.layoutNodes[y],z=o.children;if(z.length>0){f.graphSet.push(z);for(var k=0;k<z.length;k++)s[++u]=z[k]}}for(var k=0;k<f.graphSet.length;k++)for(var A=f.graphSet[k],n=0;n<A.length;n++){var B=f.idToIndex[A[n]];f.indexToGraph[B]=k}for(var k=0;k<f.edgeSize;k++){var C=d[k],D={};D.id=C.data("id"),D.sourceId=C.data("source"),D.targetId=C.data("target");var E=i.fn(c.idealEdgeLength)?c.idealEdgeLength.call(C,C):c.idealEdgeLength,F=i.fn(c.edgeElasticity)?c.edgeElasticity.call(C,C):c.edgeElasticity,G=f.idToIndex[D.sourceId],H=f.idToIndex[D.targetId],I=f.indexToGraph[G],J=f.indexToGraph[H];if(I!=J){for(var K=l(D.sourceId,D.targetId,f),L=f.graphSet[K],M=0,r=f.layoutNodes[G];-1===L.indexOf(r.id);)r=f.layoutNodes[f.idToIndex[r.parentId]],M++;for(r=f.layoutNodes[H];-1===L.indexOf(r.id);)r=f.layoutNodes[f.idToIndex[r.parentId]],M++;E*=M*c.nestingFactor}D.idealLength=E,D.elasticity=F,f.layoutEdges.push(D)}return f},l=function(a,b,c){var d=m(a,b,0,c);return 2>d.count?0:d.graph},m=function(a,b,c,d){var e=d.graphSet[c];if(-1<e.indexOf(a)&&-1<e.indexOf(b))return{count:2,graph:c};for(var f=0,g=0;g<e.length;g++){var h=e[g],i=d.idToIndex[h],j=d.layoutNodes[i].children;if(0!==j.length){var k=d.indexToGraph[d.idToIndex[j[0]]],l=m(a,b,k,d);if(0!==l.count){if(1!==l.count)return l;if(f++,2===f)break}}}return{count:f,graph:c}},n=function(a){if(e){console.debug("layoutNodes:");for(var b=0;b<a.nodeSize;b++){var c=a.layoutNodes[b],d="\nindex: "+b+"\nId: "+c.id+"\nChildren: "+c.children.toString()+"\nparentId: "+c.parentId+"\npositionX: "+c.positionX+"\npositionY: "+c.positionY+"\nOffsetX: "+c.offsetX+"\nOffsetY: "+c.offsetY+"\npadLeft: "+c.padLeft+"\npadRight: "+c.padRight+"\npadTop: "+c.padTop+"\npadBottom: "+c.padBottom;console.debug(d)}console.debug("idToIndex");for(var b in a.idToIndex)console.debug("Id: "+b+"\nIndex: "+a.idToIndex[b]);console.debug("Graph Set");for(var f=a.graphSet,b=0;b<f.length;b++)console.debug("Set : "+b+": "+f[b].toString());for(var d="IndexToGraph",b=0;b<a.indexToGraph.length;b++)d+="\nIndex : "+b+" Graph: "+a.indexToGraph[b];console.debug(d),d="Layout Edges";for(var b=0;b<a.layoutEdges.length;b++){var g=a.layoutEdges[b];d+="\nEdge Index: "+b+" ID: "+g.id+" SouceID: "+g.sourceId+" TargetId: "+g.targetId+" Ideal Length: "+g.idealLength}console.debug(d),d="nodeSize: "+a.nodeSize,d+="\nedgeSize: "+a.edgeSize,d+="\ntemperature: "+a.temperature,console.debug(d)}},o=function(a,b){for(var c=a.clientWidth,d=a.clientHeight,e=0;e<a.nodeSize;e++){var f=a.layoutNodes[e];0!==f.children.length||f.isLocked||(f.positionX=Math.random()*c,f.positionY=Math.random()*d)}},p=function(a,b,c){var d=c.layout,e=c.eles.nodes(),f=a.boundingBox,g={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};c.boundingBox&&(e.forEach(function(b){var c=a.layoutNodes[a.idToIndex[b.data("id")]];g.x1=Math.min(g.x1,c.positionX),g.x2=Math.max(g.x2,c.positionX),g.y1=Math.min(g.y1,c.positionY),g.y2=Math.max(g.y2,c.positionY)}),g.w=g.x2-g.x1,g.h=g.y2-g.y1),e.positions(function(b,d){var e=a.layoutNodes[a.idToIndex[d.data("id")]];if(c.boundingBox){var h=(e.positionX-g.x1)/g.w,i=(e.positionY-g.y1)/g.h;return{x:f.x1+h*f.w,y:f.y1+i*f.h}}return{x:e.positionX,y:e.positionY}}),!0!==a.ready&&(a.ready=!0,d.one("layoutready",c.ready),d.trigger({type:"layoutready",layout:this}))};b.exports=d},{"../../is":83,"../../math":85,"../../thread":98,"../../util":100}],52:[function(a,b,c){"use strict";function d(a){this.options=e.extend({},g,a)}var e=a("../../util"),f=a("../../math"),g={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(a){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};d.prototype.run=function(){var a=this.options,b=a,c=a.cy,d=b.eles,e=d.nodes().not(":parent");b.sort&&(e=e.sort(b.sort));var g=f.makeBoundingBox(b.boundingBox?b.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()});if(0===g.h||0===g.w)e.layoutPositions(this,b,function(){return{x:g.x1,y:g.y1}});else{var h=e.size(),i=Math.sqrt(h*g.h/g.w),j=Math.round(i),k=Math.round(g.w/g.h*i),l=function(a){if(null==a)return Math.min(j,k);var b=Math.min(j,k);b==j?j=a:k=a},m=function(a){if(null==a)return Math.max(j,k);var b=Math.max(j,k);b==j?j=a:k=a},n=b.rows,o=null!=b.cols?b.cols:b.columns;if(null!=n&&null!=o)j=n,k=o;else if(null!=n&&null==o)j=n,k=Math.ceil(h/j);else if(null==n&&null!=o)k=o,j=Math.ceil(h/k);else if(k*j>h){var p=l(),q=m();(p-1)*q>=h?l(p-1):(q-1)*p>=h&&m(q-1)}else for(;h>k*j;){var p=l(),q=m();(q+1)*p>=h?m(q+1):l(p+1)}var r=g.w/k,s=g.h/j;if(b.condense&&(r=0,s=0),b.avoidOverlap)for(var t=0;t<e.length;t++){var u=e[t],v=u._private.position;(null==v.x||null==v.y)&&(v.x=0,v.y=0);var w=u.boundingBox(),x=b.avoidOverlapPadding,y=w.w+x,z=w.h+x;r=Math.max(r,y),s=Math.max(s,z)}for(var A={},B=function(a,b){return A["c-"+a+"-"+b]?!0:!1},C=function(a,b){A["c-"+a+"-"+b]=!0},D=0,E=0,F=function(){E++,E>=k&&(E=0,D++)},G={},t=0;t<e.length;t++){var u=e[t],H=b.position(u);if(H&&(void 0!==H.row||void 0!==H.col)){var v={row:H.row,col:H.col};if(void 0===v.col)for(v.col=0;B(v.row,v.col);)v.col++;else if(void 0===v.row)for(v.row=0;B(v.row,v.col);)v.row++;G[u.id()]=v,C(v.row,v.col)}}var I=function(a,b){var c,d;if(b.locked()||b.isParent())return!1;var e=G[b.id()];if(e)c=e.col*r+r/2+g.x1,d=e.row*s+s/2+g.y1;else{for(;B(D,E);)F();c=E*r+r/2+g.x1,d=D*s+s/2+g.y1,C(D,E),F()}return{x:c,y:d}};e.layoutPositions(this,b,I)}return this},b.exports=d},{"../../math":85,"../../util":100}],53:[function(a,b,c){"use strict";b.exports=[{name:"breadthfirst",impl:a("./breadthfirst")},{name:"circle",impl:a("./circle")},{name:"concentric",impl:a("./concentric")},{name:"cose",impl:a("./cose")},{name:"grid",impl:a("./grid")},{name:"null",impl:a("./null")},{name:"preset",impl:a("./preset")},{name:"random",impl:a("./random")}]},{"./breadthfirst":48,"./circle":49,"./concentric":50,"./cose":51,"./grid":52,"./null":54,"./preset":55,"./random":56}],54:[function(a,b,c){"use strict";function d(a){this.options=e.extend({},f,a)}var e=a("../../util"),f={ready:function(){},stop:function(){}};d.prototype.run=function(){var a=this.options,b=a.eles,c=this;a.cy;return c.trigger("layoutstart"),b.nodes().positions(function(){return{x:0,y:0}}),c.one("layoutready",a.ready),c.trigger("layoutready"),c.one("layoutstop",a.stop),c.trigger("layoutstop"),this},d.prototype.stop=function(){return this},b.exports=d},{"../../util":100}],55:[function(a,b,c){"use strict";function d(a){this.options=e.extend({},g,a)}var e=a("../../util"),f=a("../../is"),g={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};d.prototype.run=function(){function a(a){if(null==b.positions)return null;if(e)return b.positions.apply(a,[a]);var c=b.positions[a._private.data.id];return null==c?null:c}var b=this.options,c=b.eles,d=c.nodes(),e=f.fn(b.positions);return d.layoutPositions(this,b,function(b,c){var d=a(c);return c.locked()||null==d?!1:d}),this},b.exports=d},{"../../is":83,"../../util":100}],56:[function(a,b,c){"use strict";function d(a){this.options=e.extend({},g,a)}var e=a("../../util"),f=a("../../math"),g={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};d.prototype.run=function(){var a=this.options,b=a.cy,c=a.eles,d=c.nodes().not(":parent"),e=f.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()}),g=function(a,b){return{x:e.x1+Math.round(Math.random()*e.w),y:e.y1+Math.round(Math.random()*e.h)}};return d.layoutPositions(this,a,g),this},b.exports=d},{"../../math":85,"../../util":100}],57:[function(a,b,c){"use strict";var d=a("../../../math"),e=a("../../../is"),f=a("../../../util"),g={};g.arrowShapeWidth=.3,g.registerArrowShapes=function(){var a=this.arrowShapes={},b=this,c=function(a,b,c,d,e,f){var g=e.x-c/2-f,h=e.x+c/2+f,i=e.y-c/2-f,j=e.y+c/2+f,k=a>=g&&h>=a&&b>=i&&j>=b;return k},g=function(a,b,c,d,e){var f=a*Math.cos(d)-b*Math.sin(d),g=a*Math.sin(d)+b*Math.cos(d),h=f*c,i=g*c,j=h+e.x,k=i+e.y;return{x:j,y:k}},h=function(a,b,c,d){for(var e=[],f=0;f<a.length;f+=2){var h=a[f],i=a[f+1];e.push(g(h,i,b,c,d))}return e},i=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(d.x,d.y)}return b},j=function(g,j){e.string(j)&&(j=a[j]),a[g]=f.extend({name:g,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(a,b,c,e,f,g){var j=i(h(this.points,c+2*g,e,f)),k=d.pointInsidePolygonPoints(a,b,j);return k},roughCollide:c,draw:function(a,c,d,e){var f=h(this.points,c,d,e);b.arrowShapeImpl("polygon")(a,f)},spacing:function(a){return 0},gap:function(a){return 2*a.pstyle("width").pfValue}},j)};j("none",{collide:f.falsify,roughCollide:f.falsify,draw:f.noop,spacing:f.zeroify,gap:f.zeroify}),j("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),j("arrow","triangle"),j("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:c,draw:function(a,c,d,e){var f=h(this.points,c,d,e),i=this.controlPoint,j=g(i[0],i[1],c,d,e);b.arrowShapeImpl(this.name)(a,f,j)},gap:function(a){return a.pstyle("width").pfValue}}),j("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(a,b,c,e,f,g){var j=i(h(this.points,c+2*g,e,f)),k=i(h(this.pointsTee,c+2*g,e,f)),l=d.pointInsidePolygonPoints(a,b,j)||d.pointInsidePolygonPoints(a,b,k);return l},draw:function(a,c,d,e){var f=h(this.points,c,d,e),g=h(this.pointsTee,c,d,e);b.arrowShapeImpl(this.name)(a,f,g)}}),j("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(a){return a.pstyle("width").pfValue}}),j("circle",{radius:.15,collide:function(a,b,c,d,e,f){var g=e,h=Math.pow(g.x-a,2)+Math.pow(g.y-b,2)<=Math.pow((c+2*f)*this.radius,2);return h},draw:function(a,c,d,e){b.arrowShapeImpl(this.name)(a,e.x,e.y,this.radius*c)},spacing:function(a){return b.getArrowWidth(a.pstyle("width").pfValue)*this.radius}}),j("inhibitor",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(a){return 1},gap:function(a){return 1}}),j("tee","inhibitor"),j("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),j("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(a){return a.pstyle("width").pfValue}})},b.exports=g},{"../../../is":83,"../../../math":85,"../../../util":100}],58:[function(a,b,c){"use strict";function d(a,b,c){for(var d=function(a,b,c,d){return e.qbezierAt(a,b,c,d)},f=b._private,g=f.rstyle.bezierPts,h=0;h<a.bezierProjPcts.length;h++){var i=a.bezierProjPcts[h];g.push({x:d(c[0],c[2],c[4],i),y:d(c[1],c[3],c[5],i)})}}var e=a("../../../math"),f=a("../../../is"),g=a("../../../util"),h=a("../../../collection/zsort"),i=a("../../../window"),j={};j.registerCalculationListeners=function(){var a=this.cy,b=a.collection(),c=this,d=function(a,c){b.merge(a);for(var d=0;d<a.length;d++){var e=a[d],f=e._private,g=f.rstyle;g.clean=!1,f.bbCache=null;var h=g.dirtyEvents=g.dirtyEvents||{length:0};h[c.type]||(h[c.type]=!0,h.length++)}};c.binder(a).on("position.* style.* free.*","node",function(b){var c=b.cyTarget;if(d(c,b),d(c.connectedEdges(),b),a.hasCompoundNodes()){var e=c.parents();d(e,b),d(e.connectedEdges(),b)}}).on("add.* background.*","node",function(a){var b=a.cyTarget;d(b,a)}).on("add.* style.*","edge",function(a){var b=a.cyTarget;d(b,a),d(b.parallelEdges(),a)}).on("remove.*","edge",function(a){for(var b=a.cyTarget,c=b.parallelEdges(),e=0;e<c.length;e++){var f=c[e];f.removed()||d(f,a)}});var e=function(d){if(d){var e=c.onUpdateEleCalcsFns;if(e)for(var f=0;f<e.length;f++){var g=e[f];g(d,b)}c.recalculateRenderedStyle(b,!1);for(var f=0;f<b.length;f++)b[f]._private.rstyle.dirtyEvents=null;b=a.collection()}};c.beforeRender(e,c.beforeRenderPriorities.eleCalcs)},j.onUpdateEleCalcs=function(a){var b=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];b.push(a)},j.recalculateRenderedStyle=function(a,b){var c=[],d=[];if(!this.destroyed){void 0===b&&(b=!0);for(var e=0;e<a.length;e++){var f=a[e],g=f._private,h=g.rstyle;b&&h.clean||f.removed()||("nodes"===g.group?d.push(f):c.push(f),h.clean=!0)}for(var e=0;e<d.length;e++){var f=d[e],g=f._private,h=g.rstyle,i=g.position;this.recalculateNodeLabelProjection(f),h.nodeX=i.x,h.nodeY=i.y,h.nodeW=f.pstyle("width").pfValue,h.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(c);for(var e=0;e<c.length;e++){var f=c[e],g=f._private,h=g.rstyle,j=g.rscratch;this.recalculateEdgeLabelProjections(f),h.srcX=j.arrowStartX,h.srcY=j.arrowStartY,h.tgtX=j.arrowEndX,h.tgtY=j.arrowEndY,h.midX=j.midX,h.midY=j.midY,h.labelAngle=j.labelAngle,h.sourceLabelAngle=j.sourceLabelAngle,h.targetLabelAngle=j.targetLabelAngle}}},j.projectIntoViewport=function(a,b){var c=this.cy,d=this.findContainerClientCoords(),e=d[0],f=d[1],g=c.pan(),h=c.zoom(),i=(a-e-g.x)/h,j=(b-f-g.y)/h;return[i,j]},j.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var a=this.container,b=a.getBoundingClientRect(),c=i.getComputedStyle(a),d=function(a){return parseFloat(c.getPropertyValue(a))},e={left:d("padding-left")+d("border-left-width"),right:d("padding-right")+d("border-right-width"),top:d("padding-top")+d("border-top-width"),bottom:d("padding-bottom")+d("border-bottom-width")};return this.containerBB=[b.left+e.left,b.top+e.top,b.right-b.left-e.left-e.right,b.bottom-b.top-e.top-e.bottom]},j.invalidateContainerClientCoordsCache=function(){this.containerBB=null},j.findNearestElement=function(a,b,c,d){return this.findNearestElements(a,b,c,d)[0]},j.findNearestElements=function(a,b,c,d){function f(a,b){if(a.isNode()){if(m)return;m=a,q.push(a)}if(a.isEdge()&&(null==b||w>b))if(l){if(l.pstyle("z-index").value===a.pstyle("z-index").value)for(var c=0;c<q.length;c++)if(q[c].isEdge()){q[c]=a,l=a,w=null!=b?b:w;break}}else q.push(a),l=a,w=null!=b?b:w}function h(d){var e=d._private;if("no"!==d.pstyle("events").strValue){var g=d.outerWidth()+2*u,h=d.outerHeight()+2*u,i=g/2,j=h/2,k=e.position;if(k.x-i<=a&&a<=k.x+i&&k.y-j<=b&&b<=k.y+j){var l=!c||d.visible()&&!d.transparent();if(c&&!l)return;var m=o.nodeShapes[n.getNodeShape(d)];if(m.checkPoint(a,b,0,g,h,k.x,k.y))return f(d,0),!0}}}function i(d){var g=d._private;if("no"!==d.pstyle("events").strValue){var i,j,k=g.rscratch,l=d.pstyle("width").pfValue,m=l/2+t,p=m*m,r=2*m,u=g.source,v=g.target,w=!1,x=function(){if(void 0!==j)return j;if(!c)return j=!0,!0;var a=d.visible()&&!d.transparent();return a?(j=!0,!0):(j=!1,!1)};if("segments"===k.edgeType||"straight"===k.edgeType||"haystack"===k.edgeType){for(var y=k.allpts,z=0;z+3<y.length;z+=2)if((w=e.inLineVicinity(a,b,y[z],y[z+1],y[z+2],y[z+3],r))&&x()&&p>(i=e.sqdistToFiniteLine(a,b,y[z],y[z+1],y[z+2],y[z+3])))return f(d,i),!0}else if("bezier"===k.edgeType||"multibezier"===k.edgeType||"self"===k.edgeType||"compound"===k.edgeType)for(var y=k.allpts,z=0;z+5<k.allpts.length;z+=4)if((w=e.inBezierVicinity(a,b,y[z],y[z+1],y[z+2],y[z+3],y[z+4],y[z+5],r))&&x()&&p>(i=e.sqdistToQuadraticBezier(a,b,y[z],y[z+1],y[z+2],y[z+3],y[z+4],y[z+5])))return f(d,i),!0;if(x())for(var u=u||g.source,v=v||g.target,A=n.getArrowWidth(l),B=[{name:"source",x:k.arrowStartX,y:k.arrowStartY,angle:k.srcArrowAngle},{name:"target",x:k.arrowEndX,y:k.arrowEndY,angle:k.tgtArrowAngle},{name:"mid-source",x:k.midX,y:k.midY,angle:k.midsrcArrowAngle},{name:"mid-target",x:k.midX,y:k.midY,angle:k.midtgtArrowAngle}],z=0;z<B.length;z++){var C=B[z],D=o.arrowShapes[d.pstyle(C.name+"-arrow-shape").value];if(D.roughCollide(a,b,A,C.angle,{x:C.x,y:C.y},t)&&D.collide(a,b,A,C.angle,{x:C.x,y:C.y},t))return f(d),!0}s&&q.length>0&&(h(u),h(v))}}function j(a,b,c){return g.getPrefixedProperty(a,b,c)}function k(c,d){var g,h=c._private,i=v;g=d?d+"-":"";var k=c.pstyle(g+"label").value,l="yes"===c.pstyle("text-events").strValue;if(l&&k){var m=h.rstyle,n=c.pstyle("text-border-width").pfValue,o=j(m,"labelWidth",d)+n/2+2*i,p=j(m,"labelHeight",d)+n/2+2*i,q=j(m,"labelX",d),r=j(m,"labelY",d),s=j(h.rscratch,"labelAngle",d),t=q-o/2,u=q+o/2,w=r-p/2,x=r+p/2;if(s){var y=Math.cos(s),z=Math.sin(s),A=function(a,b){return a-=q,b-=r,{x:a*y-b*z+q,y:a*z+b*y+r}},B=A(t,w),C=A(t,x),D=A(u,w),E=A(u,x),F=[B.x,B.y,D.x,D.y,E.x,E.y,C.x,C.y];if(e.pointInsidePolygonPoints(a,b,F))return f(c),!0}else{var G={w:o,h:p,x1:t,x2:u,y1:w,y2:x};if(e.inBoundingBox(G,a,b))return f(c),!0}}}for(var l,m,n=this,o=this,p=o.getCachedZSortedEles(),q=[],r=o.cy.zoom(),s=o.cy.hasCompoundNodes(),t=(d?24:8)/r,u=(d?8:2)/r,v=(d?8:2)/r,w=1/0,x=p.length-1;x>=0;x--){var y=p[x];y.isNode()?h(y)||k(y):i(y)||k(y)||k(y,"source")||k(y,"target")}return q},j.getAllInBox=function(a,b,c,d){var f=this.getCachedZSortedEles(),g=f.nodes,h=f.edges,i=[],j=Math.min(a,c),k=Math.max(a,c),l=Math.min(b,d),m=Math.max(b,d);a=j,c=k,b=l,d=m;for(var n=e.makeBoundingBox({x1:a,y1:b,x2:c,y2:d}),o=0;o<g.length;o++){var p=g[o],q=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1,includeShadows:!1});e.boundingBoxesIntersect(n,q)&&i.push(g[o])}for(var r=0;r<h.length;r++){var s=h[r],t=s._private,u=t.rscratch;if((null==u.startX||null==u.startY||e.inBoundingBox(n,u.startX,u.startY))&&(null==u.endX||null==u.endY||e.inBoundingBox(n,u.endX,u.endY)))if("bezier"===u.edgeType||"multibezier"===u.edgeType||"self"===u.edgeType||"compound"===u.edgeType||"segments"===u.edgeType||"haystack"===u.edgeType){for(var v=t.rstyle.bezierPts||t.rstyle.linePts||t.rstyle.haystackPts,w=!0,o=0;o<v.length;o++)if(!e.pointInBoundingBox(n,v[o])){w=!1;break}w&&i.push(s)}else("haystack"===u.edgeType||"straight"===u.edgeType)&&i.push(s)}return i},j.getNodeShape=function(a){var b=this,c=a.pstyle("shape").value;if(a.isParent())return"rectangle"===c||"roundrectangle"===c?c:"rectangle";if("polygon"===c){var d=a.pstyle("shape-polygon-points").value;return b.nodeShapes.makePolygon(d).name}return c},j.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},j.updateCachedGrabbedEles=function(){var a=this.cachedZSortedEles;a.drag=[],a.nondrag=[];for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d._private.rscratch;d.grabbed()&&!d.isParent()?b.push(d):e.inDragLayer?a.drag.push(d):a.nondrag.push(d)}for(var c=0;c<b.length;c++){var d=b[c];a.drag.push(d)}},j.getCachedZSortedEles=function(a){
if(a||!this.cachedZSortedEles){var b=this.cy.mutableElements(),c=[];c.nodes=[],c.edges=[];for(var d=0;d<b.length;d++){var e=b[d];(e.animated()||e.visible()&&!e.transparent())&&(c.push(e),e.isNode()?c.nodes.push(e):c.edges.push(e))}c.sort(h),this.cachedZSortedEles=c,this.updateCachedGrabbedEles()}else c=this.cachedZSortedEles;return c},j.projectLines=function(a){var b=a._private,c=b.rscratch,e=c.edgeType;if(b.rstyle.bezierPts=null,b.rstyle.linePts=null,b.rstyle.haystackPts=null,"multibezier"===e||"bezier"===e||"self"===e||"compound"===e)for(var f=(b.rstyle.bezierPts=[],0);f+5<c.allpts.length;f+=4)d(this,a,c.allpts.slice(f,f+6));else if("segments"===e)for(var g=b.rstyle.linePts=[],f=0;f+1<c.allpts.length;f+=2)g.push({x:c.allpts[f],y:c.allpts[f+1]});else if("haystack"===e){var h=c.haystackPts;b.rstyle.haystackPts=[{x:h[0],y:h[1]},{x:h[2],y:h[3]}]}b.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue)*this.arrowShapeWidth},j.projectBezier=j.projectLines,j.recalculateNodeLabelProjection=function(a){var b=a.pstyle("label").strValue;if(!f.emptyString(b)){var c,d,e=a._private,g=a.width(),h=a.height(),i=a.pstyle("padding").pfValue,j=e.position,k=a.pstyle("text-halign").strValue,l=a.pstyle("text-valign").strValue,m=e.rscratch,n=e.rstyle;switch(k){case"left":c=j.x-g/2-i;break;case"right":c=j.x+g/2+i;break;default:c=j.x}switch(l){case"top":d=j.y-h/2-i;break;case"bottom":d=j.y+h/2+i;break;default:d=j.y}m.labelX=c,m.labelY=d,n.labelX=c,n.labelY=d,this.applyLabelDimensions(a)}},j.recalculateEdgeLabelProjections=function(a){var b,c=a._private,d=c.rscratch,f=this,h={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(h.mid||h.source||h.target){b={x:d.midX,y:d.midY};var i=function(a,b,d){g.setPrefixedProperty(c.rscratch,a,b,d),g.setPrefixedProperty(c.rstyle,a,b,d)};i("labelX",null,b.x),i("labelY",null,b.y);var j=function(){function a(a,b,c,d,f){var g=e.dist(b,c),h=a.segments[a.segments.length-1],i={p0:b,p1:c,t0:d,t1:f,startDist:h?h.startDist+h.length:0,length:g};a.segments.push(i),a.length+=g}if(j.cache)return j.cache;for(var b=[],g=0;g+5<d.allpts.length;g+=4){var h={x:d.allpts[g],y:d.allpts[g+1]},i={x:d.allpts[g+2],y:d.allpts[g+3]},k={x:d.allpts[g+4],y:d.allpts[g+5]};b.push({p0:h,p1:i,p2:k,startDist:0,length:0,segments:[]})}for(var l=c.rstyle.bezierPts,m=f.bezierProjPcts.length,g=0;g<b.length;g++){var n=b[g],o=b[g-1];o&&(n.startDist=o.startDist+o.length),a(n,n.p0,l[g*m],0,f.bezierProjPcts[0]);for(var p=0;m-1>p;p++)a(n,l[g*m+p],l[g*m+p+1],f.bezierProjPcts[p],f.bezierProjPcts[p+1]);a(n,l[g*m+m-1],n.p2,f.bezierProjPcts[m-1],1)}return j.cache=b},k=function(c){var f,g="source"===c;if(h[c]){var k=a.pstyle(c+"-text-offset").pfValue,l=function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.atan(d/c)},m=function(a,b,c,d){var f=e.bound(0,d-.001,1),g=e.bound(0,d+.001,1),h=e.qbezierPtAt(a,b,c,f),i=e.qbezierPtAt(a,b,c,g);return l(h,i)};switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var n,o=j(),p=0,q=0,r=0;r<o.length;r++){for(var s=o[g?r:o.length-1-r],t=0;t<s.segments.length;t++){var u=s.segments[g?t:s.segments.length-1-t],v=r===o.length-1&&t===s.segments.length-1;if(p=q,q+=u.length,q>=k||v){n={cp:s,segment:u};break}}if(n)break}var s=n.cp,u=n.segment,w=(k-p)/u.length,x=u.t1-u.t0,y=g?u.t0+x*w:u.t1-x*w;y=e.bound(0,y,1),b=e.qbezierPtAt(s.p0,s.p1,s.p2,y),f=m(s.p0,s.p1,s.p2,y,b);break;case"straight":case"segments":case"haystack":for(var z,A,B,C,D=0,E=d.allpts.length,r=0;E>r+3&&(g?(B={x:d.allpts[r],y:d.allpts[r+1]},C={x:d.allpts[r+2],y:d.allpts[r+3]}):(B={x:d.allpts[E-2-r],y:d.allpts[E-1-r]},C={x:d.allpts[E-4-r],y:d.allpts[E-3-r]}),z=e.dist(B,C),A=D,D+=z,!(D>=k));r+=2);var F=k-A,y=F/z;y=e.bound(0,y,1),b=e.lineAt(B,C,y),f=l(B,C)}i("labelX",c,b.x),i("labelY",c,b.y),i("labelAutoAngle",c,f)}};k("source"),k("target"),this.applyLabelDimensions(a)}},j.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},j.applyPrefixedLabelDimensions=function(a,b){var c=a._private,d=this.getLabelText(a,b),e=this.calculateLabelDimensions(a,d);g.setPrefixedProperty(c.rstyle,"labelWidth",b,e.width),g.setPrefixedProperty(c.rscratch,"labelWidth",b,e.width),g.setPrefixedProperty(c.rstyle,"labelHeight",b,e.height),g.setPrefixedProperty(c.rscratch,"labelHeight",b,e.height)},j.getLabelText=function(a,b){var c=a._private,d=b?b+"-":"",e=a.pstyle(d+"label").strValue,f=a.pstyle("text-transform").value,h=function(a,d){return d?(g.setPrefixedProperty(c.rscratch,a,b,d),d):g.getPrefixedProperty(c.rscratch,a,b)};if("none"==f||("uppercase"==f?e=e.toUpperCase():"lowercase"==f&&(e=e.toLowerCase())),"wrap"===a.pstyle("text-wrap").value){var i=h("labelKey");if(i&&h("labelWrapKey")===i)return h("labelWrapCachedText");for(var j=e.split("\n"),k=a.pstyle("text-max-width").pfValue,l=[],m=0;m<j.length;m++){var n=j[m],o=this.calculateLabelDimensions(a,n,"line="+n),p=o.width;if(p>k){for(var q=n.split(/\s+/),r="",s=0;s<q.length;s++){var t=q[s],u=0===r.length?t:r+" "+t,v=this.calculateLabelDimensions(a,u,"testLine="+u),w=v.width;k>=w?r+=t+" ":(l.push(r),r=t+" ")}r.match(/^\s+$/)||l.push(r)}else l.push(n)}h("labelWrapCachedLines",l),e=h("labelWrapCachedText",l.join("\n")),h("labelWrapKey",i)}return e},j.calculateLabelDimensions=function(a,b,c){var d=this,e=a._private.labelStyleKey+"$@$"+b;c&&(e+="$@$"+c);var f=d.labelDimCache||(d.labelDimCache={});if(f[e])return f[e];var g=1,h=a.pstyle("font-style").strValue,i=g*a.pstyle("font-size").pfValue+"px",j=a.pstyle("font-family").strValue,k=a.pstyle("font-weight").strValue,l=this.labelCalcDiv;l||(l=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(l));var m=l.style;return m.fontFamily=j,m.fontStyle=h,m.fontSize=i,m.fontWeight=k,m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none",m.padding="0",m.lineHeight="1","wrap"===a.pstyle("text-wrap").value?m.whiteSpace="pre":m.whiteSpace="normal",l.textContent=b,f[e]={width:Math.ceil(l.clientWidth/g),height:Math.ceil(l.clientHeight/g)},f[e]},j.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)},j.findEdgeControlPoints=function(a){if(a&&0!==a.length){for(var b,c=this,d=c.cy,g=d.hasCompoundNodes(),h={},i=[],j=[],k=0;k<a.length;k++){var l=a[k],m=l._private,n=m.data,o=l.pstyle("curve-style").value,p="unbundled-bezier"===o||"segments"===o;if("none"!==l.pstyle("display").value)if("haystack"!==o){var q=n.source,r=n.target;b=q>r?r+"$-$"+q:q+"$-$"+r,p&&(b="unbundled$-$"+n.id),null==h[b]&&(h[b]=[],i.push(b)),h[b].push(l),p&&(h[b].hasUnbundled=!0)}else j.push(l)}for(var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=0;G<i.length;G++){b=i[G];var H=h[b];if(H.sort(function(a,b){return a.poolIndex()-b.poolIndex()}),s=H[0]._private.source,t=H[0]._private.target,!H.hasUnbundled&&s.id()>t.id()){var I=s;s=t,t=I}if(u=s._private,v=t._private,w=u.position,x=v.position,y=s.outerWidth(),z=s.outerHeight(),A=t.outerWidth(),B=t.outerHeight(),C=c.nodeShapes[this.getNodeShape(s)],D=c.nodeShapes[this.getNodeShape(t)],F=!1,H.length>1&&s!==t||H.hasUnbundled){var J=C.intersectLine(w.x,w.y,y,z,x.x,x.y,0),K=D.intersectLine(x.x,x.y,A,B,w.x,w.y,0),L={x1:J[0],x2:K[0],y1:J[1],y2:K[1]},M={x1:w.x,x2:x.x,y1:w.y,y2:x.y},N=K[1]-J[1],O=K[0]-J[0],P=Math.sqrt(O*O+N*N),Q={x:O,y:N},R={x:Q.x/P,y:Q.y/P};E={x:-R.y,y:R.x},D.checkPoint(J[0],J[1],0,A,B,x.x,x.y)&&C.checkPoint(K[0],K[1],0,y,z,w.x,w.y)&&(E={},F=!0)}for(var l,S,T,k=0;k<H.length;k++){l=H[k],S=l._private,T=S.rscratch;var U=T.lastEdgeIndex,V=k,W=T.lastNumEdges,X=H.length,o=l.pstyle("curve-style").value,Y=l.pstyle("control-point-distances"),Z=l.pstyle("control-point-weights"),$=Y&&Z?Math.min(Y.value.length,Z.value.length):1,_=l.pstyle("control-point-step-size").pfValue,aa=Y?Y.pfValue[0]:void 0,ba=Z.value[0],p="unbundled-bezier"===o||"segments"===o,ca=l.pstyle("edge-distances").value,da=l.pstyle("segment-weights"),ea=l.pstyle("segment-distances"),fa=Math.min(da.pfValue.length,ea.pfValue.length),ga=T.lastSrcCtlPtX,ha=w.x,ia=T.lastSrcCtlPtY,ja=w.y,ka=T.lastSrcCtlPtW,la=s.outerWidth(),ma=T.lastSrcCtlPtH,na=s.outerHeight(),oa=T.lastTgtCtlPtX,pa=x.x,qa=T.lastTgtCtlPtY,ra=x.y,sa=T.lastTgtCtlPtW,ta=t.outerWidth(),ua=T.lastTgtCtlPtH,va=t.outerHeight(),wa=T.lastCurveStyle,xa=o,ya=T.lastCtrlptDists,za=Y?Y.strValue:null,Aa=T.lastCtrlptWs,Ba=Z.strValue,Ca=T.lastSegmentWs,Da=da.strValue,Ea=T.lastSegmentDs,Fa=ea.strValue,Ga=T.lastStepSize,Ha=_,Ia=T.lastEdgeDistances,Ja=ca;if(F?T.badBezier=!0:T.badBezier=!1,ga!==ha||ia!==ja||ka!==la||ma!==na||oa!==pa||qa!==ra||sa!==ta||ua!==va||wa!==xa||ya!==za||Aa!==Ba||Ca!==Da||Ea!==Fa||Ga!==Ha||Ia!==Ja||!(U===V&&W===X||p)){if(T.lastSrcCtlPtX=ha,T.lastSrcCtlPtY=ja,T.lastSrcCtlPtW=la,T.lastSrcCtlPtH=na,T.lastTgtCtlPtX=pa,T.lastTgtCtlPtY=ra,T.lastTgtCtlPtW=ta,T.lastTgtCtlPtH=va,T.lastEdgeIndex=V,T.lastNumEdges=X,T.lastCurveStyle=xa,T.lastCtrlptDists=za,T.lastCtrlptWs=Ba,T.lastSegmentDs=Fa,T.lastSegmentWs=Da,T.lastStepSize=Ha,T.lastEdgeDistances=Ja,s===t){T.edgeType="self";var Ka=k,La=_;p&&(Ka=0,La=aa),T.ctrlpts=[w.x,w.y-(1+Math.pow(z,1.12)/100)*La*(Ka/3+1),w.x-(1+Math.pow(y,1.12)/100)*La*(Ka/3+1),w.y]}else if(g&&(s.isParent()||s.isChild()||t.isParent()||t.isChild())&&(s.parents().anySame(t)||t.parents().anySame(s))){T.edgeType="compound",T.badBezier=!1;var Ka=k,La=_;p&&(Ka=0,La=aa);var Ma=50,Na={x:w.x-y/2,y:w.y-z/2},Oa={x:x.x-A/2,y:x.y-B/2},Pa={x:Math.min(Na.x,Oa.x),y:Math.min(Na.y,Oa.y)},Qa=.5,Ra=Math.max(Qa,Math.log(.01*y)),Sa=Math.max(Qa,Math.log(.01*A));T.ctrlpts=[Pa.x,Pa.y-(1+Math.pow(Ma,1.12)/100)*La*(Ka/3+1)*Ra,Pa.x-(1+Math.pow(Ma,1.12)/100)*La*(Ka/3+1)*Sa,Pa.y]}else if("segments"===o){T.edgeType="segments",T.segpts=[];for(var Ta=0;fa>Ta;Ta++){var Ua=da.pfValue[Ta],Va=ea.pfValue[Ta],Wa=1-Ua,Xa=Ua,Ya="node-position"===ca?M:L,Za={x:Ya.x1*Wa+Ya.x2*Xa,y:Ya.y1*Wa+Ya.y2*Xa};T.segpts.push(Za.x+E.x*Va,Za.y+E.y*Va)}}else if(H.length%2!==1||k!==Math.floor(H.length/2)||p){var $a=p;T.edgeType=$a?"multibezier":"bezier",T.ctrlpts=[];for(var _a=0;$>_a;_a++){var ab,bb=(.5-H.length/2+k)*_,cb=e.signum(bb);$a&&(aa=Y?Y.pfValue[_a]:_,ba=Z.value[_a]),ab=p?aa:void 0!==aa?cb*aa:void 0;var db=void 0!==ab?ab:bb,Wa=1-ba,Xa=ba,Ya="node-position"===ca?M:L,Za={x:Ya.x1*Wa+Ya.x2*Xa,y:Ya.y1*Wa+Ya.y2*Xa};T.ctrlpts.push(Za.x+E.x*db,Za.y+E.y*db)}}else T.edgeType="straight";this.findEndpoints(l);var eb=!f.number(T.startX)||!f.number(T.startY),fb=!f.number(T.arrowStartX)||!f.number(T.arrowStartY),gb=!f.number(T.endX)||!f.number(T.endY),hb=!f.number(T.arrowEndX)||!f.number(T.arrowEndY),ib=3,jb=this.getArrowWidth(l.pstyle("width").pfValue)*this.arrowShapeWidth,kb=ib*jb;if("bezier"===T.edgeType){var lb=e.dist({x:T.ctrlpts[0],y:T.ctrlpts[1]},{x:T.startX,y:T.startY}),mb=kb>lb,nb=e.dist({x:T.ctrlpts[0],y:T.ctrlpts[1]},{x:T.endX,y:T.endY}),ob=kb>nb,pb=!1;if(eb||fb||mb){pb=!0;var qb={x:T.ctrlpts[0]-w.x,y:T.ctrlpts[1]-w.y},rb=Math.sqrt(qb.x*qb.x+qb.y*qb.y),sb={x:qb.x/rb,y:qb.y/rb},tb=Math.max(y,z),ub={x:T.ctrlpts[0]+2*sb.x*tb,y:T.ctrlpts[1]+2*sb.y*tb},vb=C.intersectLine(w.x,w.y,y,z,ub.x,ub.y,0);mb?(T.ctrlpts[0]=T.ctrlpts[0]+sb.x*(kb-lb),T.ctrlpts[1]=T.ctrlpts[1]+sb.y*(kb-lb)):(T.ctrlpts[0]=vb[0]+sb.x*kb,T.ctrlpts[1]=vb[1]+sb.y*kb)}if(gb||hb||ob){pb=!0;var qb={x:T.ctrlpts[0]-x.x,y:T.ctrlpts[1]-x.y},rb=Math.sqrt(qb.x*qb.x+qb.y*qb.y),sb={x:qb.x/rb,y:qb.y/rb},tb=Math.max(y,z),ub={x:T.ctrlpts[0]+2*sb.x*tb,y:T.ctrlpts[1]+2*sb.y*tb},wb=D.intersectLine(x.x,x.y,A,B,ub.x,ub.y,0);ob?(T.ctrlpts[0]=T.ctrlpts[0]+sb.x*(kb-nb),T.ctrlpts[1]=T.ctrlpts[1]+sb.y*(kb-nb)):(T.ctrlpts[0]=wb[0]+sb.x*kb,T.ctrlpts[1]=wb[1]+sb.y*kb)}pb&&this.findEndpoints(l)}if("multibezier"===T.edgeType||"bezier"===T.edgeType||"self"===T.edgeType||"compound"===T.edgeType){T.allpts=[],T.allpts.push(T.startX,T.startY);for(var _a=0;_a+1<T.ctrlpts.length;_a+=2)T.allpts.push(T.ctrlpts[_a],T.ctrlpts[_a+1]),_a+3<T.ctrlpts.length&&T.allpts.push((T.ctrlpts[_a]+T.ctrlpts[_a+2])/2,(T.ctrlpts[_a+1]+T.ctrlpts[_a+3])/2);T.allpts.push(T.endX,T.endY);var xb,yb;T.ctrlpts.length/2%2===0?(xb=T.allpts.length/2-1,T.midX=T.allpts[xb],T.midY=T.allpts[xb+1]):(xb=T.allpts.length/2-3,yb=.5,T.midX=e.qbezierAt(T.allpts[xb],T.allpts[xb+2],T.allpts[xb+4],yb),T.midY=e.qbezierAt(T.allpts[xb+1],T.allpts[xb+3],T.allpts[xb+5],yb))}else if("straight"===T.edgeType)T.allpts=[T.startX,T.startY,T.endX,T.endY],T.midX=(T.startX+T.endX+T.arrowStartX+T.arrowEndX)/4,T.midY=(T.startY+T.endY+T.arrowStartY+T.arrowEndY)/4;else if("segments"===T.edgeType)if(T.allpts=[],T.allpts.push(T.startX,T.startY),T.allpts.push.apply(T.allpts,T.segpts),T.allpts.push(T.endX,T.endY),T.segpts.length%4===0){var zb=T.segpts.length/2,Ab=zb-2;T.midX=(T.segpts[Ab]+T.segpts[zb])/2,T.midY=(T.segpts[Ab+1]+T.segpts[zb+1])/2}else{var Ab=T.segpts.length/2-1;T.midX=T.segpts[Ab],T.midY=T.segpts[Ab+1]}this.projectLines(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}}}for(var k=0;k<j.length;k++){var l=j[k],m=l._private,Bb=m.rscratch,T=Bb;if(!Bb.haystack){var Cb=2*Math.random()*Math.PI;Bb.source={x:Math.cos(Cb),y:Math.sin(Cb)};var Cb=2*Math.random()*Math.PI;Bb.target={x:Math.cos(Cb),y:Math.sin(Cb)}}var s=m.source,t=m.target,w=s._private.position,x=t._private.position,y=s.width(),A=t.width(),z=s.height(),B=t.height(),tb=l.pstyle("haystack-radius").value,Db=tb/2;T.haystackPts=T.allpts=[T.source.x*y*Db+w.x,T.source.y*z*Db+w.y,T.target.x*A*Db+x.x,T.target.y*B*Db+x.y],T.midX=(T.allpts[0]+T.allpts[2])/2,T.midY=(T.allpts[1]+T.allpts[3])/2,Bb.edgeType="haystack",Bb.haystack=!0,this.projectLines(l),this.calculateArrowAngles(l),this.recalculateEdgeLabelProjections(l),this.calculateLabelAngles(l)}return h}};var k=function(a,b){return Math.atan2(b,a)-Math.PI/2};j.calculateArrowAngles=function(a){var b,c,d,f,g,h,i=a._private.rscratch,j="haystack"===i.edgeType,l="multibezier"===i.edgeType,m="segments"===i.edgeType,n="compound"===i.edgeType,o="self"===i.edgeType,p=a._private.source._private.position,q=a._private.target._private.position;j?(d=i.haystackPts[0],f=i.haystackPts[1],g=i.haystackPts[2],h=i.haystackPts[3]):(d=i.arrowStartX,f=i.arrowStartY,g=i.arrowEndX,h=i.arrowEndY),b=p.x-d,c=p.y-f,i.srcArrowAngle=k(b,c);var r=i.midX,s=i.midY;if(j&&(r=(d+g)/2,s=(f+h)/2),b=g-d,c=h-f,o)b=-1,c=1;else if(m){var t=i.allpts;if(t.length/2%2===0){var u=t.length/2,v=u-2;b=t[u]-t[v],c=t[u+1]-t[v+1]}else{var u=t.length/2-1,v=u-2,w=u+2;b=t[u]-t[v],c=t[u+1]-t[v+1]}}else if(l||n){var x,y,z,A,t=i.allpts,B=i.ctrlpts;if(B.length/2%2===0){var C=t.length/2-1,D=C+2,E=D+2;x=e.qbezierAt(t[C],t[D],t[E],0),y=e.qbezierAt(t[C+1],t[D+1],t[E+1],0),z=e.qbezierAt(t[C],t[D],t[E],1e-4),A=e.qbezierAt(t[C+1],t[D+1],t[E+1],1e-4)}else{var D=t.length/2-1,C=D-2,E=D+2;x=e.qbezierAt(t[C],t[D],t[E],.4999),y=e.qbezierAt(t[C+1],t[D+1],t[E+1],.4999),z=e.qbezierAt(t[C],t[D],t[E],.5),A=e.qbezierAt(t[C+1],t[D+1],t[E+1],.5)}b=z-x,c=A-y}if(i.midtgtArrowAngle=k(b,c),i.midDispX=b,i.midDispY=c,b*=-1,c*=-1,m){var t=i.allpts;if(t.length/2%2===0);else{var u=t.length/2-1,w=u+2;b=-(t[w]-t[u]),c=-(t[w+1]-t[u+1])}}i.midsrcArrowAngle=k(b,c),b=q.x-g,c=q.y-h,i.tgtArrowAngle=k(b,c)},j.calculateLabelAngles=function(a){var b=a._private,c=b.rscratch,d=a.isEdge(),e=a.pstyle("text-rotation"),f=e.strValue;"none"===f?c.labelAngle=c.sourceLabelAngle=c.targetLabelAngle=0:d&&"autorotate"===f?(c.labelAngle=Math.atan(c.midDispY/c.midDispX),c.sourceLabelAngle=c.sourceLabelAutoAngle,c.targetLabelAngle=c.targetLabelAutoAngle):"autorotate"===f?c.labelAngle=c.sourceLabelAngle=c.targetLabelAngle=0:c.labelAngle=c.sourceLabelAngle=c.targetLabelAngle=e.pfValue},j.findEndpoints=function(a){var b,c,d,g=this,h=a.source()[0],i=a.target()[0],j=h._private,k=i._private,l=j.position,m=k.position,n=a.pstyle("target-arrow-shape").value,o=a.pstyle("source-arrow-shape").value,p=a._private.rscratch,q=p.edgeType,r="bezier"===q||"multibezier"===q||"self"===q||"compound"===q,s="bezier"!==q,t="straight"===q||"segments"===q,u="segments"===q,v=r||s||t;if(r){var w=[p.ctrlpts[0],p.ctrlpts[1]],x=s?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:w;c=x,d=w}else if(t){var y=u?p.segpts.slice(0,2):[m.x,m.y],z=u?p.segpts.slice(p.segpts.length-2):[l.x,l.y];c=z,d=y}b=g.nodeShapes[this.getNodeShape(i)].intersectLine(m.x,m.y,i.outerWidth(),i.outerHeight(),c[0],c[1],0);var A=e.shortenIntersection(b,c,g.arrowShapes[n].spacing(a)),B=e.shortenIntersection(b,c,g.arrowShapes[n].gap(a));p.endX=B[0],p.endY=B[1],p.arrowEndX=A[0],p.arrowEndY=A[1],b=g.nodeShapes[this.getNodeShape(h)].intersectLine(l.x,l.y,h.outerWidth(),h.outerHeight(),d[0],d[1],0);var C=e.shortenIntersection(b,d,g.arrowShapes[o].spacing(a)),D=e.shortenIntersection(b,d,g.arrowShapes[o].gap(a));p.startX=D[0],p.startY=D[1],p.arrowStartX=C[0],p.arrowStartY=C[1],v&&(f.number(p.startX)&&f.number(p.startY)&&f.number(p.endX)&&f.number(p.endY)?p.badLine=!1:p.badLine=!0)},j.getArrowWidth=j.getArrowHeight=function(a){var b=this.arrowWidthCache=this.arrowWidthCache||{},c=b[a];return c?c:(c=Math.max(Math.pow(13.37*a,.9),29),b[a]=c,c)},b.exports=j},{"../../../collection/zsort":32,"../../../is":83,"../../../math":85,"../../../util":100,"../../../window":107}],59:[function(a,b,c){"use strict";var d={};d.getCachedImage=function(a,b,c){var d=this,e=d.imageCache=d.imageCache||{},f=e[a];if(f)return f.image.complete||f.image.addEventListener("load",c),f.image;f=e[a]=e[a]||{};var g=f.image=new Image;g.addEventListener("load",c);var h="data:",i=a.substring(0,h.length).toLowerCase()===h;return i||(g.crossOrigin=b),g.src=a,g},b.exports=d},{}],60:[function(a,b,c){"use strict";var d=a("../../../is"),e=a("../../../util"),f=function(a){this.init(a)},g=f,h=g.prototype;h.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],h.init=function(a){var b=this;b.options=a,b.cy=a.cy,b.container=a.cy.container(),b.selection=[void 0,void 0,void 0,void 0,0],b.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],b.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},b.dragData={possibleDragElements:[]},b.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},b.redraws=0,b.showFps=a.showFps,b.hideEdgesOnViewport=a.hideEdgesOnViewport,b.hideLabelsOnViewport=a.hideLabelsOnViewport,b.textureOnViewport=a.textureOnViewport,b.wheelSensitivity=a.wheelSensitivity,b.motionBlurEnabled=a.motionBlur,b.forcedPixelRatio=a.pixelRatio,b.motionBlur=a.motionBlur,b.motionBlurOpacity=a.motionBlurOpacity,b.motionBlurTransparency=1-b.motionBlurOpacity,b.motionBlurPxRatio=1,b.mbPxRBlurry=1,b.minMbLowQualFrames=4,b.fullQualityMb=!1,b.clearedForMotionBlur=[],b.desktopTapThreshold=a.desktopTapThreshold,b.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,b.touchTapThreshold=a.touchTapThreshold,b.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,b.tapholdDuration=500,b.bindings=[],b.beforeRenderCallbacks=[],b.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},b.registerNodeShapes(),b.registerArrowShapes(),b.registerCalculationListeners(),b.load()},h.notify=function(a){var b,c=this;if(!this.destroyed){b=d.array(a.type)?a.type:[a.type];for(var e={},f=0;f<b.length;f++){var g=b[f];e[g]=!0}if(e.destroy)return void c.destroy();(e.add||e.remove||e.load||e.style)&&c.updateCachedZSortedEles(),e.viewport&&c.redrawHint("select",!0),(e.load||e.resize)&&(c.invalidateContainerClientCoordsCache(),c.matchCanvasSize(c.container)),c.redrawHint("eles",!0),c.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},h.destroy=function(){var a=this;a.destroyed=!0,a.cy.stopAnimationLoop();for(var b=0;b<a.bindings.length;b++){var c=a.bindings[b],d=c,e=d.target;(e.off||e.removeEventListener).apply(e,d.args)}if(a.bindings=[],a.beforeRenderCallbacks=[],a.onUpdateEleCalcsFns=[],a.removeObserver&&a.removeObserver.disconnect(),a.styleObserver&&a.styleObserver.disconnect(),a.labelCalcDiv)try{document.body.removeChild(a.labelCalcDiv)}catch(f){}},[a("./arrow-shapes"),a("./coord-ele-math"),a("./images"),a("./load-listeners"),a("./node-shapes"),a("./redraw")].forEach(function(a){e.extend(h,a)}),b.exports=g},{"../../../is":83,"../../../util":100,"./arrow-shapes":57,"./coord-ele-math":58,"./images":59,"./load-listeners":61,"./node-shapes":62,"./redraw":63}],61:[function(a,b,c){"use strict";var d=a("../../../window"),e=d?d.document:null,f=a("../../../is"),g=a("../../../util"),h=a("../../../math"),i=a("../../../event"),j={};j.registerBinding=function(a,b,c,d){var e=Array.prototype.slice.apply(arguments,[1]),f=this.binder(a);return f.on.apply(f,e)},j.binder=function(a){var b=this,c=a===d||a===e||a===e.body||f.domElement(a);if(null==b.supportsPassiveEvents){var g=!1;try{var h=Object.defineProperty({},"passive",{get:function(){g=!0}});d.addEventListener("test",null,h)}catch(i){}b.supportsPassiveEvents=g}var j=function(d,e,f){var g=Array.prototype.slice.call(arguments);return c&&b.supportsPassiveEvents&&(g[2]={capture:null!=f?f:!1,passive:!1,once:!1}),b.bindings.push({target:a,args:g}),(a.addEventListener||a.on).apply(a,g),this};return{on:j,addEventListener:j,addListener:j,bind:j}},j.nodeIsDraggable=function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},j.nodeIsGrabbable=function(a){return this.nodeIsDraggable(a)&&0!==a.pstyle("opacity").value&&"visible"===a.pstyle("visibility").value&&"element"===a.pstyle("display").value},j.load=function(){var a=this,b=function(b,c,d,e){null==b&&(b=a.cy);for(var f=0;f<c.length;f++){var h=c[f],j=new i(d,g.extend({type:h},e));b.trigger(j)}},c=function(a){return a.shiftKey||a.metaKey||a.ctrlKey},e=function(b,c){var d=!0;if(a.cy.hasCompoundNodes()&&b&&b.isEdge())for(var e=0;c&&e<c.length;e++){var b=c[e];if(b.isNode()&&b.isParent()){d=!1;break}}else d=!0;return d},j=function(b){var c;if(b.addToList&&a.cy.hasCompoundNodes()){if(!b.addToList.hasId){b.addToList.hasId={};for(var d=0;d<b.addToList.length;d++){var e=b.addToList[d];b.addToList.hasId[e.id()]=!0}}c=b.addToList.hasId}return c||{}},k=function(a){a[0]._private.grabbed=!0},l=function(a){a[0]._private.grabbed=!1},m=function(a){a[0]._private.rscratch.inDragLayer=!0},n=function(a){a[0]._private.rscratch.inDragLayer=!1},o=function(a){a[0]._private.rscratch.isGrabTarget=!0},p=function(a){a[0]._private.rscratch.isGrabTarget=!1},q=function(a,b){var c=j(b);c[a.id()]||(b.addToList.push(a),c[a.id()]=!0,k(a))},r=function(a,b){if(a.cy().hasCompoundNodes()&&(null!=b.inDragLayer||null!=b.addToList)){var c=a.descendants();b.inDragLayer&&(c.forEach(m),c.connectedEdges().forEach(m)),b.addToList&&c.forEach(function(a){q(a,b)})}},s=function(b,c){c=c||{};var d=b.cy().hasCompoundNodes();c.inDragLayer&&(b.forEach(m),b.neighborhood().stdFilter(function(a){return!d||a.isEdge()}).forEach(m)),c.addToList&&b.forEach(function(a){q(a,c)}),r(b,c),v(b,{inDragLayer:c.inDragLayer}),a.updateCachedGrabbedEles()},t=s,u=function(b){b&&(b.hasId={},a.getCachedZSortedEles().forEach(function(a){l(a),n(a),p(a)}),a.updateCachedGrabbedEles())},v=function(a,b){if((null!=b.inDragLayer||null!=b.addToList)&&a.cy().hasCompoundNodes()){var c=a.ancestors().orphans();if(!c.same(a)){var d=c.descendants().spawnSelf().merge(c).unmerge(a).unmerge(a.descendants()),e=d.connectedEdges();b.inDragLayer&&(e.forEach(m),d.forEach(m)),b.addToList&&d.forEach(function(a){q(a,b)})}}},w="undefined"!=typeof MutationObserver;w?(a.removeObserver=new MutationObserver(function(b){for(var c=0;c<b.length;c++){var d=b[c],e=d.removedNodes;if(e)for(var f=0;f<e.length;f++){var g=e[f];if(g===a.container){a.destroy();break}}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(b){a.destroy()});var x=g.debounce(function(){a.cy.invalidateSize(),a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100);w&&(a.styleObserver=new MutationObserver(x),a.styleObserver.observe(a.container,{attributes:!0})),a.registerBinding(d,"resize",x);for(var y=function(b){a.registerBinding(b,"scroll",function(b){a.invalidateContainerClientCoordsCache()})},z=a.cy.container();y(z),z.parentNode;)z=z.parentNode;a.registerBinding(a.container,"contextmenu",function(a){a.preventDefault()});var A=function(){return 0!==a.selection[4]},B=function(b){for(var c=a.findContainerClientCoords(),d=c[0],e=c[1],f=c[2],g=c[3],h=b.touches?b.touches:[b],i=!1,j=0;j<h.length;j++){var k=h[j];if(d<=k.clientX&&k.clientX<=d+f&&e<=k.clientY&&k.clientY<=e+g){i=!0;break}}if(!i)return!1;for(var l=a.container,m=b.target,n=m.parentNode,o=!1;n;){if(n===l){o=!0;break}n=n.parentNode}return o?!0:!1};a.registerBinding(a.container,"mousedown",function(c){if(B(c)){c.preventDefault(),a.hoverData.capture=!0,a.hoverData.which=c.which;var d=a.cy,e=[c.clientX,c.clientY],f=a.projectIntoViewport(e[0],e[1]),g=a.selection,h=a.findNearestElements(f[0],f[1],!0,!1),j=h[0],k=a.dragData.possibleDragElements;a.hoverData.mdownPos=f,a.hoverData.mdownGPos=e;var l=function(){a.hoverData.tapholdCancelled=!1,clearTimeout(a.hoverData.tapholdTimeout),a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var b=a.hoverData.down;b?b.trigger(new i(c,{type:"taphold",cyPosition:{x:f[0],y:f[1]}})):d.trigger(new i(c,{type:"taphold",cyPosition:{x:f[0],y:f[1]}}))}},a.tapholdDuration)};if(3==c.which){a.hoverData.cxtStarted=!0;var m=new i(c,{type:"cxttapstart",cyPosition:{x:f[0],y:f[1]}});j?(j.activate(),j.trigger(m),a.hoverData.down=j):d.trigger(m),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1}else if(1==c.which){if(j&&j.activate(),null!=j&&a.nodeIsGrabbable(j)){var n=new i(c,{type:"grab",cyPosition:{x:f[0],y:f[1]}});if(o(j),j.selected()){if(j.selected()){k=a.dragData.possibleDragElements=[];var p=d.$(function(){return this.isNode()&&this.selected()&&a.nodeIsGrabbable(this)});s(p,{addToList:k}),j.trigger(n)}}else k=a.dragData.possibleDragElements=[],t(j,{addToList:k}),j.trigger(n);a.redrawHint("eles",!0),a.redrawHint("drag",!0)}a.hoverData.down=j,a.hoverData.downs=h,a.hoverData.downTime=(new Date).getTime(),b(j,["mousedown","tapstart","vmousedown"],c,{cyPosition:{x:f[0],y:f[1]}}),null==j?(g[4]=1,a.data.bgActivePosistion={x:f[0],y:f[1]},a.redrawHint("select",!0),a.redraw()):j.isEdge()&&(g[4]=1),l()}g[0]=g[2]=f[0],g[1]=g[3]=f[1]}},!1),a.registerBinding(d,"mousemove",function(d){var g=a.hoverData.capture;if(g||B(d)){var j=!1,k=a.cy,l=k.zoom(),m=[d.clientX,d.clientY],n=a.projectIntoViewport(m[0],m[1]),o=a.hoverData.mdownPos,p=a.hoverData.mdownGPos,q=a.selection,r=null;a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.selecting||(r=a.findNearestElement(n[0],n[1],!0,!1));var t,u=a.hoverData.last,v=a.hoverData.down,w=[n[0]-q[2],n[1]-q[3]],x=a.dragData.possibleDragElements;if(p){var y=m[0]-p[0],z=y*y,A=m[1]-p[1],C=A*A,D=z+C;t=D>=a.desktopTapThreshold2}var E=c(d);t&&(a.hoverData.tapholdCancelled=!0);var F=function(){var b=a.hoverData.dragDelta=a.hoverData.dragDelta||[];0===b.length?(b.push(w[0]),b.push(w[1])):(b[0]+=w[0],b[1]+=w[1])};if(j=!0,b(r,["mousemove","vmousemove","tapdrag"],d,{cyPosition:{x:n[0],y:n[1]}}),3===a.hoverData.which){if(t){var G=new i(d,{type:"cxtdrag",cyPosition:{x:n[0],y:n[1]}});v?v.trigger(G):k.trigger(G),a.hoverData.cxtDragged=!0,a.hoverData.cxtOver&&r===a.hoverData.cxtOver||(a.hoverData.cxtOver&&a.hoverData.cxtOver.trigger(new i(d,{type:"cxtdragout",cyPosition:{x:n[0],y:n[1]}})),a.hoverData.cxtOver=r,r&&r.trigger(new i(d,{type:"cxtdragover",cyPosition:{x:n[0],y:n[1]}})))}}else if(a.hoverData.dragging){if(j=!0,k.panningEnabled()&&k.userPanningEnabled()){var H;if(a.hoverData.justStartedPan){var I=a.hoverData.mdownPos;H={x:(n[0]-I[0])*l,y:(n[1]-I[1])*l},a.hoverData.justStartedPan=!1}else H={x:w[0]*l,y:w[1]*l};k.panBy(H),a.hoverData.dragged=!0}n=a.projectIntoViewport(d.clientX,d.clientY)}else if(1!=q[4]||null!=v&&!v.isEdge()){if(v&&v.isEdge()&&v.active()&&v.unactivate(),v&&v.grabbed()||r==u||(u&&b(u,["mouseout","tapdragout"],d,{cyPosition:{x:n[0],y:n[1]}}),r&&b(r,["mouseover","tapdragover"],d,{cyPosition:{x:n[0],y:n[1]}}),a.hoverData.last=r),v&&a.nodeIsDraggable(v))if(t){var J=!a.dragData.didDrag;J&&a.redrawHint("eles",!0),a.dragData.didDrag=!0;var K=[];a.hoverData.draggingEles||s(k.collection(x),{inDragLayer:!0});for(var L=0;L<x.length;L++){var M=x[L];if(a.nodeIsDraggable(M)&&M.grabbed()){var N=M._private.position;if(K.push(M),f.number(w[0])&&f.number(w[1])){var O=!M.isParent();if(O&&(N.x+=w[0],N.y+=w[1]),J){var P=a.hoverData.dragDelta;O&&P&&f.number(P[0])&&f.number(P[1])&&(N.x+=P[0],N.y+=P[1])}}}}a.hoverData.draggingEles=!0;var Q=k.collection(K);Q.updateCompoundBounds(),Q.trigger("position drag"),a.redrawHint("drag",!0),a.redraw()}else F();j=!0}else if(t){if(a.hoverData.dragging||!k.boxSelectionEnabled()||!E&&k.panningEnabled()&&k.userPanningEnabled()){if(!a.hoverData.selecting&&k.panningEnabled()&&k.userPanningEnabled()){var R=e(v,a.hoverData.downs);R&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,q[4]=0,a.data.bgActivePosistion=h.array2point(o),a.redrawHint("select",!0),a.redraw())}}else a.data.bgActivePosistion=void 0,a.hoverData.selecting||k.trigger("boxstart"),a.hoverData.selecting=!0,a.redrawHint("select",!0),a.redraw();v&&v.isEdge()&&v.active()&&v.unactivate()}return q[2]=n[0],q[3]=n[1],j?(d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault(),!1):void 0}},!1),a.registerBinding(d,"mouseup",function(d){var e=a.hoverData.capture;if(e){a.hoverData.capture=!1;var f=a.cy,g=a.projectIntoViewport(d.clientX,d.clientY),h=a.selection,j=a.findNearestElement(g[0],g[1],!0,!1),k=a.dragData.possibleDragElements,l=a.hoverData.down,m=c(d);if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,l&&l.unactivate(),3===a.hoverData.which){var n=new i(d,{type:"cxttapend",cyPosition:{x:g[0],y:g[1]}});if(l?l.trigger(n):f.trigger(n),!a.hoverData.cxtDragged){var o=new i(d,{type:"cxttap",cyPosition:{x:g[0],y:g[1]}});l?l.trigger(o):f.trigger(o)}a.hoverData.cxtDragged=!1,a.hoverData.which=null}else if(1===a.hoverData.which){if(null!=l||a.dragData.didDrag||a.hoverData.selecting||a.hoverData.dragged||c(d)||(f.$(function(){return this.selected()}).unselect(),k.length>0&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=k=[]),b(j,["mouseup","tapend","vmouseup"],d,{cyPosition:{x:g[0],y:g[1]}}),a.dragData.didDrag||a.hoverData.dragged||a.hoverData.selecting||b(l,["click","tap","vclick"],d,{cyPosition:{x:g[0],y:g[1]}}),j!=l||a.dragData.didDrag||a.hoverData.selecting||null!=j&&j._private.selectable&&(a.hoverData.dragging||("additive"===f.selectionType()||m?j.selected()?j.unselect():j.select():m||(f.$(":selected").unmerge(j).unselect(),j.select())),a.redrawHint("eles",!0)),a.hoverData.selecting){var p=f.collection(a.getAllInBox(h[0],h[1],h[2],h[3]));a.redrawHint("select",!0),p.length>0&&a.redrawHint("eles",!0),f.trigger("boxend");var q=function(a){return a.selectable()&&!a.selected()};"additive"===f.selectionType()?p.trigger("box").stdFilter(q).select().trigger("boxselect"):(m||f.$(":selected").unmerge(p).unselect(),p.trigger("box").stdFilter(q).select().trigger("boxselect")),a.redraw()}if(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),!h[4]){a.redrawHint("drag",!0),a.redrawHint("eles",!0);var r=l&&l.grabbed();u(k),r&&l.trigger("free")}}h[4]=0,a.hoverData.down=null,a.hoverData.cxtStarted=!1,a.hoverData.draggingEles=!1,a.hoverData.selecting=!1,a.dragData.didDrag=!1,a.hoverData.dragged=!1,a.hoverData.dragDelta=[],a.hoverData.mdownPos=null,a.hoverData.mdownGPos=null}},!1);var C=function(b){if(!a.scrollingPage){var c=a.cy,d=a.projectIntoViewport(b.clientX,b.clientY),e=[d[0]*c.zoom()+c.pan().x,d[1]*c.zoom()+c.pan().y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||A())return void b.preventDefault();if(c.panningEnabled()&&c.userPanningEnabled()&&c.zoomingEnabled()&&c.userZoomingEnabled()){
b.preventDefault(),a.data.wheelZooming=!0,clearTimeout(a.data.wheelTimeout),a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1,a.redrawHint("eles",!0),a.redraw()},150);var f;f=null!=b.deltaY?b.deltaY/-250:null!=b.wheelDeltaY?b.wheelDeltaY/1e3:b.wheelDelta/1e3,f*=a.wheelSensitivity;var g=1===b.deltaMode;g&&(f*=33),c.zoom({level:c.zoom()*Math.pow(10,f),renderedPosition:{x:e[0],y:e[1]}})}}};a.registerBinding(a.container,"wheel",C,!0),a.registerBinding(d,"scroll",function(b){a.scrollingPage=!0,clearTimeout(a.scrollingPageTimeout),a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0),a.registerBinding(a.container,"mouseout",function(b){var c=a.projectIntoViewport(b.clientX,b.clientY);a.cy.trigger(new i(b,{type:"mouseout",cyPosition:{x:c[0],y:c[1]}}))},!1),a.registerBinding(a.container,"mouseover",function(b){var c=a.projectIntoViewport(b.clientX,b.clientY);a.cy.trigger(new i(b,{type:"mouseover",cyPosition:{x:c[0],y:c[1]}}))},!1);var D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},S=function(a,b,c,d){return(c-a)*(c-a)+(d-b)*(d-b)};a.registerBinding(a.container,"touchstart",Q=function(c){if(B(c)){a.touchData.capture=!0,a.data.bgActivePosistion=void 0;var d=a.cy,e=a.touchData.now,f=a.touchData.earlier;if(c.touches[0]){var g=a.projectIntoViewport(c.touches[0].clientX,c.touches[0].clientY);e[0]=g[0],e[1]=g[1]}if(c.touches[1]){var g=a.projectIntoViewport(c.touches[1].clientX,c.touches[1].clientY);e[2]=g[0],e[3]=g[1]}if(c.touches[2]){var g=a.projectIntoViewport(c.touches[2].clientX,c.touches[2].clientY);e[4]=g[0],e[5]=g[1]}if(c.touches[1]){u(a.dragData.touchDragEles);var h=a.findContainerClientCoords();L=h[0],M=h[1],N=h[2],O=h[3],D=c.touches[0].clientX-L,E=c.touches[0].clientY-M,F=c.touches[1].clientX-L,G=c.touches[1].clientY-M,P=D>=0&&N>=D&&F>=0&&N>=F&&E>=0&&O>=E&&G>=0&&O>=G;var j=d.pan(),k=d.zoom();H=R(D,E,F,G),I=S(D,E,F,G),J=[(D+F)/2,(E+G)/2],K=[(J[0]-j.x)/k,(J[1]-j.y)/k];var l=200,m=l*l;if(m>I&&!c.touches[2]){var n=a.findNearestElement(e[0],e[1],!0,!0),p=a.findNearestElement(e[2],e[3],!0,!0);return n&&n.isNode()?(n.activate().trigger(new i(c,{type:"cxttapstart",cyPosition:{x:e[0],y:e[1]}})),a.touchData.start=n):p&&p.isNode()?(p.activate().trigger(new i(c,{type:"cxttapstart",cyPosition:{x:e[0],y:e[1]}})),a.touchData.start=p):d.trigger(new i(c,{type:"cxttapstart",cyPosition:{x:e[0],y:e[1]}})),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}}if(c.touches[2]);else if(c.touches[1]);else if(c.touches[0]){var q=a.findNearestElements(e[0],e[1],!0,!0),r=q[0];if(null!=r&&(r.activate(),a.touchData.start=r,a.touchData.starts=q,a.nodeIsGrabbable(r))){var v=a.dragData.touchDragEles=[];if(a.redrawHint("eles",!0),a.redrawHint("drag",!0),r.selected()){var w=d.$(function(){return this.selected()&&a.nodeIsGrabbable(this)});s(w,{addToList:v})}else t(r,{addToList:v});o(r),r.trigger(new i(c,{type:"grab",cyPosition:{x:e[0],y:e[1]}}))}b(r,["touchstart","tapstart","vmousedown"],c,{cyPosition:{x:e[0],y:e[1]}}),null==r&&(a.data.bgActivePosistion={x:g[0],y:g[1]},a.redrawHint("select",!0),a.redraw()),a.touchData.singleTouchMoved=!1,a.touchData.singleTouchStartTime=+new Date,clearTimeout(a.touchData.tapholdTimeout),a.touchData.tapholdTimeout=setTimeout(function(){a.touchData.singleTouchMoved!==!1||a.pinching||a.touchData.selecting||(b(a.touchData.start,["taphold"],c,{cyPosition:{x:e[0],y:e[1]}}),a.touchData.start||d.$(":selected").unselect())},a.tapholdDuration)}if(c.touches.length>=1){for(var x=a.touchData.startPosition=[],y=0;y<e.length;y++)x[y]=f[y]=e[y];var z=c.touches[0];a.touchData.startGPosition=[z.clientX,z.clientY]}}},!1);var T;a.registerBinding(d,"touchmove",T=function(c){var d=a.touchData.capture;if(d||B(c)){var g=a.selection,j=a.cy,k=a.touchData.now,l=a.touchData.earlier,m=j.zoom();if(c.touches[0]){var n=a.projectIntoViewport(c.touches[0].clientX,c.touches[0].clientY);k[0]=n[0],k[1]=n[1]}if(c.touches[1]){var n=a.projectIntoViewport(c.touches[1].clientX,c.touches[1].clientY);k[2]=n[0],k[3]=n[1]}if(c.touches[2]){var n=a.projectIntoViewport(c.touches[2].clientX,c.touches[2].clientY);k[4]=n[0],k[5]=n[1]}var o,p=a.touchData.startGPosition;if(d&&c.touches[0]&&p){for(var q=[],r=0;r<k.length;r++)q[r]=k[r]-l[r];var t=c.touches[0].clientX-p[0],v=t*t,w=c.touches[0].clientY-p[1],x=w*w,y=v+x;o=y>=a.touchTapThreshold2}if(d&&a.touchData.cxt){c.preventDefault();var z=c.touches[0].clientX-L,A=c.touches[0].clientY-M,C=c.touches[1].clientX-L,J=c.touches[1].clientY-M,N=S(z,A,C,J),O=N/I,Q=150,T=Q*Q,U=1.5,V=U*U;if(O>=V||N>=T){a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var W=new i(c,{type:"cxttapend",cyPosition:{x:k[0],y:k[1]}});a.touchData.start?(a.touchData.start.unactivate().trigger(W),a.touchData.start=null):j.trigger(W)}}if(d&&a.touchData.cxt){var W=new i(c,{type:"cxtdrag",cyPosition:{x:k[0],y:k[1]}});a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.touchData.start?a.touchData.start.trigger(W):j.trigger(W),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxtDragged=!0;var X=a.findNearestElement(k[0],k[1],!0,!0);a.touchData.cxtOver&&X===a.touchData.cxtOver||(a.touchData.cxtOver&&a.touchData.cxtOver.trigger(new i(c,{type:"cxtdragout",cyPosition:{x:k[0],y:k[1]}})),a.touchData.cxtOver=X,X&&X.trigger(new i(c,{type:"cxtdragover",cyPosition:{x:k[0],y:k[1]}})))}else if(d&&c.touches[2]&&j.boxSelectionEnabled())c.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||j.trigger("boxstart"),a.touchData.selecting=!0,a.redrawHint("select",!0),g&&0!==g.length&&void 0!==g[0]?(g[2]=(k[0]+k[2]+k[4])/3,g[3]=(k[1]+k[3]+k[5])/3):(g[0]=(k[0]+k[2]+k[4])/3,g[1]=(k[1]+k[3]+k[5])/3,g[2]=(k[0]+k[2]+k[4])/3+1,g[3]=(k[1]+k[3]+k[5])/3+1),g[4]=1,a.touchData.selecting=!0,a.redraw();else if(d&&c.touches[1]&&j.zoomingEnabled()&&j.panningEnabled()&&j.userZoomingEnabled()&&j.userPanningEnabled()){c.preventDefault(),a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Y=a.dragData.touchDragEles;if(Y){a.redrawHint("drag",!0);for(var Z=0;Z<Y.length;Z++){var $=Y[Z]._private;$.grabbed=!1,$.rscratch.inDragLayer=!1}}var z=c.touches[0].clientX-L,A=c.touches[0].clientY-M,C=c.touches[1].clientX-L,J=c.touches[1].clientY-M,_=R(z,A,C,J),aa=_/H;if(P){var ba=z-D,ca=A-E,da=C-F,ea=J-G,fa=(ba+da)/2,ga=(ca+ea)/2,ha=j.zoom(),ia=ha*aa,ja=j.pan(),ka=K[0]*ha+ja.x,la=K[1]*ha+ja.y,ma={x:-ia/ha*(ka-ja.x-fa)+ka,y:-ia/ha*(la-ja.y-ga)+la};if(a.touchData.start&&a.touchData.start.active()){var Y=a.dragData.touchDragEles;u(Y),a.redrawHint("drag",!0),a.redrawHint("eles",!0),a.touchData.start.unactivate().trigger("free")}j.viewport({zoom:ia,pan:ma,cancelOnFailedZoom:!0}),H=_,D=z,E=A,F=C,G=J,a.pinching=!0}if(c.touches[0]){var n=a.projectIntoViewport(c.touches[0].clientX,c.touches[0].clientY);k[0]=n[0],k[1]=n[1]}if(c.touches[1]){var n=a.projectIntoViewport(c.touches[1].clientX,c.touches[1].clientY);k[2]=n[0],k[3]=n[1]}if(c.touches[2]){var n=a.projectIntoViewport(c.touches[2].clientX,c.touches[2].clientY);k[4]=n[0],k[5]=n[1]}}else if(c.touches[0]){var X,na=a.touchData.start,oa=a.touchData.last;if(a.hoverData.draggingEles||a.swipePanning||(X=a.findNearestElement(k[0],k[1],!0,!0)),d&&null!=na&&c.preventDefault(),d&&null!=na&&a.nodeIsDraggable(na))if(o){var Y=a.dragData.touchDragEles,pa=!a.dragData.didDrag;pa&&s(j.collection(Y),{inDragLayer:!0});for(var qa=0;qa<Y.length;qa++){var ra=Y[qa];if(a.nodeIsDraggable(ra)&&ra.grabbed()){a.dragData.didDrag=!0;var sa=ra._private.position,ta=!ra.isParent();if(ta&&f.number(q[0])&&f.number(q[1])&&(sa.x+=q[0],sa.y+=q[1]),pa){a.redrawHint("eles",!0);var ua=a.touchData.dragDelta;ta&&ua&&f.number(ua[0])&&f.number(ua[1])&&(sa.x+=ua[0],sa.y+=ua[1])}}}var va=j.collection(Y);va.updateCompoundBounds(),va.trigger("position drag"),a.hoverData.draggingEles=!0,a.redrawHint("drag",!0),a.touchData.startPosition[0]==l[0]&&a.touchData.startPosition[1]==l[1]&&a.redrawHint("eles",!0),a.redraw()}else{var ua=a.touchData.dragDelta=a.touchData.dragDelta||[];0===ua.length?(ua.push(q[0]),ua.push(q[1])):(ua[0]+=q[0],ua[1]+=q[1])}if(b(na||X,["touchmove","tapdrag","vmousemove"],c,{cyPosition:{x:k[0],y:k[1]}}),na&&na.grabbed()||X==oa||(oa&&oa.trigger(new i(c,{type:"tapdragout",cyPosition:{x:k[0],y:k[1]}})),X&&X.trigger(new i(c,{type:"tapdragover",cyPosition:{x:k[0],y:k[1]}}))),a.touchData.last=X,d)for(var Z=0;Z<k.length;Z++)k[Z]&&a.touchData.startPosition[Z]&&o&&(a.touchData.singleTouchMoved=!0);if(d&&(null==na||na.isEdge())&&j.panningEnabled()&&j.userPanningEnabled()){var wa=e(na,a.touchData.starts);wa&&(c.preventDefault(),a.swipePanning?j.panBy({x:q[0]*m,y:q[1]*m}):o&&(a.swipePanning=!0,j.panBy({x:t*m,y:w*m}),na&&(na.unactivate(),a.data.bgActivePosistion||(a.data.bgActivePosistion=h.array2point(a.touchData.startPosition)),a.redrawHint("select",!0),a.touchData.start=null)));var n=a.projectIntoViewport(c.touches[0].clientX,c.touches[0].clientY);k[0]=n[0],k[1]=n[1]}}for(var r=0;r<k.length;r++)l[r]=k[r]}},!1);var U;a.registerBinding(d,"touchcancel",U=function(b){var c=a.touchData.start;a.touchData.capture=!1,c&&c.unactivate()});var V;if(a.registerBinding(d,"touchend",V=function(c){var d=a.touchData.start,e=a.touchData.capture;if(e){a.touchData.capture=!1,c.preventDefault();var f=a.selection;a.swipePanning=!1,a.hoverData.draggingEles=!1;var g=a.cy,h=g.zoom(),j=a.touchData.now,k=a.touchData.earlier;if(c.touches[0]){var l=a.projectIntoViewport(c.touches[0].clientX,c.touches[0].clientY);j[0]=l[0],j[1]=l[1]}if(c.touches[1]){var l=a.projectIntoViewport(c.touches[1].clientX,c.touches[1].clientY);j[2]=l[0],j[3]=l[1]}if(c.touches[2]){var l=a.projectIntoViewport(c.touches[2].clientX,c.touches[2].clientY);j[4]=l[0],j[5]=l[1]}d&&d.unactivate();var m;if(a.touchData.cxt){if(m=new i(c,{type:"cxttapend",cyPosition:{x:j[0],y:j[1]}}),d?d.trigger(m):g.trigger(m),!a.touchData.cxtDragged){var n=new i(c,{type:"cxttap",cyPosition:{x:j[0],y:j[1]}});d?d.trigger(n):g.trigger(n)}return a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw()}if(!c.touches[2]&&g.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;var o=g.collection(a.getAllInBox(f[0],f[1],f[2],f[3]));f[0]=void 0,f[1]=void 0,f[2]=void 0,f[3]=void 0,f[4]=0,a.redrawHint("select",!0),g.trigger("boxend");var p=function(a){return a.selectable()&&!a.selected()};o.trigger("box").stdFilter(p).select().trigger("boxselect"),o.nonempty()&&a.redrawHint("eles",!0),a.redraw()}if(null!=d&&d.unactivate(),c.touches[2])a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);else if(c.touches[1]);else if(c.touches[0]);else if(!c.touches[0]){a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var q=a.dragData.touchDragEles;if(null!=d){var r=d._private.grabbed;u(q),a.redrawHint("drag",!0),a.redrawHint("eles",!0),r&&d.trigger("free"),b(d,["touchend","tapend","vmouseup","tapdragout"],c,{cyPosition:{x:j[0],y:j[1]}}),d.unactivate(),a.touchData.start=null}else{var s=a.findNearestElement(j[0],j[1],!0,!0);b(s,["touchend","tapend","vmouseup","tapdragout"],c,{cyPosition:{x:j[0],y:j[1]}})}var t=a.touchData.startPosition[0]-j[0],v=t*t,w=a.touchData.startPosition[1]-j[1],x=w*w,y=v+x,z=y*h*h;null!=d&&!a.dragData.didDrag&&d._private.selectable&&z<a.touchTapThreshold2&&!a.pinching&&("single"===g.selectionType()?(g.$(":selected").unmerge(d).unselect(),d.select()):d.selected()?d.unselect():d.select(),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved||b(d,["tap","vclick"],c,{cyPosition:{x:j[0],y:j[1]}}),a.touchData.singleTouchMoved=!0}for(var A=0;A<j.length;A++)k[A]=j[A];a.dragData.didDrag=!1,0===c.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=null,a.touchData.startGPosition=null),c.touches.length<2&&(a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),"undefined"==typeof TouchEvent){var W=[],X=function(a){return{clientX:a.clientX,clientY:a.clientY,force:1,identifier:a.pointerId,pageX:a.pageX,pageY:a.pageY,radiusX:a.width/2,radiusY:a.height/2,screenX:a.screenX,screenY:a.screenY,target:a.target}},Y=function(a){return{event:a,touch:X(a)}},Z=function(a){W.push(Y(a))},$=function(a){for(var b=0;b<W.length;b++){var c=W[b];if(c.event.pointerId===a.pointerId)return void W.splice(b,1)}},_=function(a){var b=W.filter(function(b){return b.event.pointerId===a.pointerId})[0];b.event=a,b.touch=X(a)},aa=function(a){a.touches=W.map(function(a){return a.touch})};a.registerBinding(a.container,"pointerdown",function(a){"mouse"!==a.pointerType&&(a.preventDefault(),Z(a),aa(a),Q(a))}),a.registerBinding(a.container,"pointerup",function(a){"mouse"!==a.pointerType&&($(a),aa(a),V(a))}),a.registerBinding(a.container,"pointercancel",function(a){"mouse"!==a.pointerType&&($(a),aa(a),U(a))}),a.registerBinding(a.container,"pointermove",function(a){"mouse"!==a.pointerType&&(a.preventDefault(),_(a),aa(a),T(a))})}},b.exports=j},{"../../../event":45,"../../../is":83,"../../../math":85,"../../../util":100,"../../../window":107}],62:[function(a,b,c){"use strict";var d=a("../../../math"),e={};e.generatePolygon=function(a,b){return this.nodeShapes[a]={renderer:this,name:a,points:b,draw:function(a,b,c,d,e){this.renderer.nodeShapeImpl("polygon",a,b,c,d,e,this.points)},intersectLine:function(a,b,c,e,f,g,h){return d.polygonIntersectLine(f,g,this.points,a,b,c/2,e/2,h)},checkPoint:function(a,b,c,e,f,g,h){return d.pointInsidePolygon(a,b,this.points,g,h,e,f,[0,-1],c)}}},e.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(a,b,c,d,e){this.renderer.nodeShapeImpl(this.name,a,b,c,d,e)},intersectLine:function(a,b,c,e,f,g,h){return d.intersectLineEllipse(f,g,a,b,c/2+h,e/2+h)},checkPoint:function(a,b,c,d,e,f,g){return a-=f,b-=g,a/=d/2+c,b/=e/2+c,1>=a*a+b*b}}},e.generateRoundRectangle=function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:d.generateUnitNgonPointsFitToSquare(4,0),draw:function(a,b,c,d,e){this.renderer.nodeShapeImpl(this.name,a,b,c,d,e)},intersectLine:function(a,b,c,e,f,g,h){return d.roundRectangleIntersectLine(f,g,a,b,c,e,h)},checkPoint:function(a,b,c,e,f,g,h){var i=d.getRoundRectangleRadius(e,f);if(d.pointInsidePolygon(a,b,this.points,g,h,e,f-2*i,[0,-1],c))return!0;if(d.pointInsidePolygon(a,b,this.points,g,h,e-2*i,f,[0,-1],c))return!0;var j=function(a,b,c,d,e,f,g){return a-=c,b-=d,a/=e/2+g,b/=f/2+g,1>=a*a+b*b};return j(a,b,g-e/2+i,h-f/2+i,2*i,2*i,c)?!0:j(a,b,g+e/2-i,h-f/2+i,2*i,2*i,c)?!0:j(a,b,g+e/2-i,h+f/2-i,2*i,2*i,c)?!0:j(a,b,g-e/2+i,h+f/2-i,2*i,2*i,c)?!0:!1}}},e.registerNodeShapes=function(){var a=this.nodeShapes={},b=this;this.generateEllipse(),this.generatePolygon("triangle",d.generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",d.generateUnitNgonPointsFitToSquare(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",d.generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",d.generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",d.generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",d.generateUnitNgonPointsFitToSquare(8,0));var c=new Array(20),e=d.generateUnitNgonPoints(5,0),f=d.generateUnitNgonPoints(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var h=0;h<f.length/2;h++)f[2*h]*=g,f[2*h+1]*=g;for(var h=0;5>h;h++)c[4*h]=e[2*h],c[4*h+1]=e[2*h+1],c[4*h+2]=f[2*h],c[4*h+3]=f[2*h+1];c=d.fitPolygonToSquare(c),this.generatePolygon("star",c),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),a.makePolygon=function(a){var c,d=a.join("$"),e="polygon-"+d;return(c=this[e])?c:b.generatePolygon(e,a)}},b.exports=e},{"../../../math":85}],63:[function(a,b,c){"use strict";var d=a("../../../util"),e={};e.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},e.redraw=function(a){a=a||d.staticEmptyObject();var b=this;void 0===b.averageRedrawTime&&(b.averageRedrawTime=0),void 0===b.lastRedrawTime&&(b.lastRedrawTime=0),void 0===b.lastDrawTime&&(b.lastDrawTime=0),b.requestedFrame=!0,b.renderOptions=a},e.beforeRender=function(a,b){if(!this.destroyed){b=b||0;var c=this.beforeRenderCallbacks;c.push({fn:a,priority:b}),c.sort(function(a,b){return b.priority-a.priority})}};var f=function(a,b,c){for(var d=a.beforeRenderCallbacks,e=0;e<d.length;e++)d[e].fn(b,c)};e.startRenderLoop=function(){var a=this;if(!a.renderLoopStarted){a.renderLoopStarted=!0;var b=function(c){if(!a.destroyed){if(a.requestedFrame&&!a.skipFrame){f(a,!0,c);var e=d.performanceNow();a.render(a.renderOptions);var g=a.lastDrawTime=d.performanceNow();void 0===a.averageRedrawTime&&(a.averageRedrawTime=g-e),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var h=g-e;a.redrawTotalTime+=h,a.lastRedrawTime=h,a.averageRedrawTime=a.averageRedrawTime/2+h/2,a.requestedFrame=!1}else f(a,!1,c);a.skipFrame=!1,d.requestAnimationFrame(b)}};d.requestAnimationFrame(b)}},b.exports=e},{"../../../util":100}],64:[function(a,b,c){"use strict";var d,e={};e.arrowShapeImpl=function(a){return(d||(d={polygon:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];a.lineTo(d.x,d.y)}},"triangle-backcurve":function(a,b,c){for(var d,e=0;e<b.length;e++){var f=b[e];0===e&&(d=f),a.lineTo(f.x,f.y)}a.quadraticCurveTo(c.x,c.y,d.x,d.y)},"triangle-tee":function(a,b,c){a.beginPath&&a.beginPath();for(var d=b,e=0;e<d.length;e++){var f=d[e];a.lineTo(f.x,f.y)}a.closePath&&a.closePath(),a.beginPath&&a.beginPath();var g=c,h=c[0];a.moveTo(h.x,h.y);for(var e=0;e<g.length;e++){var f=g[e];a.lineTo(f.x,f.y)}a.closePath&&a.closePath()},circle:function(a,b,c,d){a.arc(b,c,d,0,2*Math.PI,!1)}}))[a]},b.exports=e},{}],65:[function(a,b,c){"use strict";var d={};d.drawEdge=function(a,b,c,d,e){var f=b._private.rscratch,g=this.usePaths();if(!f.badLine&&!isNaN(f.allpts[0])&&b.visible()){var h;c&&(h=c,a.translate(-h.x1,-h.y1));var i=b.pstyle("overlay-padding").pfValue,j=b.pstyle("overlay-opacity").value,k=b.pstyle("overlay-color").value;if(e){if(0===j)return;this.strokeStyle(a,k[0],k[1],k[2],j),a.lineCap="round","self"!=f.edgeType||g||(a.lineCap="butt")}else{var l=b.pstyle("line-color").value;this.strokeStyle(a,l[0],l[1],l[2],b.pstyle("opacity").value),a.lineCap="butt"}a.lineJoin="round";var m=b.pstyle("width").pfValue+(e?2*i:0),n=e?"solid":b.pstyle("line-style").value;a.lineWidth=m;var o=b.pstyle("shadow-blur").pfValue,p=b.pstyle("shadow-opacity").value,q=b.pstyle("shadow-color").value,r=b.pstyle("shadow-offset-x").pfValue,s=b.pstyle("shadow-offset-y").pfValue;this.shadowStyle(a,q,e?0:p,o,r,s),this.drawEdgePath(b,a,f.allpts,n,m),this.drawArrowheads(a,b,e),this.shadowStyle(a,"transparent",0),e||this.drawEdge(a,b,!1,d,!0),this.drawElementText(a,b,d),c&&a.translate(h.x1,h.y1)}},d.drawEdgePath=function(a,b,c,d,e){var f,g=a._private.rscratch,h=b,i=!1,j=this.usePaths();if(j){var k=c.join("$"),l=g.pathCacheKey&&g.pathCacheKey===k;l?(f=b=g.pathCache,i=!0):(f=b=new Path2D,g.pathCacheKey=k,g.pathCache=f)}if(h.setLineDash)switch(d){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash([6,3]);break;case"solid":h.setLineDash([])}if(!i&&!g.badLine)switch(b.beginPath&&b.beginPath(),b.moveTo(c[0],c[1]),g.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<c.length;m+=4)b.quadraticCurveTo(c[m],c[m+1],c[m+2],c[m+3]);break;case"straight":case"segments":case"haystack":for(var m=2;m+1<c.length;m+=2)b.lineTo(c[m],c[m+1])}b=h,j?b.stroke(f):b.stroke(),b.setLineDash&&b.setLineDash([])},d.drawArrowheads=function(a,b,c){if(!c){var d=b._private.rscratch,e="haystack"===d.edgeType;e||this.drawArrowhead(a,b,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle),this.drawArrowhead(a,b,"mid-target",d.midX,d.midY,d.midtgtArrowAngle),this.drawArrowhead(a,b,"mid-source",d.midX,d.midY,d.midsrcArrowAngle),e||this.drawArrowhead(a,b,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle)}},d.drawArrowhead=function(a,b,c,d,e,f){if(!(isNaN(d)||null==d||isNaN(e)||null==e||isNaN(f)||null==f)){var g=this,h=b.pstyle(c+"-arrow-shape").value;if("none"!==h){var i=a.globalCompositeOperation,j="hollow"===b.pstyle(c+"-arrow-fill").value?"both":"filled",k=b.pstyle(c+"-arrow-fill").value,l=b.pstyle("opacity").value;"half-triangle-overshot"===h&&(k="hollow",j="hollow"),(1!==l||"hollow"===k)&&(a.globalCompositeOperation="destination-out",g.fillStyle(a,255,255,255,1),g.strokeStyle(a,255,255,255,1),g.drawArrowShape(b,c,a,j,b.pstyle("width").pfValue,b.pstyle(c+"-arrow-shape").value,d,e,f),a.globalCompositeOperation=i);var m=b.pstyle(c+"-arrow-color").value;g.fillStyle(a,m[0],m[1],m[2],l),g.strokeStyle(a,m[0],m[1],m[2],l),g.drawArrowShape(b,c,a,k,b.pstyle("width").pfValue,b.pstyle(c+"-arrow-shape").value,d,e,f)}}},d.drawArrowShape=function(a,b,c,d,e,f,g,h,i){var j,k=this,l=this.usePaths(),m=a._private.rscratch,n=!1,o=c,p={x:g,y:h},q=this.getArrowWidth(e),r=k.arrowShapes[f];if(l){var s=q+"$"+f+"$"+i+"$"+g+"$"+h;m.arrowPathCacheKey=m.arrowPathCacheKey||{},m.arrowPathCache=m.arrowPathCache||{};var t=m.arrowPathCacheKey[b]===s;t?(j=c=m.arrowPathCache[b],n=!0):(j=c=new Path2D,m.arrowPathCacheKey[b]=s,m.arrowPathCache[b]=j)}c.beginPath&&c.beginPath(),n||r.draw(c,q,i,p),!r.leavePathOpen&&c.closePath&&c.closePath(),c=o,("filled"===d||"both"===d)&&(l?c.fill(j):c.fill()),("hollow"===d||"both"===d)&&(c.lineWidth=r.matchEdgeWidth?e:1,c.lineJoin="miter",l?c.stroke(j):c.stroke())},b.exports=d},{}],66:[function(a,b,c){"use strict";var d=a("../../../math"),e={};e.drawElement=function(a,b,c,d){var e=this;b.isNode()?e.drawNode(a,b,c,d):e.drawEdge(a,b,c,d)},e.drawCachedElement=function(a,b,c,e){var f=this,g=b.boundingBox();if(0!==g.w&&0!==g.h&&(!e||d.boundingBoxesIntersect(g,e))){var h=f.data.eleTxrCache.getElement(b,g,c);h?a.drawImage(h.texture.canvas,h.x,0,h.width,h.height,g.x1,g.y1,g.w,g.h):f.drawElement(a,b)}},e.drawElements=function(a,b){for(var c=this,d=0;d<b.length;d++){var e=b[d];c.drawElement(a,e)}},e.drawCachedElements=function(a,b,c,d){for(var e=this,f=0;f<b.length;f++){var g=b[f];e.drawCachedElement(a,g,c,d)}},e.drawCachedNodes=function(a,b,c,d){for(var e=this,f=0;f<b.length;f++){var g=b[f];g.isNode()&&e.drawCachedElement(a,g,c,d)}},e.drawLayeredElements=function(a,b,c,d){var e=this,f=e.data.lyrTxrCache.getLayers(b,c);if(f)for(var g=0;g<f.length;g++){var h=f[g],i=h.bb;0!==i.w&&0!==i.h&&a.drawImage(h.canvas,i.x1,i.y1,i.w,i.h)}else e.drawCachedElements(a,b,c,d)},b.exports=e},{"../../../math":85}],67:[function(a,b,c){"use strict";var d={};d.safeDrawImage=function(a,b,c,d,e,f,g,h,i,j){var k=this;try{a.drawImage(b,c,d,e,f,g,h,i,j)}catch(l){k.redrawHint("eles",!0),k.redrawHint("drag",!0),k.drawingImage=!0,k.redraw()}},d.drawInscribedImage=function(a,b,c){var d=this,e=c._private.position.x,f=c._private.position.y,g=c.pstyle("background-fit").value,h=c.pstyle("background-position-x"),i=c.pstyle("background-position-y"),j=c.pstyle("background-repeat").value,k=c.width(),l=c.height(),m=c._private.rscratch,n=c.pstyle("background-clip").value,o="node"===n,p=c.pstyle("background-image-opacity").value,q=b.width||b.cachedW,r=b.height||b.cachedH;(null==q||null==r)&&(document.body.appendChild(b),q=b.cachedW=b.width||b.offsetWidth,r=b.cachedH=b.height||b.offsetHeight,document.body.removeChild(b));var s=q,t=r,u=c.pstyle("background-width");"auto"!==u.value&&(s="%"===u.units?u.value/100*k:u.pfValue);var v=c.pstyle("background-height");if("auto"!==v.value&&(t="%"===v.units?v.value/100*l:v.pfValue),0!==s&&0!==t){if("contain"===g){var w=Math.min(k/s,l/t);s*=w,t*=w}else if("cover"===g){var w=Math.max(k/s,l/t);s*=w,t*=w}var x=e-k/2;x+="%"===h.units?(k-s)*h.value/100:h.pfValue;var y=f-l/2;y+="%"===i.units?(l-t)*i.value/100:i.pfValue,m.pathCache&&(x-=e,y-=f,e=0,f=0);var z=a.globalAlpha;if(a.globalAlpha=p,"no-repeat"===j)o&&(a.save(),m.pathCache?a.clip(m.pathCache):(d.nodeShapes[d.getNodeShape(c)].draw(a,e,f,k,l),a.clip())),d.safeDrawImage(a,b,0,0,q,r,x,y,s,t),o&&a.restore();else{var A=a.createPattern(b,j);a.fillStyle=A,d.nodeShapes[d.getNodeShape(c)].draw(a,e,f,k,l),a.translate(x,y),a.fill(),a.translate(-x,-y)}a.globalAlpha=z}},b.exports=d},{}],68:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){var f=f||5;a.beginPath(),a.moveTo(b+f,c),a.lineTo(b+d-f,c),a.quadraticCurveTo(b+d,c,b+d,c+f),a.lineTo(b+d,c+e-f),a.quadraticCurveTo(b+d,c+e,b+d-f,c+e),a.lineTo(b+f,c+e),a.quadraticCurveTo(b,c+e,b,c+e-f),a.lineTo(b,c+f),a.quadraticCurveTo(b,c,b+f,c),a.closePath(),a.fill()}var e=a("../../../util"),f=a("../../../math"),g={};g.eleTextBiggerThanMin=function(a,b){if(!b){var c=a.cy().zoom(),d=this.getPixelRatio(),e=Math.ceil(f.log2(c*d));b=Math.pow(2,e)}var g=a.pstyle("font-size").pfValue*b,h=a.pstyle("min-zoomed-font-size").pfValue;return h>g?!1:!0},g.drawElementText=function(a,b,c){var d=this;if(void 0===c){if(!d.eleTextBiggerThanMin(b))return}else if(!c)return;if(b.isNode()){var e=b.pstyle("label");if(!e||!e.value)return;var f=b.pstyle("text-halign").strValue;b.pstyle("text-valign").strValue;switch(f){case"left":a.textAlign="right";break;case"right":a.textAlign="left";break;default:a.textAlign="center"}a.textBaseline="bottom"}else{var e=b.pstyle("label"),g=b.pstyle("source-label"),h=b.pstyle("target-label");if(!(e&&e.value||g&&g.value||h&&h.value))return;a.textAlign="center",a.textBaseline="bottom"}d.drawText(a,b),b.isEdge()&&(d.drawText(a,b,"source"),d.drawText(a,b,"target"))},g.drawNodeText=g.drawEdgeText=g.drawElementText,g.getFontCache=function(a){var b;this.fontCaches=this.fontCaches||[];for(var c=0;c<this.fontCaches.length;c++)if(b=this.fontCaches[c],b.context===a)return b;return b={context:a},this.fontCaches.push(b),b},g.setupTextStyle=function(a,b){var c=b.effectiveOpacity(),d=b.pstyle("font-style").strValue,e=b.pstyle("font-size").pfValue+"px",f=b.pstyle("font-family").strValue,g=b.pstyle("font-weight").strValue,h=b.pstyle("text-opacity").value*b.pstyle("opacity").value*c,i=b.pstyle("text-outline-opacity").value*h,j=b.pstyle("color").value,k=b.pstyle("text-outline-color").value,l=b.pstyle("text-shadow-blur").pfValue,m=b.pstyle("text-shadow-opacity").value,n=b.pstyle("text-shadow-color").value,o=b.pstyle("text-shadow-offset-x").pfValue,p=b.pstyle("text-shadow-offset-y").pfValue,q=b._private.fontKey,r=this.getFontCache(a);r.key!==q&&(a.font=d+" "+g+" "+e+" "+f,r.key=q),a.lineJoin="round",this.fillStyle(a,j[0],j[1],j[2],h),this.strokeStyle(a,k[0],k[1],k[2],i),this.shadowStyle(a,n,m,l,o,p)},g.drawText=function(a,b,c){var f=b._private,g=f.rscratch,h=b.effectiveOpacity();if(0!==h&&0!==b.pstyle("text-opacity").value){var i=e.getPrefixedProperty(g,"labelX",c),j=e.getPrefixedProperty(g,"labelY",c),k=this.getLabelText(b,c);if(null!=k&&""!==k&&!isNaN(i)&&!isNaN(j)){this.setupTextStyle(a,b);var l=c?c+"-":"",m=e.getPrefixedProperty(g,"labelWidth",c),n=e.getPrefixedProperty(g,"labelHeight",c),o=e.getPrefixedProperty(g,"labelAngle",c),p=b.pstyle(l+"text-margin-x").pfValue,q=b.pstyle(l+"text-margin-y").pfValue,r=b.isEdge(),s=(b.isNode(),b.pstyle("text-halign").value),t=b.pstyle("text-valign").value;r&&(s="center",t="center"),i+=p,j+=q;var u,v=b.pstyle("text-rotation");if(u="autorotate"===v.strValue?r?o:0:"none"===v.strValue?0:v.pfValue,0!==u){var w=i,x=j;a.translate(w,x),a.rotate(u),i=0,j=0}switch(t){case"top":break;case"center":j+=n/2;break;case"bottom":j+=n}var y=b.pstyle("text-background-opacity").value,z=b.pstyle("text-border-opacity").value,A=b.pstyle("text-border-width").pfValue;if(y>0||A>0&&z>0){var B=i;switch(s){case"left":B-=m;break;case"center":B-=m/2;break;case"right":}var C=j-n;if(y>0){var D=a.fillStyle,E=b.pstyle("text-background-color").value;a.fillStyle="rgba("+E[0]+","+E[1]+","+E[2]+","+y*h+")";var F=b.pstyle("text-background-shape").strValue;"roundrectangle"==F?d(a,B,C,m,n,2):a.fillRect(B,C,m,n),a.fillStyle=D}if(A>0&&z>0){var G=a.strokeStyle,H=a.lineWidth,I=b.pstyle("text-border-color").value,J=b.pstyle("text-border-style").value;if(a.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+z*h+")",a.lineWidth=A,a.setLineDash)switch(J){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=A/4,a.setLineDash([]);break;case"solid":a.setLineDash([])}if(a.strokeRect(B,C,m,n),"double"===J){var K=A/2;a.strokeRect(B+K,C+K,m-2*K,n-2*K)}a.setLineDash&&a.setLineDash([]),a.lineWidth=H,a.strokeStyle=G}}var L=2*b.pstyle("text-outline-width").pfValue;if(L>0&&(a.lineWidth=L),"wrap"===b.pstyle("text-wrap").value){var M=e.getPrefixedProperty(g,"labelWrapCachedLines",c),N=n/M.length;switch(t){case"top":j-=(M.length-1)*N;break;case"center":case"bottom":j-=(M.length-1)*N}for(var O=0;O<M.length;O++)L>0&&a.strokeText(M[O],i,j),a.fillText(M[O],i,j),j+=N}else L>0&&a.strokeText(k,i,j),a.fillText(k,i,j);0!==u&&(a.rotate(-u),a.translate(-w,-x)),this.shadowStyle(a,"transparent",0)}}},b.exports=g},{"../../../math":85,"../../../util":100}],69:[function(a,b,c){"use strict";var d=a("../../../is"),e={};e.drawNode=function(a,b,c,e){var f,g,h=this,i=b._private.rscratch,j=b._private,k=k||j.position;if(d.number(k.x)&&d.number(k.y)&&b.visible()){var l,m=b.effectiveOpacity(),n=this.usePaths(),o=!1,p=b.pstyle("padding").pfValue;f=b.width()+2*p,g=b.height()+2*p,a.lineWidth=b.pstyle("border-width").pfValue;var q;c&&(q=c,a.translate(-q.x1,-q.y1));var r,s=b.pstyle("background-image"),t=s.value[2]||s.value[1];if(void 0!==t){var u=b.pstyle("background-image-crossorigin");r=this.getCachedImage(t,u,function(){b.trigger("background"),h.redrawHint("eles",!0),h.redrawHint("drag",!0),h.drawingImage=!0,h.redraw()});var v=j.backgrounding;j.backgrounding=!r.complete,v!==j.backgrounding&&b.updateStyle(!1)}var w=b.pstyle("background-color").value,x=b.pstyle("border-color").value,y=b.pstyle("border-style").value;this.fillStyle(a,w[0],w[1],w[2],b.pstyle("background-opacity").value*m),this.strokeStyle(a,x[0],x[1],x[2],b.pstyle("border-opacity").value*m);var z=b.pstyle("shadow-blur").pfValue,A=b.pstyle("shadow-opacity").value,B=b.pstyle("shadow-color").value,C=b.pstyle("shadow-offset-x").pfValue,D=b.pstyle("shadow-offset-y").pfValue;if(this.shadowStyle(a,B,A,z,C,D),a.lineJoin="miter",a.setLineDash)switch(y){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}var E=b.pstyle("shape").strValue,F=b.pstyle("shape-polygon-points").pfValue;if(n){var G=E+"$"+f+"$"+g+("polygon"===E?"$"+F.join("$"):"");a.translate(k.x,k.y),i.pathCacheKey===G?(l=i.pathCache,o=!0):(l=new Path2D,i.pathCacheKey=G,i.pathCache=l)}if(!o){var H=k;n&&(H={x:0,y:0}),h.nodeShapes[this.getNodeShape(b)].draw(l||a,H.x,H.y,f,g)}n?a.fill(l):a.fill(),this.shadowStyle(a,"transparent",0),void 0!==t&&r.complete&&this.drawInscribedImage(a,r,b);var I=b.pstyle("background-blacken").value,J=b.pstyle("border-width").pfValue;if(this.hasPie(b)&&(this.drawPie(a,b,m),(0!==I||0!==J)&&(n||h.nodeShapes[this.getNodeShape(b)].draw(a,k.x,k.y,f,g))),I>0?(this.fillStyle(a,0,0,0,I),n?a.fill(l):a.fill()):0>I&&(this.fillStyle(a,255,255,255,-I),n?a.fill(l):a.fill()),J>0&&(n?a.stroke(l):a.stroke(),"double"===y)){a.lineWidth=b.pstyle("border-width").pfValue/3;var K=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",n?a.stroke(l):a.stroke(),a.globalCompositeOperation=K}n&&a.translate(-k.x,-k.y),a.setLineDash&&a.setLineDash([]),h.drawElementText(a,b,e);var L=b.pstyle("overlay-padding").pfValue,M=b.pstyle("overlay-opacity").value,N=b.pstyle("overlay-color").value;M>0&&(this.fillStyle(a,N[0],N[1],N[2],M),h.nodeShapes.roundrectangle.draw(a,b._private.position.x,b._private.position.y,f+2*L,g+2*L),a.fill()),c&&a.translate(q.x1,q.y1)}},e.hasPie=function(a){return a=a[0],a._private.hasPie},e.drawPie=function(a,b,c,d){b=b[0];var e=b._private,f=b.cy().style(),g=b.pstyle("pie-size"),h=b.width(),i=b.height(),d=d||e.position,j=d.x,k=d.y,l=Math.min(h,i)/2,m=0,n=this.usePaths();n&&(j=0,k=0),"%"===g.units?l=l*g.value/100:void 0!==g.pfValue&&(l=g.pfValue/2);for(var o=1;o<=f.pieBackgroundN;o++){var p=b.pstyle("pie-"+o+"-background-size").value,q=b.pstyle("pie-"+o+"-background-color").value,r=b.pstyle("pie-"+o+"-background-opacity").value*c,s=p/100;
s+m>1&&(s=1-m);var t=1.5*Math.PI+2*Math.PI*m,u=2*Math.PI*s,v=t+u;0===p||m>=1||m+s>1||(a.beginPath(),a.moveTo(j,k),a.arc(j,k,l,t,v),a.closePath(),this.fillStyle(a,q[0],q[1],q[2],r),a.fill(),m+=s)}},b.exports=e},{"../../../is":83}],70:[function(a,b,c){"use strict";var d={},e=a("../../../util"),f=100;d.getPixelRatio=function(){var a=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var b=a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/b},d.paintCache=function(a){for(var b,c=this.paintCaches=this.paintCaches||[],d=!0,e=0;e<c.length;e++)if(b=c[e],b.context===a){d=!1;break}return d&&(b={context:a},c.push(b)),b},d.fillStyle=function(a,b,c,d,e){a.fillStyle="rgba("+b+","+c+","+d+","+e+")"},d.strokeStyle=function(a,b,c,d,e){a.strokeStyle="rgba("+b+","+c+","+d+","+e+")"},d.shadowStyle=function(a,b,c,d,e,f){var g=this.cy.zoom();c>0?(a.shadowBlur=d*g,a.shadowColor="rgba("+b[0]+","+b[1]+","+b[2]+","+c+")",a.shadowOffsetX=e*g,a.shadowOffsetY=f*g):(a.shadowBlur=0,a.shadowColor="transparent",a.shadowOffsetX=0,a.shadowOffsetY=0)},d.matchCanvasSize=function(a){var b=this,c=b.data,d=b.findContainerClientCoords(),e=d[2],f=d[3],g=b.getPixelRatio(),h=b.motionBlurPxRatio;(a===b.data.bufferCanvases[b.MOTIONBLUR_BUFFER_NODE]||a===b.data.bufferCanvases[b.MOTIONBLUR_BUFFER_DRAG])&&(g=h);var i,j=e*g,k=f*g;if(j!==b.canvasWidth||k!==b.canvasHeight){b.fontCaches=null;var l=c.canvasContainer;l.style.width=e+"px",l.style.height=f+"px";for(var m=0;m<b.CANVAS_LAYERS;m++)i=c.canvases[m],i.width=j,i.height=k,i.style.width=e+"px",i.style.height=f+"px";for(var m=0;m<b.BUFFER_COUNT;m++)i=c.bufferCanvases[m],i.width=j,i.height=k,i.style.width=e+"px",i.style.height=f+"px";b.textureMult=1,1>=g&&(i=c.bufferCanvases[b.TEXTURE_BUFFER],b.textureMult=2,i.width=j*b.textureMult,i.height=k*b.textureMult),b.canvasWidth=j,b.canvasHeight=k}},d.renderTo=function(a,b,c,d){this.render({forcedContext:a,forcedZoom:b,forcedPan:c,drawAllLayers:!0,forcedPxRatio:d})},d.render=function(a){function b(a,b,c,d,e){var f=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",k.fillStyle(a,255,255,255,k.motionBlurTransparency),a.fillRect(b,c,d,e),a.globalCompositeOperation=f}function c(a,c){var e,f,h,l;k.clearingMotionBlur||a!==n.bufferContexts[k.MOTIONBLUR_BUFFER_NODE]&&a!==n.bufferContexts[k.MOTIONBLUR_BUFFER_DRAG]?(e=A,f=y,h=k.canvasWidth,l=k.canvasHeight):(e={x:z.x*r,y:z.y*r},f=x*r,h=k.canvasWidth*r,l=k.canvasHeight*r),a.setTransform(1,0,0,1,0,0),"motionBlur"===c?b(a,0,0,h,l):d||void 0!==c&&!c||a.clearRect(0,0,h,l),g||(a.translate(e.x,e.y),a.scale(f,f)),j&&a.translate(j.x,j.y),i&&a.scale(i,i)}a=a||e.staticEmptyObject();var d=a.forcedContext,g=a.drawAllLayers,h=a.drawOnlyNodeLayer,i=a.forcedZoom,j=a.forcedPan,k=this,l=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,m=k.cy,n=k.data,o=n.canvasNeedsRedraw,p=k.textureOnViewport&&!d&&(k.pinching||k.hoverData.dragging||k.swipePanning||k.data.wheelZooming),q=void 0!==a.motionBlur?a.motionBlur:k.motionBlur,r=k.motionBlurPxRatio,s=m.hasCompoundNodes(),t=k.hoverData.draggingEles,u=k.hoverData.selecting||k.touchData.selecting?!0:!1;q=q&&!d&&k.motionBlurEnabled&&!u;var v=q;d||(k.prevPxRatio!==l&&(k.invalidateContainerClientCoordsCache(),k.matchCanvasSize(k.container),k.redrawHint("eles",!0),k.redrawHint("drag",!0)),k.prevPxRatio=l),!d&&k.motionBlurTimeout&&clearTimeout(k.motionBlurTimeout),q&&(null==k.mbFrames&&(k.mbFrames=0),k.drawingImage||k.mbFrames++,k.mbFrames<3&&(v=!1),k.mbFrames>k.minMbLowQualFrames&&(k.motionBlurPxRatio=k.mbPxRBlurry)),k.clearingMotionBlur&&(k.motionBlurPxRatio=1),k.textureDrawLastFrame&&!p&&(o[k.NODE]=!0,o[k.SELECT_BOX]=!0);var w=m.style()._private.coreStyle,x=m.zoom(),y=void 0!==i?i:x,z=m.pan(),A={x:z.x,y:z.y},B={zoom:x,pan:{x:z.x,y:z.y}},C=k.prevViewport,D=void 0===C||B.zoom!==C.zoom||B.pan.x!==C.pan.x||B.pan.y!==C.pan.y;D||t&&!s||(k.motionBlurPxRatio=1),j&&(A=j),y*=l,A.x*=l,A.y*=l;var E=k.getCachedZSortedEles();if(p||(k.textureDrawLastFrame=!1),p){k.textureDrawLastFrame=!0;var F;if(!k.textureCache){k.textureCache={},F=k.textureCache.bb=m.mutableElements().boundingBox(),k.textureCache.texture=k.data.bufferCanvases[k.TEXTURE_BUFFER];var G=k.data.bufferContexts[k.TEXTURE_BUFFER];G.setTransform(1,0,0,1,0,0),G.clearRect(0,0,k.canvasWidth*k.textureMult,k.canvasHeight*k.textureMult),k.render({forcedContext:G,drawOnlyNodeLayer:!0,forcedPxRatio:l*k.textureMult});var B=k.textureCache.viewport={zoom:m.zoom(),pan:m.pan(),width:k.canvasWidth,height:k.canvasHeight};B.mpan={x:(0-B.pan.x)/B.zoom,y:(0-B.pan.y)/B.zoom}}o[k.DRAG]=!1,o[k.NODE]=!1;var H=n.contexts[k.NODE],I=k.textureCache.texture,B=k.textureCache.viewport;F=k.textureCache.bb,H.setTransform(1,0,0,1,0,0),q?b(H,0,0,B.width,B.height):H.clearRect(0,0,B.width,B.height);var J=w["outside-texture-bg-color"].value,K=w["outside-texture-bg-opacity"].value;k.fillStyle(H,J[0],J[1],J[2],K),H.fillRect(0,0,B.width,B.height);var x=m.zoom();c(H,!1),H.clearRect(B.mpan.x,B.mpan.y,B.width/B.zoom/l,B.height/B.zoom/l),H.drawImage(I,B.mpan.x,B.mpan.y,B.width/B.zoom/l,B.height/B.zoom/l)}else k.textureOnViewport&&!d&&(k.textureCache=null);var L=m.extent(),M=k.pinching||k.hoverData.dragging||k.swipePanning||k.data.wheelZooming||k.hoverData.draggingEles,N=k.hideEdgesOnViewport&&M,O=[];if(O[k.NODE]=!o[k.NODE]&&q&&!k.clearedForMotionBlur[k.NODE]||k.clearingMotionBlur,O[k.NODE]&&(k.clearedForMotionBlur[k.NODE]=!0),O[k.DRAG]=!o[k.DRAG]&&q&&!k.clearedForMotionBlur[k.DRAG]||k.clearingMotionBlur,O[k.DRAG]&&(k.clearedForMotionBlur[k.DRAG]=!0),o[k.NODE]||g||h||O[k.NODE]){var P=q&&!O[k.NODE]&&1!==r,H=d||(P?k.data.bufferContexts[k.MOTIONBLUR_BUFFER_NODE]:n.contexts[k.NODE]),Q=q&&!P?"motionBlur":void 0;c(H,Q),N?k.drawCachedNodes(H,E.nondrag,l,L):k.drawLayeredElements(H,E.nondrag,l,L),g||q||(o[k.NODE]=!1)}if(!h&&(o[k.DRAG]||g||O[k.DRAG])){var P=q&&!O[k.DRAG]&&1!==r,H=d||(P?k.data.bufferContexts[k.MOTIONBLUR_BUFFER_DRAG]:n.contexts[k.DRAG]);c(H,q&&!P?"motionBlur":void 0),N?k.drawCachedNodes(H,E.drag,l,L):k.drawCachedElements(H,E.drag,l,L),g||q||(o[k.DRAG]=!1)}if(k.showFps||!h&&o[k.SELECT_BOX]&&!g){var H=d||n.contexts[k.SELECT_BOX];if(c(H),1==k.selection[4]&&(k.hoverData.selecting||k.touchData.selecting)){var x=k.cy.zoom(),R=w["selection-box-border-width"].value/x;H.lineWidth=R,H.fillStyle="rgba("+w["selection-box-color"].value[0]+","+w["selection-box-color"].value[1]+","+w["selection-box-color"].value[2]+","+w["selection-box-opacity"].value+")",H.fillRect(k.selection[0],k.selection[1],k.selection[2]-k.selection[0],k.selection[3]-k.selection[1]),R>0&&(H.strokeStyle="rgba("+w["selection-box-border-color"].value[0]+","+w["selection-box-border-color"].value[1]+","+w["selection-box-border-color"].value[2]+","+w["selection-box-opacity"].value+")",H.strokeRect(k.selection[0],k.selection[1],k.selection[2]-k.selection[0],k.selection[3]-k.selection[1]))}if(n.bgActivePosistion&&!k.hoverData.selecting){var x=k.cy.zoom(),S=n.bgActivePosistion;H.fillStyle="rgba("+w["active-bg-color"].value[0]+","+w["active-bg-color"].value[1]+","+w["active-bg-color"].value[2]+","+w["active-bg-opacity"].value+")",H.beginPath(),H.arc(S.x,S.y,w["active-bg-size"].pfValue/x,0,2*Math.PI),H.fill()}var T=k.lastRedrawTime;if(k.showFps&&T){T=Math.round(T);var U=Math.round(1e3/T);H.setTransform(1,0,0,1,0,0),H.fillStyle="rgba(255, 0, 0, 0.75)",H.strokeStyle="rgba(255, 0, 0, 0.75)",H.lineWidth=1,H.fillText("1 frame = "+T+" ms = "+U+" fps",0,20);var V=60;H.strokeRect(0,30,250,20),H.fillRect(0,30,250*Math.min(U/V,1),20)}g||(o[k.SELECT_BOX]=!1)}if(q&&1!==r){var W=n.contexts[k.NODE],X=k.data.bufferCanvases[k.MOTIONBLUR_BUFFER_NODE],Y=n.contexts[k.DRAG],Z=k.data.bufferCanvases[k.MOTIONBLUR_BUFFER_DRAG],$=function(a,c,d){a.setTransform(1,0,0,1,0,0),d||!v?a.clearRect(0,0,k.canvasWidth,k.canvasHeight):b(a,0,0,k.canvasWidth,k.canvasHeight);var e=r;a.drawImage(c,0,0,k.canvasWidth*e,k.canvasHeight*e,0,0,k.canvasWidth,k.canvasHeight)};(o[k.NODE]||O[k.NODE])&&($(W,X,O[k.NODE]),o[k.NODE]=!1),(o[k.DRAG]||O[k.DRAG])&&($(Y,Z,O[k.DRAG]),o[k.DRAG]=!1)}k.prevViewport=B,k.clearingMotionBlur&&(k.clearingMotionBlur=!1,k.motionBlurCleared=!0,k.motionBlur=!0),q&&(k.motionBlurTimeout=setTimeout(function(){k.motionBlurTimeout=null,k.clearedForMotionBlur[k.NODE]=!1,k.clearedForMotionBlur[k.DRAG]=!1,k.motionBlur=!1,k.clearingMotionBlur=!p,k.mbFrames=0,o[k.NODE]=!0,o[k.DRAG]=!0,k.redraw()},f)),k.drawingImage=!1,d||k.initrender||(k.initrender=!0,m.trigger("initrender")),d||m.trigger("render")},b.exports=d},{"../../../util":100}],71:[function(a,b,c){"use strict";var d=a("../../../math"),e={};e.drawPolygonPath=function(a,b,c,d,e,f){var g=d/2,h=e/2;a.beginPath&&a.beginPath(),a.moveTo(b+g*f[0],c+h*f[1]);for(var i=1;i<f.length/2;i++)a.lineTo(b+g*f[2*i],c+h*f[2*i+1]);a.closePath()},e.drawRoundRectanglePath=function(a,b,c,e,f){var g=e/2,h=f/2,i=d.getRoundRectangleRadius(e,f);a.beginPath&&a.beginPath(),a.moveTo(b,c-h),a.arcTo(b+g,c-h,b+g,c,i),a.arcTo(b+g,c+h,b,c+h,i),a.arcTo(b-g,c+h,b-g,c,i),a.arcTo(b-g,c-h,b,c-h,i),a.lineTo(b,c-h),a.closePath()};for(var f=Math.sin(0),g=Math.cos(0),h={},i={},j=Math.PI/40,k=0*Math.PI;k<2*Math.PI;k+=j)h[k]=Math.sin(k),i[k]=Math.cos(k);e.drawEllipsePath=function(a,b,c,d,e){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(b,c,d/2,e/2,0,0,2*Math.PI);else for(var k,l,m=d/2,n=e/2,o=0*Math.PI;o<2*Math.PI;o+=j)k=b-m*h[o]*f+m*i[o]*g,l=c+n*i[o]*f+n*h[o]*g,0===o?a.moveTo(k,l):a.lineTo(k,l);a.closePath()},b.exports=e},{"../../../math":85}],72:[function(a,b,c){"use strict";var d=a("../../../math"),e=a("../../../util"),f=a("../../../heap"),g=a("./texture-cache-defs"),h=25,i=50,j=-4,k=2,l=3.99,m=8,n=1024,o=1024,p=1024,q=.5,r=.8,s=10,t=!1,u=!1,v=.15,w=.1,x=.9,y=.9,z=100,A=1,B={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},C=function(a){var b=this;b.renderer=a,b.onDequeues=[],b.setupDequeueing()},D=C.prototype;D.reasons=B,D.getTextureQueue=function(a){var b=this;return b.eleImgCaches=b.eleImgCaches||{},b.eleImgCaches[a]=b.eleImgCaches[a]||[]},D.getRetiredTextureQueue=function(a){var b=this,c=b.eleImgCaches.retired=b.eleImgCaches.retired||{},d=c[a]=c[a]||[];return d},D.getElementQueue=function(){var a=this,b=a.eleCacheQueue=a.eleCacheQueue||new f(function(a,b){return b.reqs-a.reqs});return b},D.getElementIdToQueue=function(){var a=this,b=a.eleIdToCacheQueue=a.eleIdToCacheQueue||{};return b},D.getElement=function(a,b,c,e,f){var g=this,n=this.renderer,q=a._private.rscratch,r=n.cy.zoom();if(0===b.w||0===b.h)return null;if(null==e&&(e=Math.ceil(d.log2(r*c))),j>e)e=j;else if(r>=l||e>k)return null;var s=Math.pow(2,e),v=b.h*s,w=b.w*s,x=q.imgCaches=q.imgCaches||{},y=x[e];if(y)return y;var z;if(z=h>=v?h:i>=v?i:Math.ceil(v/i)*i,v>p||w>o||!t&&a.isEdge()||!u&&a.isParent())return null;var A=g.getTextureQueue(z),C=A[A.length-2],D=function(){return g.recycleTexture(z,w)||g.addTexture(z,w)};C||(C=A[A.length-1]),C||(C=D()),C.width-C.usedWidth<w&&(C=D());for(var E,F=n.eleTextBiggerThanMin(a,s),G=function(a){return a&&a.scaledLabelShown===F},H=f&&f===B.dequeue,I=f&&f===B.highQuality,J=f&&f===B.downscale,K=e+1;k>=K;K++){var L=x[K];if(L){E=L;break}}var M=E&&E.level===e+1?E:null,N=function(){C.context.drawImage(M.texture.canvas,M.x,0,M.width,M.height,C.usedWidth,0,w,v)};if(G(M))N();else if(G(E)){if(!I)return g.queueElement(a,b,E.level-1),E;for(var K=E.level;K>e;K--)M=g.getElement(a,b,c,K,B.downscale);N()}else{var O;if(!H&&!I&&!J)for(var K=e-1;K>=j;K--){var L=x[K];if(L){O=L;break}}if(G(O))return g.queueElement(a,b,e),O;C.context.translate(C.usedWidth,0),C.context.scale(s,s),n.drawElement(C.context,a,b,F),C.context.scale(1/s,1/s),C.context.translate(-C.usedWidth,0)}return y=x[e]={ele:a,x:C.usedWidth,texture:C,level:e,scale:s,width:w,height:v,scaledLabelShown:F},C.usedWidth+=Math.ceil(w+m),C.eleCaches.push(y),g.checkTextureFullness(C),y},D.invalidateElement=function(a){var b=this,c=a._private.rscratch.imgCaches;if(c)for(var d=j;k>=d;d++){var f=c[d];if(f){var g=f.texture;g.invalidatedWidth+=f.width,c[d]=null,e.removeFromArray(g.eleCaches,f),b.checkTextureUtility(g)}}},D.checkTextureUtility=function(a){a.invalidatedWidth>=q*a.width&&this.retireTexture(a)},D.checkTextureFullness=function(a){var b=this,c=b.getTextureQueue(a.height);a.usedWidth/a.width>r&&a.fullnessChecks>=s?e.removeFromArray(c,a):a.fullnessChecks++},D.retireTexture=function(a){var b=this,c=a.height,d=b.getTextureQueue(c);e.removeFromArray(d,a),a.retired=!0;for(var f=a.eleCaches,g=0;g<f.length;g++){var h=f[g],i=h.ele,j=h.level,k=i._private.rscratch.imgCaches;k&&(k[j]=null)}e.clearArray(f);var l=b.getRetiredTextureQueue(c);l.push(a)},D.addTexture=function(a,b){var c=this,d=c.getTextureQueue(a),e={};return d.push(e),e.eleCaches=[],e.height=a,e.width=Math.max(n,b),e.usedWidth=0,e.invalidatedWidth=0,e.fullnessChecks=0,e.canvas=document.createElement("canvas"),e.canvas.width=e.width,e.canvas.height=e.height,e.context=e.canvas.getContext("2d"),e},D.recycleTexture=function(a,b){for(var c=this,d=c.getTextureQueue(a),f=c.getRetiredTextureQueue(a),g=0;g<f.length;g++){var h=f[g];if(h.width>=b)return h.retired=!1,h.usedWidth=0,h.invalidatedWidth=0,h.fullnessChecks=0,e.clearArray(h.eleCaches),h.context.clearRect(0,0,h.width,h.height),e.removeFromArray(f,h),d.push(h),h}},D.queueElement=function(a,b,c){var e=this,f=e.getElementQueue(),g=e.getElementIdToQueue(),h=a.id(),i=g[h];if(i)i.level=Math.max(i.level,c),i.reqs++,f.updateItem(i);else{var j={ele:a,bb:b,position:d.copyPosition(a.position()),level:c,reqs:1};a.isEdge()&&(j.positions={source:d.copyPosition(a.source().position()),target:d.copyPosition(a.target().position())}),f.push(j),g[h]=j}},D.dequeue=function(a,b){for(var c=this,e=c.getElementQueue(),f=c.getElementIdToQueue(),g=[],h=0;A>h&&e.size()>0;h++){var i=e.pop();f[i.ele.id()]=null,g.push(i);var j,k=i.ele;j=(!k.isEdge()||d.arePositionsSame(k.source().position(),i.positions.source)&&d.arePositionsSame(k.target().position(),i.positions.target))&&d.arePositionsSame(k.position(),i.position)?i.bb:k.boundingBox(),c.getElement(i.ele,j,a,i.level,B.dequeue)}return g},D.onDequeue=function(a){this.onDequeues.push(a)},D.offDequeue=function(a){e.removeFromArray(this.onDequeues,a)},D.setupDequeueing=g.setupDequeueing({deqRedrawThreshold:z,deqCost:v,deqAvgCost:w,deqNoDrawCost:x,deqFastCost:y,deq:function(a,b,c){return a.dequeue(b,c)},onDeqd:function(a,b){for(var c=0;c<a.onDequeues.length;c++){var d=a.onDequeues[c];d(b)}},shouldRedraw:function(a,b,c,e){for(var f=0;f<b.length;f++){var g=b[f].bb;if(d.boundingBoxesIntersect(g,e))return!0}return!1},priority:function(a){return a.renderer.beforeRenderPriorities.eleTxrDeq}}),b.exports=C},{"../../../heap":81,"../../../math":85,"../../../util":100,"./texture-cache-defs":77}],73:[function(a,b,c){"use strict";var d=a("../../../is"),e={};e.createBuffer=function(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,[c,c.getContext("2d")]},e.bufferCanvasImage=function(a){var b=this.cy,c=b.mutableElements(),e=c.boundingBox(),f=this.findContainerClientCoords(),g=a.full?Math.ceil(e.w):f[2],h=a.full?Math.ceil(e.h):f[3],i=d.number(a.maxWidth)||d.number(a.maxHeight),j=this.getPixelRatio(),k=1;if(void 0!==a.scale)g*=a.scale,h*=a.scale,k=a.scale;else if(i){var l=1/0,m=1/0;d.number(a.maxWidth)&&(l=k*a.maxWidth/g),d.number(a.maxHeight)&&(m=k*a.maxHeight/h),k=Math.min(l,m),g*=k,h*=k}i||(g*=j,h*=j,k*=j);var n=document.createElement("canvas");n.width=g,n.height=h,n.style.width=g+"px",n.style.height=h+"px";var o=n.getContext("2d");if(g>0&&h>0){o.clearRect(0,0,g,h),a.bg&&(o.fillStyle=a.bg,o.rect(0,0,g,h),o.fill()),o.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(a.full)o.translate(-e.x1*k,-e.y1*k),o.scale(k,k),this.drawElements(o,p);else{var q=b.pan(),r={x:q.x*k,y:q.y*k};k*=b.zoom(),o.translate(r.x,r.y),o.scale(k,k),this.drawElements(o,p)}}return n},e.png=function(a){return this.bufferCanvasImage(a).toDataURL("image/png")},e.jpg=function(a){return this.bufferCanvasImage(a).toDataURL("image/jpeg")},b.exports=e},{"../../../is":83}],74:[function(a,b,c){"use strict";function d(a){var b=this;b.data={canvases:new Array(j.CANVAS_LAYERS),contexts:new Array(j.CANVAS_LAYERS),canvasNeedsRedraw:new Array(j.CANVAS_LAYERS),bufferCanvases:new Array(j.BUFFER_COUNT),bufferContexts:new Array(j.CANVAS_LAYERS)},b.data.canvasContainer=document.createElement("div");var c=b.data.canvasContainer.style;b.data.canvasContainer.setAttribute("style","-webkit-tap-highlight-color: rgba(0,0,0,0);"),c.position="relative",c.zIndex="0",c.overflow="hidden";var d=a.cy.container();d.appendChild(b.data.canvasContainer),d.setAttribute("style",(d.getAttribute("style")||"")+"-webkit-tap-highlight-color: rgba(0,0,0,0);");for(var e=0;e<j.CANVAS_LAYERS;e++){var i=b.data.canvases[e]=document.createElement("canvas");b.data.contexts[e]=i.getContext("2d"),i.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(f.ms()?" -ms-touch-action: none; touch-action: none; ":"")),i.style.position="absolute",i.setAttribute("data-id","layer"+e),i.style.zIndex=String(j.CANVAS_LAYERS-e),b.data.canvasContainer.appendChild(i),b.data.canvasNeedsRedraw[e]=!1}b.data.topCanvas=b.data.canvases[0],b.data.canvases[j.NODE].setAttribute("data-id","layer"+j.NODE+"-node"),b.data.canvases[j.SELECT_BOX].setAttribute("data-id","layer"+j.SELECT_BOX+"-selectbox"),b.data.canvases[j.DRAG].setAttribute("data-id","layer"+j.DRAG+"-drag");for(var e=0;e<j.BUFFER_COUNT;e++)b.data.bufferCanvases[e]=document.createElement("canvas"),b.data.bufferContexts[e]=b.data.bufferCanvases[e].getContext("2d"),b.data.bufferCanvases[e].style.position="absolute",b.data.bufferCanvases[e].setAttribute("data-id","buffer"+e),b.data.bufferCanvases[e].style.zIndex=String(-e-1),b.data.bufferCanvases[e].style.visibility="hidden";b.pathsEnabled=!0,b.data.eleTxrCache=new g(b),b.data.lyrTxrCache=new h(b,b.data.eleTxrCache),b.onUpdateEleCalcs(function(a,c){for(var d=0;d<c.length;d++){var e=c[d],f=e._private.rstyle,g=f.dirtyEvents;e.isNode()&&g&&1===g.length&&g.position||b.data.eleTxrCache.invalidateElement(e)}c.length>0&&b.data.lyrTxrCache.invalidateElements(c)})}var e=a("../../../util"),f=a("../../../is"),g=a("./ele-texture-cache"),h=a("./layered-texture-cache"),i=d,j=d.prototype;j.CANVAS_LAYERS=3,j.SELECT_BOX=0,j.DRAG=1,j.NODE=2,j.BUFFER_COUNT=3,j.TEXTURE_BUFFER=0,j.MOTIONBLUR_BUFFER_NODE=1,j.MOTIONBLUR_BUFFER_DRAG=2,j.redrawHint=function(a,b){var c=this;switch(a){case"eles":c.data.canvasNeedsRedraw[j.NODE]=b;break;case"drag":c.data.canvasNeedsRedraw[j.DRAG]=b;break;case"select":c.data.canvasNeedsRedraw[j.SELECT_BOX]=b}};var k="undefined"!=typeof Path2D;j.path2dEnabled=function(a){return void 0===a?this.pathsEnabled:void(this.pathsEnabled=a?!0:!1)},j.usePaths=function(){return k&&this.pathsEnabled},[a("./arrow-shapes"),a("./drawing-elements"),a("./drawing-edges"),a("./drawing-images"),a("./drawing-label-text"),a("./drawing-nodes"),a("./drawing-redraw"),a("./drawing-shapes"),a("./export-image"),a("./node-shapes")].forEach(function(a){e.extend(j,a)}),b.exports=i},{"../../../is":83,"../../../util":100,"./arrow-shapes":64,"./drawing-edges":65,"./drawing-elements":66,"./drawing-images":67,"./drawing-label-text":68,"./drawing-nodes":69,"./drawing-redraw":70,"./drawing-shapes":71,"./ele-texture-cache":72,"./export-image":73,"./layered-texture-cache":75,"./node-shapes":76}],75:[function(a,b,c){"use strict";function d(a,b){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)}var e=a("../../../util"),f=a("../../../math"),g=a("../../../heap"),h=a("../../../is"),i=a("./texture-cache-defs"),j=1,k=-4,l=2,m=3.99,n=50,o=50,p=!0,q=.15,r=.1,s=.9,t=.9,u=1,v=250,w=16e6,x=!0,y=!0,z=!0,A=function(a,b){var c=this,d=c.renderer=a;c.layersByLevel={},c.firstGet=!0,c.lastInvalidationTime=e.performanceNow()-2*v,c.skipping=!1,d.beforeRender(function(a,b){b-c.lastInvalidationTime<=v?c.skipping=!0:c.skipping=!1});var f=function(a,b){return b.reqs-a.reqs};c.layersQueue=new g(f),c.eleTxrCache=b,c.setupEleCacheInvalidation(),c.setupDequeueing()},B=A.prototype,C=0,D=Math.pow(2,53)-1;B.makeLayer=function(a,b){var c=Math.pow(2,b),d=Math.ceil(a.w*c),e=Math.ceil(a.h*c),f=document.createElement("canvas");f.width=d,f.height=e;var g={id:C=++C%D,bb:a,level:b,width:d,height:e,canvas:f,context:f.getContext("2d"),eles:[],elesQueue:[],reqs:0},h=g.context,i=-g.bb.x1,j=-g.bb.y1;return h.scale(c,c),h.translate(i,j),g},B.getLayers=function(a,b,c){var d=this,g=d.renderer,h=g.cy,i=h.zoom(),n=d.firstGet;if(d.firstGet=!1,null==c)if(c=Math.ceil(f.log2(i*b)),k>c)c=k;else if(i>=m||c>l)return null;d.validateLayersElesOrdering(c,a);var o,p,q=d.layersByLevel,r=Math.pow(2,c),s=q[c]=q[c]||[],t=d.levelIsComplete(c,a),u=function(){var b=function(b){return d.validateLayersElesOrdering(b,a),d.levelIsComplete(b,a)?(p=q[b],!0):void 0},f=function(a){if(!p)for(var d=c+a;d>=k&&l>=d&&!b(d);d+=a);};f(1),f(-1);for(var g=s.length-1;g>=0;g--){var h=s[g];h.invalid&&e.removeFromArray(s,h)}};if(t)return s;u();var v=function(){if(!o){o=f.makeBoundingBox();for(var b=0;b<a.length;b++)f.updateBoundingBox(o,a[b].boundingBox())}return o},y=function(a){a=a||{};var b=a.after;v();var e=o.w*r*(o.h*r);if(e>w)return null;var f=d.makeLayer(o,c);if(null!=b){var g=s.indexOf(b)+1;s.splice(g,0,f)}else(void 0===a.insert||a.insert)&&s.unshift(f);return f};if(d.skipping&&!n)return null;for(var z=null,A=a.length/j,B=x&&!n,C=0;C<a.length;C++){var D=a[C],E=D._private.rscratch,F=E.imgLayerCaches=E.imgLayerCaches||{},G=F[c];if(G)z=G;else{if((!z||z.eles.length>=A||!f.boundingBoxInBoundingBox(z.bb,D.boundingBox()))&&(z=y({insert:!0,after:z}),!z))return null;p||B?d.queueLayer(z,D):d.drawEleInLayer(z,D,c,b),z.eles.push(D),F[c]=z}}return p?p:B?null:s},B.getEleLevelForLayerLevel=function(a,b){return a},B.drawEleInLayer=function(a,b,c,e){var f=this,g=this.renderer,h=a.context,i=b.boundingBox();if(0!==i.w&&0!==i.h){var j=f.eleTxrCache,k=y?j.reasons.highQuality:void 0;c=f.getEleLevelForLayerLevel(c,e);var l=z?j.getElement(b,i,null,c,k):null;l?(p&&d(h,!1),h.drawImage(l.texture.canvas,l.x,0,l.width,l.height,i.x1,i.y1,i.w,i.h),p&&d(h,!0)):g.drawElement(h,b)}},B.levelIsComplete=function(a,b){var c=this,d=c.layersByLevel[a];if(!d||0===d.length)return!1;for(var e=0,f=0;f<d.length;f++){var g=d[f];if(g.reqs>0)return!1;if(g.invalid)return!1;e+=g.eles.length}return e!==b.length?!1:!0},B.validateLayersElesOrdering=function(a,b){var c=this.layersByLevel[a];if(c)for(var d=0;d<c.length;d++){for(var e=c[d],f=-1,g=0;g<b.length;g++)if(e.eles[0]===b[g]){f=g;break}if(0>f)this.invalidateLayer(e);else for(var h=f,g=0;g<e.eles.length;g++)if(e.eles[g]!==b[h+g]){this.invalidateLayer(e);break}}},B.updateElementsInLayers=function(a,b){for(var c=this,d=h.element(a[0]),e=0;e<a.length;e++)for(var f=d?null:a[e],g=d?a[e]:a[e].ele,i=g._private.rscratch,j=i.imgLayerCaches=i.imgLayerCaches||{},m=k;l>=m;m++){var n=j[m];n&&(f&&c.getEleLevelForLayerLevel(n.level)!==f.level||b(n,g,f))}},B.haveLayers=function(){for(var a=this,b=!1,c=k;l>=c;c++){var d=a.layersByLevel[c];if(d&&d.length>0){b=!0;break}}return b},B.invalidateElements=function(a){var b=this;b.lastInvalidationTime=e.performanceNow(),0!==a.length&&b.haveLayers()&&b.updateElementsInLayers(a,function(a,c,d){b.invalidateLayer(a)})},B.invalidateLayer=function(a){if(this.lastInvalidationTime=e.performanceNow(),!a.invalid){var b=a.level,c=a.eles,d=this.layersByLevel[b];e.removeFromArray(d,a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var f=0;f<c.length;f++){var g=c[f]._private.rscratch.imgLayerCaches;g&&(g[b]=null)}}},B.refineElementTextures=function(a){var b=this;b.updateElementsInLayers(a,function(a,c,d){var e=a.replacement;if(e||(e=a.replacement=b.makeLayer(a.bb,a.level),e.replaces=a,e.eles=a.eles),!e.reqs)for(var f=0;f<e.eles.length;f++)b.queueLayer(e,e.eles[f])})},B.setupEleCacheInvalidation=function(){var a=this,b=[];if(z){var c=e.debounce(function(){a.refineElementTextures(b),b=[]},o);a.eleTxrCache.onDequeue(function(a){for(var d=0;d<a.length;d++)b.push(a[d]);c()})}},B.queueLayer=function(a,b){var c=this,d=c.layersQueue,e=a.elesQueue,f=e.hasId=e.hasId||{};if(!a.replacement){if(b){if(f[b.id()])return;e.push(b),f[b.id()]=!0}a.reqs?(a.reqs++,d.updateItem(a)):(a.reqs=1,d.push(a))}},B.dequeue=function(a){for(var b=this,c=b.layersQueue,d=[],e=0;u>e&&0!==c.size();){var f=c.peek();if(f.replacement)c.pop();else if(f.replaces&&f!==f.replaces.replacement)c.pop();else if(f.invalid)c.pop();else{var g=f.elesQueue.shift();g&&(b.drawEleInLayer(f,g,f.level,a),e++),0===d.length&&d.push(!0),0===f.elesQueue.length&&(c.pop(),f.reqs=0,f.replaces&&b.applyLayerReplacement(f),b.requestRedraw())}}return d},B.applyLayerReplacement=function(a){var b=this,c=b.layersByLevel[a.level],d=a.replaces,e=c.indexOf(d);if(!(0>e||d.invalid)){c[e]=a;for(var f=0;f<a.eles.length;f++){var g=a.eles[f]._private,h=g.imgLayerCaches=g.imgLayerCaches||{};h&&(h[a.level]=a)}b.requestRedraw()}},B.requestRedraw=e.debounce(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),B.setupDequeueing=i.setupDequeueing({deqRedrawThreshold:n,deqCost:q,deqAvgCost:r,deqNoDrawCost:s,deqFastCost:t,deq:function(a,b){return a.dequeue(b)},onDeqd:e.noop,shouldRedraw:e.trueify,priority:function(a){return a.renderer.beforeRenderPriorities.lyrTxrDeq}}),b.exports=A},{"../../../heap":81,"../../../is":83,"../../../math":85,"../../../util":100,"./texture-cache-defs":77}],76:[function(a,b,c){"use strict";var d={};d.nodeShapeImpl=function(a,b,c,d,e,f,g){switch(a){case"ellipse":return this.drawEllipsePath(b,c,d,e,f);case"polygon":return this.drawPolygonPath(b,c,d,e,f,g);case"roundrectangle":return this.drawRoundRectanglePath(b,c,d,e,f)}},b.exports=d},{}],77:[function(a,b,c){"use strict";var d=a("../../../util"),e=1e3/60;b.exports={setupDequeueing:function(a){return function(){var b=this,c=this.renderer;if(!b.dequeueingSetup){b.dequeueingSetup=!0;var f=d.debounce(function(){c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},a.deqRedrawThreshold),g=function(g,h){for(var i=d.performanceNow(),j=c.averageRedrawTime,k=c.lastRedrawTime,l=[],m=c.cy.extent(),n=c.getPixelRatio();;){var o=d.performanceNow(),p=o-i,q=o-h;if(e>k){var r=e-(g?j:0);if(q>=a.deqFastCost*r)break}else if(g){if(p>=a.deqCost*k||p>=a.deqAvgCost*j)break}else if(q>=a.deqNoDrawCost*e)break;var s=a.deq(b,n,m);if(!(s.length>0))break;for(var t=0;t<s.length;t++)l.push(s[t])}l.length>0&&(a.onDeqd(b,l),!g&&a.shouldRedraw(b,l,n,m)&&f())},h=a.priority||d.noop;c.beforeRender(g,h(b))}}}}},{"../../../util":100}],78:[function(a,b,c){"use strict";b.exports=[{name:"null",impl:a("./null")},{name:"base",impl:a("./base")},{name:"canvas",impl:a("./canvas")}]},{"./base":60,"./canvas":74,"./null":79}],79:[function(a,b,c){"use strict";function d(a){this.options=a,this.notifications=0}var e=function(){};d.prototype={recalculateRenderedStyle:e,notify:function(){this.notifications++},init:e},b.exports=d},{}],80:[function(a,b,c){"use strict";var d=a("./is"),e=a("./util"),f=a("./thread"),g=a("./promise"),h=a("./define"),i=function(b){if(!(this instanceof i))return new i(b);this._private={pass:[]};var c=4;if(d.number(b),"undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency)b=navigator.hardwareConcurrency;else try{b=a("os").cpus().length}catch(e){b=c}for(var g=0;b>g;g++)this[g]=new f;this.length=b},j=i.prototype;e.extend(j,{instanceString:function(){return"fabric"},require:function(a,b){for(var c=0;c<this.length;c++){var d=this[c];d.require(a,b)}return this},random:function(){var a=Math.round((this.length-1)*Math.random()),b=this[a];return b},run:function(a){var b=this._private.pass.shift();return this.random().pass(b).run(a)},message:function(a){return this.random().message(a)},broadcast:function(a){for(var b=0;b<this.length;b++){var c=this[b];c.message(a)}return this},stop:function(){for(var a=0;a<this.length;a++){var b=this[a];b.stop()}return this},pass:function(a){var b=this._private.pass;if(!d.array(a))throw"Only arrays may be used with fabric.pass()";return b.push(a),this},spreadSize:function(){var a=Math.ceil(this._private.pass[0].length/this.length);return a=Math.max(1,a)},spread:function(a){for(var b=this,c=b._private,d=b.spreadSize(),e=c.pass.shift().concat([]),f=[],h=0;h<this.length;h++){var i=this[h],j=e.splice(0,d),k=i.pass(j).run(a);f.push(k);var l=0===e.length;if(l)break}return g.all(f).then(function(a){for(var b=[],c=0,d=0;d<a.length;d++)for(var e=a[d],f=0;f<e.length;f++){var g=e[f];b[c++]=g}return b})},map:function(a){var b=this;return b.require(a,"_$_$_fabmap"),b.spread(function(a){var b=[],c=resolve;resolve=function(a){b.push(a)};for(var d=0;d<a.length;d++){var e=b.length,f=_$_$_fabmap(a[d]),g=e===b.length;g&&b.push(f)}return resolve=c,b})},filter:function(a){var b=this._private,c=b.pass[0];return this.map(a).then(function(a){for(var b=[],d=0;d<c.length;d++){var e=c[d],f=a[d];f&&b.push(e)}return b})},sort:function(a){var b=this,c=this._private.pass[0].length,d=this.spreadSize();return a=a||function(a,b){return b>a?-1:a>b?1:0},b.require(a,"_$_$_cmp"),b.spread(function(a){var b=a.sort(_$_$_cmp);resolve(b)}).then(function(b){for(var e=function(d,e,f){e=Math.min(e,c),f=Math.min(f,c);for(var g=d,h=e,i=[],j=g;f>j;j++){var k=b[d],l=b[e];h>d&&(e>=f||a(k,l)<=0)?(i.push(k),d++):(i.push(l),e++)}for(var j=0;j<i.length;j++){var m=g+j;b[m]=i[j]}},f=d;c>f;f*=2)for(var g=0;c>g;g+=2*f)e(g,g+f,g+2*f);return b})}});var k=function(a){return a=a||{},function(b,c){var d=this._private.pass.shift();return this.random().pass(d)[a.threadFn](b,c)}};e.extend(j,{randomMap:k({threadFn:"map"}),reduce:k({threadFn:"reduce"}),reduceRight:k({threadFn:"reduceRight"})});var l=j;l.promise=l.run,l.terminate=l.halt=l.stop,l.include=l.require,e.extend(j,{on:h.on(),one:h.on({unbindSelfOnTrigger:!0}),off:h.off(),trigger:h.trigger()}),h.eventAliasesOn(j),b.exports=i},{"./define":44,"./is":83,"./promise":86,"./thread":98,"./util":100,os:void 0}],81:[function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;f=Math.floor,m=Math.min,e=function(a,b){return b>a?-1:a>b?1:0},l=function(a,b,c,d,g){var h;if(null==c&&(c=0),null==g&&(g=e),0>c)throw new Error("lo must be non-negative");for(null==d&&(d=a.length);d>c;)h=f((c+d)/2),g(b,a[h])<0?d=h:c=h+1;return[].splice.apply(a,[c,c-c].concat(b)),b},i=function(a,b,c){return null==c&&(c=e),a.push(b),q(a,0,a.length-1,c)},h=function(a,b){var c,d;return null==b&&(b=e),c=a.pop(),a.length?(d=a[0],a[0]=c,r(a,0,b)):d=c,d},k=function(a,b,c){var d;return null==c&&(c=e),d=a[0],a[0]=b,r(a,0,c),d},j=function(a,b,c){var d;return null==c&&(c=e),a.length&&c(a[0],b)<0&&(d=[a[0],b],b=d[0],a[0]=d[1],r(a,0,c)),b},g=function(a,b){var c,d,g,h,i,j;for(null==b&&(b=e),h=function(){j=[];for(var b=0,c=f(a.length/2);c>=0?c>b:b>c;c>=0?b++:b--)j.push(b);return j}.apply(this).reverse(),i=[],d=0,g=h.length;g>d;d++)c=h[d],i.push(r(a,c,b));return i},p=function(a,b,c){var d;return null==c&&(c=e),d=a.indexOf(b),-1!==d?(q(a,0,d,c),r(a,d,c)):void 0},n=function(a,b,c){var d,f,h,i,k;if(null==c&&(c=e),f=a.slice(0,b),!f.length)return f;for(g(f,c),k=a.slice(b),h=0,i=k.length;i>h;h++)d=k[h],j(f,d,c);return f.sort(c).reverse()},o=function(a,b,c){var d,f,i,j,k,n,o,p,q,r;if(null==c&&(c=e),10*b<=a.length){if(j=a.slice(0,b).sort(c),!j.length)return j;for(i=j[j.length-1],p=a.slice(b),k=0,o=p.length;o>k;k++)d=p[k],c(d,i)<0&&(l(j,d,0,null,c),j.pop(),i=j[j.length-1]);return j}for(g(a,c),r=[],f=n=0,q=m(b,a.length);q>=0?q>n:n>q;f=q>=0?++n:--n)r.push(h(a,c));return r},q=function(a,b,c,d){var f,g,h;for(null==d&&(d=e),f=a[c];c>b&&(h=c-1>>1,g=a[h],d(f,g)<0);)a[c]=g,c=h;return a[c]=f},r=function(a,b,c){var d,f,g,h,i;for(null==c&&(c=e),f=a.length,i=b,g=a[b],d=2*b+1;f>d;)h=d+1,f>h&&!(c(a[d],a[h])<0)&&(d=h),a[b]=a[d],b=d,d=2*b+1;return a[b]=g,q(a,i,b,c)},d=function(){function a(a){this.cmp=null!=a?a:e,this.nodes=[]}return a.push=i,a.pop=h,
a.replace=k,a.pushpop=j,a.heapify=g,a.updateItem=p,a.nlargest=n,a.nsmallest=o,a.prototype.push=function(a){return i(this.nodes,a,this.cmp)},a.prototype.pop=function(){return h(this.nodes,this.cmp)},a.prototype.peek=function(){return this.nodes[0]},a.prototype.contains=function(a){return-1!==this.nodes.indexOf(a)},a.prototype.replace=function(a){return k(this.nodes,a,this.cmp)},a.prototype.pushpop=function(a){return j(this.nodes,a,this.cmp)},a.prototype.heapify=function(){return g(this.nodes,this.cmp)},a.prototype.updateItem=function(a){return p(this.nodes,a,this.cmp)},a.prototype.clear=function(){return this.nodes=[]},a.prototype.empty=function(){return 0===this.nodes.length},a.prototype.size=function(){return this.nodes.length},a.prototype.clone=function(){var b;return b=new a,b.nodes=this.nodes.slice(0),b},a.prototype.toArray=function(){return this.nodes.slice(0)},a.prototype.insert=a.prototype.push,a.prototype.top=a.prototype.peek,a.prototype.front=a.prototype.peek,a.prototype.has=a.prototype.contains,a.prototype.copy=a.prototype.clone,a}(),b.exports=d},{}],82:[function(a,b,c){"use strict";a("./-preamble");var d=a("./window"),e=a("./is"),f=a("./core"),g=a("./extension"),h=a("./jquery-plugin"),i=a("./stylesheet"),j=a("./thread"),k=a("./fabric"),l=function(a){return void 0===a&&(a={}),e.plainObject(a)?new f(a):e.string(a)?g.apply(g,arguments):void 0};l.version=a("./version"),d&&d.jQuery&&h(d.jQuery,l),l.registerJquery=function(a){h(a,l)},l.stylesheet=l.Stylesheet=i,l.thread=l.Thread=j,l.fabric=l.Fabric=k,b.exports=l},{"./-preamble":1,"./core":37,"./extension":46,"./fabric":80,"./is":83,"./jquery-plugin":84,"./stylesheet":97,"./thread":98,"./version":106,"./window":107}],83:[function(a,b,c){"use strict";var d=a("./window"),e=d?d.navigator:null,f=d?d.document:null,g="string",h=typeof{},i="function",j=typeof HTMLElement,k=function(a){return a&&a.instanceString&&l.fn(a.instanceString)?a.instanceString():null},l={defined:function(a){return null!=a},string:function(a){return null!=a&&typeof a==g},fn:function(a){return null!=a&&typeof a===i},array:function(a){return Array.isArray?Array.isArray(a):null!=a&&a instanceof Array},plainObject:function(a){return null!=a&&typeof a===h&&!l.array(a)&&a.constructor===Object},object:function(a){return null!=a&&typeof a===h},number:function(a){return null!=a&&"number"==typeof a&&!isNaN(a)},integer:function(a){return l.number(a)&&Math.floor(a)===a},bool:function(a){return null!=a&&typeof a==typeof!0},htmlElement:function(a){return"undefined"===j?void 0:null!=a&&a instanceof HTMLElement},elementOrCollection:function(a){return l.element(a)||l.collection(a)},element:function(a){return"collection"===k(a)&&a._private.single},collection:function(a){return"collection"===k(a)&&!a._private.single},core:function(a){return"core"===k(a)},style:function(a){return"style"===k(a)},stylesheet:function(a){return"stylesheet"===k(a)},event:function(a){return"event"===k(a)},thread:function(a){return"thread"===k(a)},fabric:function(a){return"fabric"===k(a)},emptyString:function(a){return void 0===a||null===a?!0:""===a||a.match(/^\s+$/)?!0:!1},nonemptyString:function(a){return a&&l.string(a)&&""!==a&&!a.match(/^\s+$/)?!0:!1},domElement:function(a){return"undefined"==typeof HTMLElement?!1:a instanceof HTMLElement},boundingBox:function(a){return l.plainObject(a)&&l.number(a.x1)&&l.number(a.x2)&&l.number(a.y1)&&l.number(a.y2)},promise:function(a){return l.object(a)&&l.fn(a.then)},touch:function(){return d&&("ontouchstart"in d||d.DocumentTouch&&f instanceof DocumentTouch)},gecko:function(){return d&&("undefined"!=typeof InstallTrigger||"MozAppearance"in f.documentElement.style)},webkit:function(){return d&&("undefined"!=typeof webkitURL||"WebkitAppearance"in f.documentElement.style)},chromium:function(){return d&&"undefined"!=typeof chrome},khtml:function(){return e&&e.vendor.match(/kde/i)},khtmlEtc:function(){return l.khtml()||l.webkit()||l.chromium()},ms:function(){return e&&e.userAgent.match(/msie|trident|edge/i)},windows:function(){return e&&e.appVersion.match(/Win/i)},mac:function(){return e&&e.appVersion.match(/Mac/i)},linux:function(){return e&&e.appVersion.match(/Linux/i)},unix:function(){return e&&e.appVersion.match(/X11/i)}};b.exports=l},{"./window":107}],84:[function(a,b,c){"use strict";var d=a("./is"),e=function(a){var b=a[0]._cyreg=a[0]._cyreg||{};return b},f=function(a,b){a&&(a.fn.cytoscape||(a.fn.cytoscape=function(c){var f=a(this);if("get"===c)return e(f).cy;if(d.fn(c)){var g=c,h=e(f).cy;if(h&&h.isReady())h.trigger("ready",[],g);else{var i=e(f),j=i.readies=i.readies||[];j.push(g)}}else if(d.plainObject(c))return f.each(function(){var d=a.extend({},c,{container:a(this)[0]});b(d)})},a.cytoscape=b,null==a.fn.cy&&null==a.cy&&(a.fn.cy=a.fn.cytoscape,a.cy=a.cytoscape)))};b.exports=f},{"./is":83}],85:[function(a,b,c){"use strict";var d={};d.arePositionsSame=function(a,b){return a.x===b.x&&a.y===b.y},d.copyPosition=function(a){return{x:a.x,y:a.y}},d.array2point=function(a){return{x:a[0],y:a[1]}},d.deg2rad=function(a){return Math.PI*a/180},d.log2=Math.log2||function(a){return Math.log(a)/Math.log(2)},d.signum=function(a){return a>0?1:0>a?-1:0},d.dist=function(a,b){return Math.sqrt(d.sqdist(a,b))},d.sqdist=function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},d.qbezierAt=function(a,b,c,d){return(1-d)*(1-d)*a+2*(1-d)*d*b+d*d*c},d.qbezierPtAt=function(a,b,c,e){return{x:d.qbezierAt(a.x,b.x,c.x,e),y:d.qbezierAt(a.y,b.y,c.y,e)}},d.lineAt=function(a,b,c,e){var f={x:b.x-a.x,y:b.y-a.y},g=d.dist(a,b),h={x:f.x/g,y:f.y/g};c=null==c?0:c;var e=null!=e?e:c*g;return{x:a.x+h.x*e,y:a.y+h.y*e}},d.lineAtDist=function(a,b,c){return d.lineAt(a,b,void 0,c)},d.triangleAngle=function(a,b,c){var e=d.dist(b,c),f=d.dist(a,c),g=d.dist(a,b);return Math.acos((e*e+f*f-g*g)/(2*e*f))},d.bound=function(a,b,c){return Math.max(a,Math.min(c,b))},d.makeBoundingBox=function(a){if(null==a)return{x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0),w:0,h:0};if(null!=a.x1&&null!=a.y1){if(null!=a.x2&&null!=a.y2&&a.x2>=a.x1&&a.y2>=a.y1)return{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,w:a.x2-a.x1,h:a.y2-a.y1};if(null!=a.w&&null!=a.h&&a.w>=0&&a.h>=0)return{x1:a.x1,y1:a.y1,x2:a.x1+a.w,y2:a.y1+a.h,w:a.w,h:a.h}}},d.updateBoundingBox=function(a,b){a.x1=Math.min(a.x1,b.x1),a.x2=Math.max(a.x2,b.x2),a.w=a.x2-a.x1,a.y1=Math.min(a.y1,b.y1),a.y2=Math.max(a.y2,b.y2),a.h=a.y2-a.y1},d.expandBoundingBox=function(a,b){return a.x1-=b,a.x2+=b,a.y1-=b,a.y2+=b,a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},d.boundingBoxesIntersect=function(a,b){return a.x1>b.x2?!1:b.x1>a.x2?!1:a.x2<b.x1?!1:b.x2<a.x1?!1:a.y2<b.y1?!1:b.y2<a.y1?!1:a.y1>b.y2?!1:b.y1>a.y2?!1:!0},d.inBoundingBox=function(a,b,c){return a.x1<=b&&b<=a.x2&&a.y1<=c&&c<=a.y2},d.pointInBoundingBox=function(a,b){return this.inBoundingBox(a,b.x,b.y)},d.boundingBoxInBoundingBox=function(a,b){return d.inBoundingBox(a,b.x1,b.y1)&&d.inBoundingBox(a,b.x2,b.y2)},d.roundRectangleIntersectLine=function(a,b,c,d,e,f,g){var h,i=this.getRoundRectangleRadius(e,f),j=e/2,k=f/2,l=c-j+i-g,m=d-k-g,n=c+j-i+g,o=m;if(h=this.finiteLinesIntersect(a,b,c,d,l,m,n,o,!1),h.length>0)return h;var p=c+j+g,q=d-k+i-g,r=p,s=d+k-i+g;if(h=this.finiteLinesIntersect(a,b,c,d,p,q,r,s,!1),h.length>0)return h;var t=c-j+i-g,u=d+k+g,v=c+j-i+g,w=u;if(h=this.finiteLinesIntersect(a,b,c,d,t,u,v,w,!1),h.length>0)return h;var x=c-j-g,y=d-k+i-g,z=x,A=d+k-i+g;if(h=this.finiteLinesIntersect(a,b,c,d,x,y,z,A,!1),h.length>0)return h;var B,C=c-j+i,D=d-k+i;if(B=this.intersectLineCircle(a,b,c,d,C,D,i+g),B.length>0&&B[0]<=C&&B[1]<=D)return[B[0],B[1]];var E=c+j-i,F=d-k+i;if(B=this.intersectLineCircle(a,b,c,d,E,F,i+g),B.length>0&&B[0]>=E&&B[1]<=F)return[B[0],B[1]];var G=c+j-i,H=d+k-i;if(B=this.intersectLineCircle(a,b,c,d,G,H,i+g),B.length>0&&B[0]>=G&&B[1]>=H)return[B[0],B[1]];var I=c-j+i,J=d+k-i;return B=this.intersectLineCircle(a,b,c,d,I,J,i+g),B.length>0&&B[0]<=I&&B[1]>=J?[B[0],B[1]]:[]},d.inLineVicinity=function(a,b,c,d,e,f,g){var h=g,i=Math.min(c,e),j=Math.max(c,e),k=Math.min(d,f),l=Math.max(d,f);return a>=i-h&&j+h>=a&&b>=k-h&&l+h>=b},d.inBezierVicinity=function(a,b,c,d,e,f,g,h,i){var j={x1:Math.min(c,g,e)-i,x2:Math.max(c,g,e)+i,y1:Math.min(d,h,f)-i,y2:Math.max(d,h,f)+i};return a<j.x1||a>j.x2||b<j.y1||b>j.y2?!1:!0},d.solveCubic=function(a,b,c,d,e){b/=a,c/=a,d/=a;var f,g,h,i,j,k,l,m;return g=(3*c-b*b)/9,h=-(27*d)+b*(9*c-2*(b*b)),h/=54,f=g*g*g+h*h,e[1]=0,l=b/3,f>0?(j=h+Math.sqrt(f),j=0>j?-Math.pow(-j,1/3):Math.pow(j,1/3),k=h-Math.sqrt(f),k=0>k?-Math.pow(-k,1/3):Math.pow(k,1/3),e[0]=-l+j+k,l+=(j+k)/2,e[4]=e[2]=-l,l=Math.sqrt(3)*(-k+j)/2,e[3]=l,void(e[5]=-l)):(e[5]=e[3]=0,0===f?(m=0>h?-Math.pow(-h,1/3):Math.pow(h,1/3),e[0]=-l+2*m,void(e[4]=e[2]=-(m+l))):(g=-g,i=g*g*g,i=Math.acos(h/Math.sqrt(i)),m=2*Math.sqrt(g),e[0]=-l+m*Math.cos(i/3),e[2]=-l+m*Math.cos((i+2*Math.PI)/3),void(e[4]=-l+m*Math.cos((i+4*Math.PI)/3))))},d.sqdistToQuadraticBezier=function(a,b,c,d,e,f,g,h){var i=1*c*c-4*c*e+2*c*g+4*e*e-4*e*g+g*g+d*d-4*d*f+2*d*h+4*f*f-4*f*h+h*h,j=9*c*e-3*c*c-3*c*g-6*e*e+3*e*g+9*d*f-3*d*d-3*d*h-6*f*f+3*f*h,k=3*c*c-6*c*e+c*g-c*a+2*e*e+2*e*a-g*a+3*d*d-6*d*f+d*h-d*b+2*f*f+2*f*b-h*b,l=1*c*e-c*c+c*a-e*a+d*f-d*d+d*b-f*b,m=[];this.solveCubic(i,j,k,l,m);for(var n=1e-7,o=[],p=0;6>p;p+=2)Math.abs(m[p+1])<n&&m[p]>=0&&m[p]<=1&&o.push(m[p]);o.push(1),o.push(0);for(var q,r,s,t,u=-1,v=0;v<o.length;v++)r=Math.pow(1-o[v],2)*c+2*(1-o[v])*o[v]*e+o[v]*o[v]*g,s=Math.pow(1-o[v],2)*d+2*(1-o[v])*o[v]*f+o[v]*o[v]*h,t=Math.pow(r-a,2)+Math.pow(s-b,2),u>=0?u>t&&(u=t,q=o[v]):(u=t,q=o[v]);return u},d.sqdistToFiniteLine=function(a,b,c,d,e,f){var g=[a-c,b-d],h=[e-c,f-d],i=h[0]*h[0]+h[1]*h[1],j=g[0]*g[0]+g[1]*g[1],k=g[0]*h[0]+g[1]*h[1],l=k*k/i;return 0>k?j:l>i?(a-e)*(a-e)+(b-f)*(b-f):j-l},d.pointInsidePolygonPoints=function(a,b,c){for(var d,e,f,g,h,i=0,j=0,k=0;k<c.length/2;k++)if(d=c[2*k],e=c[2*k+1],k+1<c.length/2?(f=c[2*(k+1)],g=c[2*(k+1)+1]):(f=c[2*(k+1-c.length/2)],g=c[2*(k+1-c.length/2)+1]),d==a&&f==a);else{if(!(d>=a&&a>=f||a>=d&&f>=a))continue;h=(a-d)/(f-d)*(g-e)+e,h>b&&i++,b>h&&j++}return i%2===0?!1:!0},d.pointInsidePolygon=function(a,b,c,e,f,g,h,i,j){var k,l=new Array(c.length);null!=i[0]?(k=Math.atan(i[1]/i[0]),i[0]<0?k+=Math.PI/2:k=-k-Math.PI/2):k=i;for(var m=Math.cos(-k),n=Math.sin(-k),o=0;o<l.length/2;o++)l[2*o]=g/2*(c[2*o]*m-c[2*o+1]*n),l[2*o+1]=h/2*(c[2*o+1]*m+c[2*o]*n),l[2*o]+=e,l[2*o+1]+=f;var p;if(j>0){var q=this.expandPolygon(l,-j);p=this.joinLines(q)}else p=l;return d.pointInsidePolygonPoints(a,b,p)},d.joinLines=function(a){for(var b,c,d,e,f,g,h,i,j=new Array(a.length/2),k=0;k<a.length/4;k++){b=a[4*k],c=a[4*k+1],d=a[4*k+2],e=a[4*k+3],k<a.length/4-1?(f=a[4*(k+1)],g=a[4*(k+1)+1],h=a[4*(k+1)+2],i=a[4*(k+1)+3]):(f=a[0],g=a[1],h=a[2],i=a[3]);var l=this.finiteLinesIntersect(b,c,d,e,f,g,h,i,!0);j[2*k]=l[0],j[2*k+1]=l[1]}return j},d.expandPolygon=function(a,b){for(var c,d,e,f,g=new Array(2*a.length),h=0;h<a.length/2;h++){c=a[2*h],d=a[2*h+1],h<a.length/2-1?(e=a[2*(h+1)],f=a[2*(h+1)+1]):(e=a[0],f=a[1]);var i=f-d,j=-(e-c),k=Math.sqrt(i*i+j*j),l=i/k,m=j/k;g[4*h]=c+l*b,g[4*h+1]=d+m*b,g[4*h+2]=e+l*b,g[4*h+3]=f+m*b}return g},d.intersectLineEllipse=function(a,b,c,d,e,f){var g=c-a,h=d-b;g/=e,h/=f;var i=Math.sqrt(g*g+h*h),j=i-1;if(0>j)return[];var k=j/i;return[(c-a)*k+a,(d-b)*k+b]},d.intersectLineCircle=function(a,b,c,d,e,f,g){var h=[c-a,d-b],i=[e,f],j=[a-e,b-f],k=h[0]*h[0]+h[1]*h[1],l=2*(j[0]*h[0]+j[1]*h[1]),i=j[0]*j[0]+j[1]*j[1]-g*g,m=l*l-4*k*i;if(0>m)return[];var n=(-l+Math.sqrt(m))/(2*k),o=(-l-Math.sqrt(m))/(2*k),p=Math.min(n,o),q=Math.max(n,o),r=[];if(p>=0&&1>=p&&r.push(p),q>=0&&1>=q&&r.push(q),0===r.length)return[];var s=r[0]*h[0]+a,t=r[0]*h[1]+b;if(r.length>1){if(r[0]==r[1])return[s,t];var u=r[1]*h[0]+a,v=r[1]*h[1]+b;return[s,t,u,v]}return[s,t]},d.findCircleNearPoint=function(a,b,c,d,e){var f=d-a,g=e-b,h=Math.sqrt(f*f+g*g),i=f/h,j=g/h;return[a+i*c,b+j*c]},d.findMaxSqDistanceToOrigin=function(a){for(var b,c=1e-6,d=0;d<a.length/2;d++)b=a[2*d]*a[2*d]+a[2*d+1]*a[2*d+1],b>c&&(c=b);return c},d.midOfThree=function(a,b,c){return a>=b&&c>=a||a>=c&&b>=a?a:b>=a&&c>=b||b>=c&&a>=b?b:c},d.finiteLinesIntersect=function(a,b,c,d,e,f,g,h,i){var j=a-e,k=c-a,l=g-e,m=b-f,n=d-b,o=h-f,p=l*m-o*j,q=k*m-n*j,r=o*k-l*n;if(0!==r){var s=p/r,t=q/r,u=.001,v=0-u,w=1+u;return s>=v&&w>=s&&t>=v&&w>=t?[a+s*k,b+s*n]:i?[a+s*k,b+s*n]:[]}return 0===p||0===q?this.midOfThree(a,c,g)===g?[g,h]:this.midOfThree(a,c,e)===e?[e,f]:this.midOfThree(e,g,c)===c?[c,d]:[]:[]},d.polygonIntersectLine=function(a,b,c,e,f,g,h,i){for(var j,k=[],l=new Array(c.length),m=0;m<l.length/2;m++)l[2*m]=c[2*m]*g+e,l[2*m+1]=c[2*m+1]*h+f;var n;if(i>0){var o=d.expandPolygon(l,-i);n=d.joinLines(o)}else n=l;for(var p,q,r,s,m=0;m<n.length/2;m++)p=n[2*m],q=n[2*m+1],m<n.length/2-1?(r=n[2*(m+1)],s=n[2*(m+1)+1]):(r=n[0],s=n[1]),j=this.finiteLinesIntersect(a,b,e,f,p,q,r,s),0!==j.length&&k.push(j[0],j[1]);return k},d.shortenIntersection=function(a,b,c){var d=[a[0]-b[0],a[1]-b[1]],e=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=(e-c)/e;return 0>f&&(f=1e-5),[b[0]+f*d[0],b[1]+f*d[1]]},d.generateUnitNgonPointsFitToSquare=function(a,b){var c=d.generateUnitNgonPoints(a,b);return c=d.fitPolygonToSquare(c)},d.fitPolygonToSquare=function(a){for(var b,c,d=a.length/2,e=1/0,f=1/0,g=-(1/0),h=-(1/0),i=0;d>i;i++)b=a[2*i],c=a[2*i+1],e=Math.min(e,b),g=Math.max(g,b),f=Math.min(f,c),h=Math.max(h,c);for(var j=2/(g-e),k=2/(h-f),i=0;d>i;i++)b=a[2*i]=a[2*i]*j,c=a[2*i+1]=a[2*i+1]*k,e=Math.min(e,b),g=Math.max(g,b),f=Math.min(f,c),h=Math.max(h,c);if(-1>f)for(var i=0;d>i;i++)c=a[2*i+1]=a[2*i+1]+(-1-f);return a},d.generateUnitNgonPoints=function(a,b){var c=1/a*2*Math.PI,d=a%2===0?Math.PI/2+c/2:Math.PI/2;d+=b;for(var e,f,g,h=new Array(2*a),i=0;a>i;i++)e=i*c+d,f=h[2*i]=Math.cos(e),g=h[2*i+1]=Math.sin(-e);return h},d.getRoundRectangleRadius=function(a,b){return Math.min(a/4,b/4,8)},b.exports=d},{}],86:[function(a,b,c){"use strict";var d=0,e=1,f=2,g=function(a){return this instanceof g?(this.id="Thenable/1.0.7",this.state=d,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof a&&a.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new g(a)};g.prototype={fulfill:function(a){return h(this,e,"fulfillValue",a)},reject:function(a){return h(this,f,"rejectReason",a)},then:function(a,b){var c=this,d=new g;return c.onFulfilled.push(k(a,d,"fulfill")),c.onRejected.push(k(b,d,"reject")),i(c),d.proxy}};var h=function(a,b,c,e){return a.state===d&&(a.state=b,a[c]=e,i(a)),a},i=function(a){a.state===e?j(a,"onFulfilled",a.fulfillValue):a.state===f&&j(a,"onRejected",a.rejectReason)},j=function(a,b,c){if(0!==a[b].length){var d=a[b];a[b]=[];var e=function(){for(var a=0;a<d.length;a++)d[a](c)};"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)}},k=function(a,b,c){return function(d){if("function"!=typeof a)b[c].call(b,d);else{var e;try{e=a(d)}catch(f){return void b.reject(f)}l(b,e)}}},l=function(a,b){if(a===b||a.proxy===b)return void a.reject(new TypeError("cannot resolve promise with itself"));var c;if("object"==typeof b&&null!==b||"function"==typeof b)try{c=b.then}catch(d){return void a.reject(d)}if("function"!=typeof c)a.fulfill(b);else{var e=!1;try{c.call(b,function(c){e||(e=!0,c===b?a.reject(new TypeError("circular thenable chain")):l(a,c))},function(b){e||(e=!0,a.reject(b))})}catch(d){e||a.reject(d)}}};g.all=function(a){return new g(function(b,c){for(var d=new Array(a.length),e=0,f=function(c,f){d[c]=f,e++,e===a.length&&b(d)},g=0;g<a.length;g++)!function(b){var d=a[b],e=null!=d&&null!=d.then;if(e)d.then(function(a){f(b,a)},function(a){c(a)});else{var g=d;f(b,g)}}(g)})},g.resolve=function(a){return new g(function(b,c){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},b.exports="undefined"!=typeof Promise?Promise:g},{}],87:[function(a,b,c){"use strict";var d=a("./is"),e=a("./util"),f=function(a){if(!(this instanceof f))return new f(a);var b=this;b._private={selectorText:null,invalid:!0};var c=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}};if(!a||d.string(a)&&a.match(/^\s*$/))b.length=0;else if("*"===a||"edge"===a||"node"===a)b[0]=c(),b[0].group="*"===a?a:a+"s",b[0].groupOnly=!0,b._private.invalid=!1,b._private.selectorText=a,b.length=1;else if(d.elementOrCollection(a)){var g=a.collection();b[0]=c(),b[0].collection=g,b.length=1}else if(d.fn(a))b[0]=c(),b[0].filter=a,b.length=1;else{if(!d.string(a))return void e.error("A selector must be created from a string; found "+a);var h=null,i={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:e.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};i.variable="(?:[\\w-]|(?:\\\\"+i.metaChar+"))+",i.value=i.string+"|"+i.number,i.className=i.variable,i.id=i.variable;for(var j=function(a){return a.replace(new RegExp("\\\\("+i.metaChar+")","g"),function(a,b,c,d){return b})},k=i.comparatorOp.split("|"),l=0;l<k.length;l++){var m=k[l];i.comparatorOp+="|@"+m}for(var k=i.comparatorOp.split("|"),l=0;l<k.length;l++){var m=k[l];m.indexOf("!")>=0||"="!==m&&(i.comparatorOp+="|\\!"+m)}var n=[{name:"group",query:!0,regex:"(node|edge|\\*)",populate:function(a){this.group="*"===a?a:a+"s"}},{name:"state",query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(a){this.colonSelectors.push(a)}},{name:"id",query:!0,regex:"\\#("+i.id+")",populate:function(a){this.ids.push(j(a))}},{name:"className",query:!0,regex:"\\.("+i.className+")",populate:function(a){this.classes.push(j(a))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+i.variable+")\\s*\\]",populate:function(a){this.data.push({field:j(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+i.variable+")\\s*("+i.comparatorOp+")\\s*("+i.value+")\\s*\\]",populate:function(a,b,c){var d=null!=new RegExp("^"+i.string+"$").exec(c);c=d?c.substring(1,c.length-1):parseFloat(c),this.data.push({field:j(a),operator:b,value:c})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+i.boolOp+")\\s*("+i.variable+")\\s*\\]",populate:function(a,b){this.data.push({field:j(b),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+i.meta+")\\s*("+i.comparatorOp+")\\s*("+i.number+")\\s*\\]\\]",populate:function(a,b,c){this.meta.push({field:j(a),operator:b,value:parseFloat(c)})}},{name:"nextQuery",separator:!0,regex:i.separator,populate:function(){b[++l]=c(),h=null}},{name:"child",separator:!0,regex:i.child,populate:function(){var a=c();a.parent=this,a.subject=h,b[l]=a}},{name:"descendant",separator:!0,regex:i.descendant,populate:function(){var a=c();a.ancestor=this,a.subject=h,b[l]=a}},{name:"subject",modifier:!0,regex:i.subject,populate:function(){return null!=h&&this.subject!=this?(e.error("Redefinition of subject in selector `"+a+"`"),!1):(h=this,void(this.subject=this))}}];b._private.selectorText=a;var o=a,l=0,p=function(a){for(var b,c,e,f=0;f<n.length;f++){var g=n[f],h=g.name;if(!d.fn(a)||a(h,g)){var i=o.match(new RegExp("^"+g.regex));if(null!=i){c=i,b=g,e=h;var j=i[0];o=o.substring(j.length);break}}}return{expr:b,match:c,name:e}},q=function(){var a=o.match(/^\s+/);if(a){var b=a[0];o=o.substring(b.length)}};for(b[0]=c(),q();;){var r=p();if(null==r.expr)return void e.error("The selector `"+a+"`is invalid");for(var s=[],t=1;t<r.match.length;t++)s.push(r.match[t]);var u=r.expr.populate.apply(b[l],s);if(u===!1)return;if(o.match(/^\s*$/))break}b.length=l+1;for(var t=0;t<b.length;t++){var v=b[t];if(null!=v.subject){for(;v.subject!=v;)if(null!=v.parent){var w=v.parent,x=v;x.parent=null,w.child=x,v=w}else{if(null==v.ancestor){e.error("When adjusting references for the selector `"+v+"`, neither parent nor ancestor was found");break}var y=v.ancestor,z=v;z.ancestor=null,y.descendant=z,v=y}b[t]=v.subject}}}b._private.invalid=!1},g=f.prototype;g.size=function(){return this.length},g.eq=function(a){return this[a]};var h=function(a,b){var c=b._private;if(a.groupOnly)return"*"===a.group||a.group===c.group;if(null!=a.group&&"*"!=a.group&&a.group!=c.group)return!1;for(var e=b.cy(),f=!0,g=0;g<a.colonSelectors.length;g++){var i=a.colonSelectors[g];switch(i){case":selected":f=b.selected();break;case":unselected":f=!b.selected();break;case":selectable":f=b.selectable();break;case":unselectable":f=!b.selectable();break;case":locked":f=b.locked();break;case":unlocked":f=!b.locked();break;case":visible":f=b.visible();break;case":hidden":f=!b.visible();break;case":transparent":f=b.transparent();break;case":grabbed":f=b.grabbed();break;case":free":f=!b.grabbed();break;case":removed":f=b.removed();break;case":inside":f=!b.removed();break;case":grabbable":f=b.grabbable();break;case":ungrabbable":f=!b.grabbable();break;case":animated":f=b.animated();break;case":unanimated":f=!b.animated();break;case":parent":f=b.isNode()&&b.children().nonempty();break;case":child":case":nonorphan":f=b.isNode()&&b.parent().nonempty();break;case":orphan":f=b.isNode()&&b.parent().empty();break;case":loop":f=b.isEdge()&&b.data("source")===b.data("target");break;case":simple":f=b.isEdge()&&b.data("source")!==b.data("target");break;case":active":f=b.active();break;case":inactive":f=!b.active();break;case":touch":f=d.touch();break;case":backgrounding":f=b.backgrounding();break;case":nonbackgrounding":f=!b.backgrounding()}if(!f)break}if(!f)return!1;for(var j=!0,g=0;g<a.ids.length;g++){var k=a.ids[g],l=c.data.id;if(j=j&&k==l,!j)break}if(!j)return!1;for(var m=!0,g=0;g<a.classes.length;g++){var n=a.classes[g];if(m=m&&b.hasClass(n),!m)break}if(!m)return!1;var o=function(b){for(var c=!0,e=0;e<a[b.name].length;e++){var f,g=a[b.name][e],h=g.operator,i=g.value,j=g.field;if(null!=h&&null!=i){var k=b.fieldValue(j),l=d.string(k)||d.number(k)?""+k:"",m=""+i,n=!1;h.indexOf("@")>=0&&(l=l.toLowerCase(),m=m.toLowerCase(),h=h.replace("@",""),n=!0);var o=!1;h.indexOf("!")>=0&&(h=h.replace("!",""),o=!0),n&&(i=m.toLowerCase(),k=l.toLowerCase());var p=!1;switch(h){case"*=":f=l.indexOf(m)>=0;break;case"$=":f=l.indexOf(m,l.length-m.length)>=0;break;case"^=":f=0===l.indexOf(m);break;case"=":f=k===i;break;case">":p=!0,f=k>i;break;case">=":p=!0,f=k>=i;break;case"<":p=!0,f=i>k;break;case"<=":p=!0,f=i>=k;break;default:f=!1}!o||null==k&&p||(f=!f)}else if(null!=h)switch(h){case"?":f=b.fieldTruthy(j);break;case"!":f=!b.fieldTruthy(j);break;case"^":f=b.fieldUndefined(j)}else f=!b.fieldUndefined(j);if(!f){c=!1;break}}return c},p=o({name:"data",fieldValue:function(a){return c.data[a]},fieldUndefined:function(a){return void 0===c.data[a]},fieldTruthy:function(a){return c.data[a]?!0:!1}});if(!p)return!1;var q=o({name:"meta",fieldValue:function(a){return b[a]()},fieldUndefined:function(a){return null==b[a]()},fieldTruthy:function(a){return b[a]()?!0:!1}});if(!q)return!1;if(null!=a.collection){var r=a.collection.hasElementWithId(b.id());if(!r)return!1}if(null!=a.filter&&0===b.collection().filter(a.filter).size())return!1;var s=function(a,b){if(null!=a){var c=!1;if(!e.hasCompoundNodes())return!1;b=b();for(var d=0;d<b.length;d++)if(h(a,b[d])){c=!0;break}return c}return!0};return s(a.parent,function(){return b.parent()})&&s(a.ancestor,function(){return b.parents()})&&s(a.child,function(){return b.children()})&&s(a.descendant,function(){return b.descendants()})?!0:!1};g.filter=function(a){var b=this,c=a.cy();if(b._private.invalid)return c.collection();var d=function(a,c){for(var d=0;d<b.length;d++){var e=b[d];if(h(e,c))return!0}return!1};null==b._private.selectorText&&(d=function(){return!0});var e=a.filter(d);return e},g.matches=function(a){var b=this;if(b._private.invalid)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(h(d,a))return!0}return!1},g.toString=g.selector=function(){for(var a="",b=function(a){return null==a?"":a},c=function(a){return d.string(a)?'"'+a+'"':b(a)},e=function(a){return" "+a+" "},f=function(a){var d="";a.subject===a&&(d+="$");var h=b(a.group);d+=h.substring(0,h.length-1);for(var i=0;i<a.data.length;i++){var j=a.data[i];d+=j.value?"["+j.field+e(b(j.operator))+c(j.value)+"]":"["+b(j.operator)+j.field+"]"}for(var i=0;i<a.meta.length;i++){var k=a.meta[i];d+="[["+k.field+e(b(k.operator))+c(k.value)+"]]"}for(var i=0;i<a.colonSelectors.length;i++){var l=a.colonSelectors[g];d+=l}for(var i=0;i<a.ids.length;i++){var l="#"+a.ids[g];d+=l}for(var i=0;i<a.classes.length;i++){var l="."+a.classes[i];d+=l}return null!=a.parent&&(d=f(a.parent)+" > "+d),null!=a.ancestor&&(d=f(a.ancestor)+" "+d),null!=a.child&&(d+=" > "+f(a.child)),null!=a.descendant&&(d+=" "+f(a.descendant)),d},g=0;g<this.length;g++){var h=this[g];a+=f(h),this.length>1&&g<this.length-1&&(a+=", ")}return a},b.exports=f},{"./is":83,"./util":100}],88:[function(a,b,c){"use strict";var d=a("../util"),e=a("../is"),f={};f.apply=function(a){var b=this,c=b._private;c.newStyle&&(c.contextStyles={},c.propDiffs={},b.cleanElements(a,!0));for(var d=0;d<a.length;d++){var e=a[d],f=b.getContextMeta(e),g=b.getContextStyle(f),h=b.applyContextStyle(f,g,e);b.updateTransitions(e,h.diffProps),b.updateStyleHints(e)}c.newStyle=!1},f.getPropertiesDiff=function(a,b){var c=this,d=c._private.propDiffs=c._private.propDiffs||{},e=a+"-"+b,f=d[e];if(f)return f;for(var g=[],h={},i=0;i<c.length;i++){var j=c[i],k="t"===a[i],l="t"===b[i],m=k!==l,n=j.mappedProperties.length>0;if(m||n){var o;m&&n?o=j.properties:m?o=j.properties:n&&(o=j.mappedProperties);for(var p=0;p<o.length;p++){for(var q=o[p],r=q.name,s=!1,t=i+1;t<c.length;t++){var u=c[t],v="t"===b[t];if(v&&(s=null!=u.properties[q.name]))break}h[r]||s||(h[r]=!0,g.push(r))}}}return d[e]=g,g},f.getContextMeta=function(a){var b,c=this,d="",e=a._private.styleCxtKey||"";c._private.newStyle&&(e="");for(var f=0;f<c.length;f++){var g=c[f],h=g.selector&&g.selector.matches(a);d+=h?"t":"f"}return b=c.getPropertiesDiff(e,d),a._private.styleCxtKey=d,{key:d,diffPropNames:b}},f.getContextStyle=function(a){var b=a.key,c=this,d=this._private.contextStyles=this._private.contextStyles||{};if(d[b])return d[b];for(var e={_private:{key:b}},f=0;f<c.length;f++){var g=c[f],h="t"===b[f];if(h)for(var i=0;i<g.properties.length;i++){var j=g.properties[i],k=e[j.name]=j;k.context=g}}return d[b]=e,e},f.applyContextStyle=function(a,b,c){for(var d=this,e=a.diffPropNames,f={},g=0;g<e.length;g++){var h=e[g],i=b[h],j=c.pstyle(h);if(!i){if(!j)continue;i=j.bypass?{name:h,deleteBypassed:!0}:{name:h,"delete":!0}}if(j!==i){var k=f[h]={prev:j};d.applyParsedProperty(c,i),k.next=c.pstyle(h),k.next&&k.next.bypass&&(k.next=k.next.bypassed)}}return{diffProps:f}},f.updateStyleHints=function(a){var b=a._private,c=this;if(!a.removed()){var d=!1;if("nodes"===b.group)for(var e=1;e<=c.pieBackgroundN;e++){var f=a.pstyle("pie-"+e+"-background-size").value;if(f>0){d=!0;break}}b.hasPie=d;var g=a.pstyle("text-transform").strValue,h=a.pstyle("label").strValue,i=a.pstyle("source-label").strValue,j=a.pstyle("target-label").strValue,k=a.pstyle("font-style").strValue,f=a.pstyle("font-size").pfValue+"px",l=a.pstyle("font-family").strValue,m=a.pstyle("font-weight").strValue,n=a.pstyle("text-valign").strValue,o=a.pstyle("text-valign").strValue,p=a.pstyle("text-outline-width").pfValue,q=a.pstyle("text-wrap").strValue,r=a.pstyle("text-max-width").pfValue,s=k+"$"+f+"$"+l+"$"+m+"$"+g+"$"+n+"$"+o+"$"+p+"$"+q+"$"+r;b.labelStyleKey=s,b.sourceLabelKey=s+"$"+i,b.targetLabelKey=s+"$"+j,b.labelKey=s+"$"+h,b.fontKey=k+"$"+m+"$"+f+"$"+l,b.styleKey=Date.now()}},f.applyParsedProperty=function(a,b){var c,f,g=this,h=b,i=a._private.style,j=g.types,k=g.properties[h.name].type,l=h.bypass,m=i[h.name],n=m&&m.bypass,o=a._private;if("curve-style"===b.name&&"haystack"===b.value&&a.isEdge()&&(a.isLoop()||a.source().isParent()||a.target().isParent())&&(h=b=this.parse(b.name,"bezier",l)),h["delete"])return i[h.name]=void 0,!0;if(h.deleteBypassed)return m?m.bypass?(m.bypassed=void 0,!0):!1:!0;if(h.deleteBypass)return m?m.bypass?(i[h.name]=m.bypassed,!0):!1:!0;var p=function(){d.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+a.id()+"` for property `"+h.name+"` with data field `"+h.field+"`); try a `["+h.field+"]` selector to limit scope to elements with `"+h.field+"` defined")};switch(h.mapped){case j.mapData:case j.mapLayoutData:case j.mapScratch:var c,q=h.mapped===j.mapLayoutData,r=h.mapped===j.mapScratch,s=h.field.split(".");c=r||q?o.scratch:o.data;for(var t=0;t<s.length&&c;t++){var u=s[t];c=c[u]}var v;if(v=e.number(c)?(c-h.fieldMin)/(h.fieldMax-h.fieldMin):0,0>v?v=0:v>1&&(v=1),k.color){var w=h.valueMin[0],x=h.valueMax[0],y=h.valueMin[1],z=h.valueMax[1],A=h.valueMin[2],B=h.valueMax[2],C=null==h.valueMin[3]?1:h.valueMin[3],D=null==h.valueMax[3]?1:h.valueMax[3],E=[Math.round(w+(x-w)*v),Math.round(y+(z-y)*v),Math.round(A+(B-A)*v),Math.round(C+(D-C)*v)];f={bypass:h.bypass,name:h.name,value:E,strValue:"rgb("+E[0]+", "+E[1]+", "+E[2]+")"}}else{if(!k.number)return!1;var F=h.valueMin+(h.valueMax-h.valueMin)*v;f=this.parse(h.name,F,h.bypass,!0)}f||(f=this.parse(h.name,m.strValue,h.bypass,!0)),f||p(),f.mapping=h,h=f;break;case j.data:case j.layoutData:case j.scratch:var c,q=h.mapped===j.layoutData,r=h.mapped===j.scratch,s=h.field.split(".");if(c=r||q?o.scratch:o.data)for(var t=0;t<s.length;t++){var u=s[t];c=c[u]}if(f=this.parse(h.name,c,h.bypass,!0),!f){var G=m?m.strValue:"";f=this.parse(h.name,G,h.bypass,!0)}f||p(),f.mapping=h,h=f;break;case j.fn:var H=h.value,I=H(a);f=this.parse(h.name,I,h.bypass,!0),f.mapping=h,h=f;break;case void 0:break;default:return!1}return l?(n?h.bypassed=m.bypassed:h.bypassed=m,i[h.name]=h):n?m.bypassed=h:i[h.name]=h,!0},f.cleanElements=function(a,b){for(var c=this,d=c.properties,e=0;e<a.length;e++){var f=a[e];if(b)for(var g=f._private.style,h=0;h<d.length;h++){var i=d[h],j=g[i.name];j&&(j.bypass?j.bypassed=null:g[i.name]=null)}else f._private.style={}}},f.update=function(){var a=this._private.cy,b=a.mutableElements();b.updateStyle()},f.updateMappers=function(a){for(var b=this,c=0;c<a.length;c++){for(var d=a[c],e=d._private.style,f=0;f<b.properties.length;f++){var g=b.properties[f],h=e[g.name];if(h&&h.mapping){var i=h.mapping;this.applyParsedProperty(d,i)}}this.updateStyleHints(d)}},f.updateTransitions=function(a,b,c){var d=this,f=a._private,g=a.pstyle("transition-property").value,h=a.pstyle("transition-duration").pfValue,i=a.pstyle("transition-delay").pfValue;if(g.length>0&&h>0){for(var j={},k=!1,l=0;l<g.length;l++){var m=g[l],n=a.pstyle(m),o=b[m];if(o){var p,q=o.prev,r=q,s=null!=o.next?o.next:n,t=!1,u=1e-6;r&&(e.number(r.pfValue)&&e.number(s.pfValue)?(t=s.pfValue-r.pfValue,p=r.pfValue+u*t):e.number(r.value)&&e.number(s.value)?(t=s.value-r.value,p=r.value+u*t):e.array(r.value)&&e.array(s.value)&&(t=r.value[0]!==s.value[0]||r.value[1]!==s.value[1]||r.value[2]!==s.value[2],p=r.strValue),t&&(j[m]=s.strValue,this.applyBypass(a,m,p),k=!0))}}if(!k)return;f.transitioning=!0,a.stop(),i>0&&a.delay(i),a.animate({css:j},{duration:h,easing:a.pstyle("transition-timing-function").value,queue:!1,complete:function(){c||d.removeBypasses(a,g),f.transitioning=!1}})}else f.transitioning&&(a.stop(),this.removeBypasses(a,g),f.transitioning=!1)},b.exports=f},{"../is":83,"../util":100}],89:[function(a,b,c){"use strict";var d=a("../is"),e=a("../util"),f={};f.applyBypass=function(a,b,c,f){var g=this,h=[],i=!0;if("*"===b||"**"===b){if(void 0!==c)for(var j=0;j<g.properties.length;j++){var k=g.properties[j],b=k.name,l=this.parse(b,c,!0);l&&h.push(l)}}else if(d.string(b)){var l=this.parse(b,c,!0);l&&h.push(l)}else{if(!d.plainObject(b))return!1;var m=b;f=c;for(var j=0;j<g.properties.length;j++){var k=g.properties[j],b=k.name,c=m[b];if(void 0===c&&(c=m[e.dash2camel(b)]),void 0!==c){var l=this.parse(b,c,!0);l&&h.push(l)}}}if(0===h.length)return!1;for(var n=!1,j=0;j<a.length;j++){for(var o,p=a[j],q={},r=0;r<h.length;r++){var k=h[r];if(f){var s=p.pstyle(k.name);
o=q[k.name]={prev:s}}n=this.applyParsedProperty(p,k)||n,f&&(o.next=p.pstyle(k.name))}n&&this.updateStyleHints(p),f&&this.updateTransitions(p,q,i)}return n},f.overrideBypass=function(a,b,c){b=e.camel2dash(b);for(var d=0;d<a.length;d++){var f=a[d],g=f._private.style[b],h=this.properties[b].type,i=h.color,j=h.mutiple;g&&g.bypass?(g.value=c,null!=g.pfValue&&(g.pfValue=c),i?g.strValue="rgb("+c.join(",")+")":j?g.strValue=c.join(" "):g.strValue=""+c):this.applyBypass(f,b,c)}},f.removeAllBypasses=function(a,b){return this.removeBypasses(a,this.propertyNames,b)},f.removeBypasses=function(a,b,c){for(var d=!0,e=0;e<a.length;e++){for(var f=a[e],g={},h=0;h<b.length;h++){var i=b[h],j=this.properties[i],k=f.pstyle(j.name);if(k&&k.bypass){var l="",m=this.parse(i,l,!0),n=g[j.name]={prev:k};this.applyParsedProperty(f,m),n.next=f.pstyle(j.name)}}this.updateStyleHints(f),c&&this.updateTransitions(f,g,d)}},b.exports=f},{"../is":83,"../util":100}],90:[function(a,b,c){"use strict";var d=a("../window"),e={};e.getEmSizeInPixels=function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},e.containerCss=function(a){var b=this._private.cy,c=b.container();return d&&c&&d.getComputedStyle?d.getComputedStyle(c).getPropertyValue(a):void 0},b.exports=e},{"../window":107}],91:[function(a,b,c){"use strict";var d=a("../util"),e=a("../is"),f={};f.getRenderedStyle=function(a){return this.getRawStyle(a,!0)},f.getRawStyle=function(a,b){var c=this,a=a[0];if(a){for(var e={},f=0;f<c.properties.length;f++){var g=c.properties[f],h=c.getStylePropertyValue(a,g.name,b);h&&(e[g.name]=h,e[d.dash2camel(g.name)]=h)}return e}},f.getStylePropertyValue=function(a,b,c){var d=this,a=a[0];if(a){var e=d.properties[b];e.alias&&(e=e.pointsTo);var f=e.type,g=a.pstyle(e.name),h=a.cy().zoom();if(g){var i=g.units?f.implicitUnits||"px":null,j=i?[].concat(g.pfValue).map(function(a){return a*(c?h:1)+i}).join(" "):g.strValue;return j}}},f.getAnimationStartStyle=function(a,b){for(var c={},d=0;d<b.length;d++){var f=b[d],g=f.name,h=a.pstyle(g);void 0!==h&&(h=e.plainObject(h)?this.parse(g,h.strValue):this.parse(g,h)),h&&(c[g]=h)}return c},f.getPropsList=function(a){var b=this,c=[],e=a,f=b.properties;if(e)for(var g=Object.keys(e),h=0;h<g.length;h++){var i=g[h],j=e[i],k=f[i]||f[d.camel2dash(i)],l=this.parse(k.name,j);c.push(l)}return c},b.exports=f},{"../is":83,"../util":100}],92:[function(a,b,c){"use strict";var d=a("../is"),e=a("../util"),f=a("../selector"),g=function(a){return this instanceof g?d.core(a)?(this._private={cy:a,coreStyle:{}},this.length=0,void this.resetToDefault()):void e.error("A style must have a core reference"):new g(a)},h=g.prototype;h.instanceString=function(){return"style"},h.clear=function(){for(var a=0;a<this.length;a++)this[a]=void 0;this.length=0;var b=this._private;return b.newStyle=!0,this},h.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},h.core=function(){return this._private.coreStyle},h.selector=function(a){var b="core"===a?null:new f(a),c=this.length++;return this[c]={selector:b,properties:[],mappedProperties:[],index:c},this},h.css=function(){var a=this,b=arguments;switch(b.length){case 1:for(var c=b[0],d=0;d<a.properties.length;d++){var f=a.properties[d],g=c[f.name];void 0===g&&(g=c[e.dash2camel(f.name)]),void 0!==g&&this.cssRule(f.name,g)}break;case 2:this.cssRule(b[0],b[1])}return this},h.style=h.css,h.cssRule=function(a,b){var c=this.parse(a,b);if(c){var d=this.length-1;this[d].properties.push(c),this[d].properties[c.name]=c,c.name.match(/pie-(\d+)-background-size/)&&c.value&&(this._private.hasPie=!0),c.mapped&&this[d].mappedProperties.push(c);var e=!this[d].selector;e&&(this._private.coreStyle[c.name]=c)}return this},g.fromJson=function(a,b){var c=new g(a);return c.fromJson(b),c},g.fromString=function(a,b){return new g(a).fromString(b)},[a("./apply"),a("./bypass"),a("./container"),a("./get-for-ele"),a("./json"),a("./string-sheet"),a("./properties"),a("./parse")].forEach(function(a){e.extend(h,a)}),g.types=h.types,g.properties=h.properties,b.exports=g},{"../is":83,"../selector":87,"../util":100,"./apply":88,"./bypass":89,"./container":90,"./get-for-ele":91,"./json":93,"./parse":94,"./properties":95,"./string-sheet":96}],93:[function(a,b,c){"use strict";var d={};d.applyFromJson=function(a){for(var b=this,c=0;c<a.length;c++){var d=a[c],e=d.selector,f=d.style||d.css,g=Object.keys(f);b.selector(e);for(var h=0;h<g.length;h++){var i=g[h],j=f[i];b.css(i,j)}}return b},d.fromJson=function(a){var b=this;return b.resetToDefault(),b.applyFromJson(a),b},d.json=function(){for(var a=[],b=this.defaultLength;b<this.length;b++){for(var c=this[b],d=c.selector,e=c.properties,f={},g=0;g<e.length;g++){var h=e[g];f[h.name]=h.strValue}a.push({selector:d?d.toString():"core",style:f})}return a},b.exports=d},{}],94:[function(a,b,c){"use strict";var d=a("../util"),e=a("../is"),f=a("../math"),g={};g.parse=function(a,b,c,f){var g=this;if(e.fn(b))return g.parseImpl(a,b,c,f);var h,i=[a,b,c,f].join("$"),j=g.propCache=g.propCache||{};return(h=j[i])||(h=j[i]=g.parseImpl(a,b,c,f)),h=d.copy(h),h&&(h.value=d.copy(h.value)),h};var h=function(a,b,c,g){var h=this;a=d.camel2dash(a);var i=h.properties[a],j=b,k=h.types;if(!i)return null;if(void 0===b||null===b)return null;i.alias&&(i=i.pointsTo,a=i.name);var l=e.string(b);l&&(b=b.trim());var m=i.type;if(!m)return null;if(c&&(""===b||null===b))return{name:a,value:b,bypass:!0,deleteBypass:!0};if(e.fn(b))return{name:a,value:b,strValue:"fn",mapped:k.fn,bypass:c};var n,o,p,q,r,s;if(!l||g);else{if((n=new RegExp(k.data.regex).exec(b))||(p=new RegExp(k.layoutData.regex).exec(b))||(r=new RegExp(k.scratch.regex).exec(b))){if(c)return!1;var t;return t=n?k.data:p?k.layoutData:k.scratch,n=n||p||r,{name:a,value:n,strValue:""+b,mapped:t,field:n[1],bypass:c}}if((o=new RegExp(k.mapData.regex).exec(b))||(q=new RegExp(k.mapLayoutData.regex).exec(b))||(s=new RegExp(k.mapScratch.regex).exec(b))){if(c)return!1;if(m.multiple)return!1;var t;if(t=o?k.mapData:q?k.mapLayoutData:k.mapScratch,o=o||q||s,!m.color&&!m.number)return!1;var u=this.parse(a,o[4]);if(!u||u.mapped)return!1;var v=this.parse(a,o[5]);if(!v||v.mapped)return!1;if(u.value===v.value)return!1;if(m.color){var w=u.value,x=v.value,y=!(w[0]!==x[0]||w[1]!==x[1]||w[2]!==x[2]||w[3]!==x[3]&&(null!=w[3]&&1!==w[3]||null!=x[3]&&1!==x[3]));if(y)return!1}return{name:a,value:o,strValue:""+b,mapped:t,field:o[1],fieldMin:parseFloat(o[2]),fieldMax:parseFloat(o[3]),valueMin:u.value,valueMax:v.value,bypass:c}}}if(m.multiple&&"multiple"!==g){var z;if(z=l?b.split(/\s+/):e.array(b)?b:[b],m.evenMultiple&&z.length%2!==0)return null;var A=z.map(function(b){var d=h.parse(a,b,c,"multiple");return null!=d.pfValue?d.pfValue:d.value});return{name:a,value:A,pfValue:A,strValue:A.join(" "),bypass:c,units:m.number&&!m.unitless?m.implicitUnits||"px":void 0}}var B=function(){for(var d=0;d<m.enums.length;d++){var e=m.enums[d];if(e===b)return{name:a,value:b,strValue:""+b,bypass:c}}return null};if(m.number){var C,D="px";if(m.units&&(C=m.units),m.implicitUnits&&(D=m.implicitUnits),!m.unitless)if(l){var E="px|em"+(m.allowPercent?"|\\%":"");C&&(E=C);var F=b.match("^("+d.regex.number+")("+E+")?$");F&&(b=F[1],C=F[2]||D)}else(!C||m.implicitUnits)&&(C=D);if(b=parseFloat(b),isNaN(b)&&void 0===m.enums)return null;if(isNaN(b)&&void 0!==m.enums)return b=j,B();if(m.integer&&!e.integer(b))return null;if(void 0!==m.min&&b<m.min||void 0!==m.max&&b>m.max)return null;var G={name:a,value:b,strValue:""+b+(C?C:""),units:C,bypass:c};return m.unitless||"px"!==C&&"em"!==C?G.pfValue=b:G.pfValue="px"!==C&&C?this.getEmSizeInPixels()*b:b,("ms"===C||"s"===C)&&(G.pfValue="ms"===C?b:1e3*b),("deg"===C||"rad"===C)&&(G.pfValue="rad"===C?b:f.deg2rad(b)),G}if(m.propList){var H=[],I=""+b;if("none"===I);else{for(var J=I.split(","),K=0;K<J.length;K++){var L=J[K].trim();h.properties[L]&&H.push(L)}if(0===H.length)return null}return{name:a,value:H,strValue:0===H.length?"none":H.join(", "),bypass:c}}if(m.color){var M=d.color2tuple(b);return M?{name:a,value:M,strValue:""+b,bypass:c,roundValue:!0}:null}if(m.regex||m.regexes){if(m.enums){var N=B();if(N)return N}for(var O=m.regexes?m.regexes:[m.regex],K=0;K<O.length;K++){var P=new RegExp(O[K]),Q=P.exec(b);if(Q)return{name:a,value:Q,strValue:""+b,bypass:c}}return null}return m.string?{name:a,value:""+b,strValue:""+b,bypass:c}:m.enums?B():null};g.parseImpl=h,b.exports=g},{"../is":83,"../math":85,"../util":100}],95:[function(a,b,c){"use strict";var d=a("../util"),e={};!function(){var a=d.regex.number,b=d.regex.rgbaNoBackRefs,c=d.regex.hslaNoBackRefs,f=d.regex.hex3,g=d.regex.hex6,h=function(a){return"^"+a+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(d){var e=a+"|\\w+|"+b+"|"+c+"|"+f+"|"+g;return"^"+d+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+e+")\\s*\\,\\s*("+e+")\\)$"};e.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgCrossOrigin:{enums:["anonymous","use-credentials"]},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:h("data")},layoutData:{mapping:!0,regex:h("layoutData")},scratch:{mapping:!0,regex:h("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var j=e.types,k=e.properties=[{name:"label",type:j.text},{name:"text-rotation",type:j.textRotation},{name:"text-margin-x",type:j.bidirectionalSize},{name:"text-margin-y",type:j.bidirectionalSize},{name:"source-label",type:j.text},{name:"source-text-rotation",type:j.textRotation},{name:"source-text-margin-x",type:j.bidirectionalSize},{name:"source-text-margin-y",type:j.bidirectionalSize},{name:"source-text-offset",type:j.size},{name:"target-label",type:j.text},{name:"target-text-rotation",type:j.textRotation},{name:"target-text-margin-x",type:j.bidirectionalSize},{name:"target-text-margin-y",type:j.bidirectionalSize},{name:"target-text-offset",type:j.size},{name:"text-valign",type:j.valign},{name:"text-halign",type:j.halign},{name:"color",type:j.color},{name:"text-outline-color",type:j.color},{name:"text-outline-width",type:j.size},{name:"text-outline-opacity",type:j.zeroOneNumber},{name:"text-opacity",type:j.zeroOneNumber},{name:"text-background-color",type:j.color},{name:"text-background-margin",type:j.size},{name:"text-background-opacity",type:j.zeroOneNumber},{name:"text-border-opacity",type:j.zeroOneNumber},{name:"text-border-color",type:j.color},{name:"text-border-width",type:j.size},{name:"text-border-style",type:j.borderStyle},{name:"text-background-shape",type:j.textBackgroundShape},{name:"text-transform",type:j.textTransform},{name:"text-wrap",type:j.textWrap},{name:"text-max-width",type:j.size},{name:"text-events",type:j.bool},{name:"font-family",type:j.fontFamily},{name:"font-style",type:j.fontStyle},{name:"font-weight",type:j.fontWeight},{name:"font-size",type:j.size},{name:"min-zoomed-font-size",type:j.size},{name:"events",type:j.bool},{name:"display",type:j.display},{name:"visibility",type:j.visibility},{name:"opacity",type:j.zeroOneNumber},{name:"z-index",type:j.nonNegativeInt},{name:"overlay-padding",type:j.size},{name:"overlay-color",type:j.color},{name:"overlay-opacity",type:j.zeroOneNumber},{name:"shadow-blur",type:j.size},{name:"shadow-color",type:j.color},{name:"shadow-opacity",type:j.zeroOneNumber},{name:"shadow-offset-x",type:j.bidirectionalSize},{name:"shadow-offset-y",type:j.bidirectionalSize},{name:"text-shadow-blur",type:j.size},{name:"text-shadow-color",type:j.color},{name:"text-shadow-opacity",type:j.zeroOneNumber},{name:"text-shadow-offset-x",type:j.bidirectionalSize},{name:"text-shadow-offset-y",type:j.bidirectionalSize},{name:"transition-property",type:j.propList},{name:"transition-duration",type:j.time},{name:"transition-delay",type:j.time},{name:"transition-timing-function",type:j.easing},{name:"height",type:j.nodeSize},{name:"width",type:j.nodeSize},{name:"shape",type:j.nodeShape},{name:"shape-polygon-points",type:j.polygonPointList},{name:"background-color",type:j.color},{name:"background-opacity",type:j.zeroOneNumber},{name:"background-blacken",type:j.nOneOneNumber},{name:"padding",type:j.size},{name:"border-color",type:j.color},{name:"border-opacity",type:j.zeroOneNumber},{name:"border-width",type:j.size},{name:"border-style",type:j.borderStyle},{name:"background-image",type:j.url},{name:"background-image-crossorigin",type:j.bgCrossOrigin},{name:"background-image-opacity",type:j.zeroOneNumber},{name:"background-position-x",type:j.bgPos},{name:"background-position-y",type:j.bgPos},{name:"background-repeat",type:j.bgRepeat},{name:"background-fit",type:j.bgFit},{name:"background-clip",type:j.bgClip},{name:"background-width",type:j.bgWH},{name:"background-height",type:j.bgWH},{name:"position",type:j.position},{name:"compound-sizing-wrt-labels",type:j.compoundIncludeLabels},{name:"line-style",type:j.lineStyle},{name:"line-color",type:j.color},{name:"curve-style",type:j.curveStyle},{name:"haystack-radius",type:j.zeroOneNumber},{name:"control-point-step-size",type:j.size},{name:"control-point-distances",type:j.bidirectionalSizes},{name:"control-point-weights",type:j.numbers},{name:"segment-distances",type:j.bidirectionalSizes},{name:"segment-weights",type:j.numbers},{name:"edge-distances",type:j.edgeDistances},{name:"selection-box-color",type:j.color},{name:"selection-box-opacity",type:j.zeroOneNumber},{name:"selection-box-border-color",type:j.color},{name:"selection-box-border-width",type:j.size},{name:"active-bg-color",type:j.color},{name:"active-bg-opacity",type:j.zeroOneNumber},{name:"active-bg-size",type:j.size},{name:"outside-texture-bg-color",type:j.color},{name:"outside-texture-bg-opacity",type:j.zeroOneNumber}],l=e.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];e.pieBackgroundN=16,k.push({name:"pie-size",type:j.bgSize});for(var m=1;m<=e.pieBackgroundN;m++)k.push({name:"pie-"+m+"-background-color",type:j.color}),k.push({name:"pie-"+m+"-background-size",type:j.percent}),k.push({name:"pie-"+m+"-background-opacity",type:j.zeroOneNumber});var n=e.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:j.arrowShape},{name:"arrow-color",type:j.color},{name:"arrow-fill",type:j.arrowFill}].forEach(function(a){n.forEach(function(b){var c=b+"-"+a.name,d=a.type;k.push({name:c,type:d})})},{}),e.propertyNames=k.map(function(a){return a.name});for(var m=0;m<k.length;m++){var o=k[m];k[o.name]=o}for(var m=0;m<l.length;m++){var p=l[m],q=k[p.pointsTo],r={name:p.name,alias:!0,pointsTo:q};k.push(r),k[p.name]=r}}(),e.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},e.getDefaultProperties=d.memoize(function(){for(var a=d.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-margin":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",padding:0,position:"origin","compound-sizing-wrt-labels":"include"},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(a,b){for(var c=1;c<=e.pieBackgroundN;c++){var d=b.name.replace("{{i}}",c),f=b.value;a[d]=f}return a},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(a,b){return e.arrowPrefixes.forEach(function(c){var d=c+"-"+b.name,e=b.value;a[d]=e}),a},{})),b={},c=0;c<this.properties.length;c++){var f=this.properties[c];if(!f.pointsTo){var g=f.name,h=a[g],i=this.parse(g,h);b[g]=i}}return b}),e.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},b.exports=e},{"../util":100}],96:[function(a,b,c){"use strict";var d=a("../util"),e=a("../selector"),f={};f.applyFromString=function(a){function b(){k=k.length>f.length?k.substr(f.length):""}function c(){g=g.length>h.length?g.substr(h.length):""}var f,g,h,i=this,j=this,k=""+a;for(k=k.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){var l=k.match(/^\s*$/);if(l)break;var m=k.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!m){d.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+k);break}f=m[0];var n=m[1];if("core"!==n){var o=new e(n);if(o._private.invalid){d.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+n),b();continue}}var p=m[2],q=!1;g=p;for(var r=[];;){var l=g.match(/^\s*$/);if(l)break;var s=g.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!s){d.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),q=!0;break}h=s[0];var t=s[1],u=s[2],v=i.properties[t];if(v){var w=j.parse(t,u);w?(r.push({name:t,val:u}),c()):(d.error("Skipping property: Invalid property definition in: "+h),c())}else d.error("Skipping property: Invalid property name in: "+h),c()}if(q){b();break}j.selector(n);for(var x=0;x<r.length;x++){var v=r[x];j.css(v.name,v.val)}b()}return j},f.fromString=function(a){var b=this;return b.resetToDefault(),b.applyFromString(a),b},b.exports=f},{"../selector":87,"../util":100}],97:[function(a,b,c){"use strict";var d=a("./is"),e=a("./util"),f=a("./style"),g=function(){return this instanceof g?void(this.length=0):new g},h=g.prototype;h.instanceString=function(){return"stylesheet"},h.selector=function(a){var b=this.length++;return this[b]={selector:a,properties:[]},this},h.css=function(a,b){var c=this.length-1;if(d.string(a))this[c].properties.push({name:a,value:b});else if(d.plainObject(a))for(var g=a,h=0;h<f.properties.length;h++){var i=f.properties[h],j=g[i.name];if(void 0===j&&(j=g[e.dash2camel(i.name)]),void 0!==j){var a=i.name,b=j;this[c].properties.push({name:a,value:b})}}return this},h.style=h.css,h.generateStyle=function(a){for(var b=new f(a),c=0;c<this.length;c++){var d=this[c],e=d.selector,g=d.properties;b.selector(e);for(var h=0;h<g.length;h++){var i=g[h];b.css(i.name,i.value)}}return b},b.exports=g},{"./is":83,"./style":92,"./util":100}],98:[function(_dereq_,module,exports){"use strict";var window=_dereq_("./window"),util=_dereq_("./util"),Promise=_dereq_("./promise"),Event=_dereq_("./event"),define=_dereq_("./define"),is=_dereq_("./is"),Thread=function(a){if(!(this instanceof Thread))return new Thread(a);var b=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(a)&&null!=a.disabled&&(b.disabled=!!a.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(a){var b=is.fn(a)?a.toString():"JSON.parse('"+JSON.stringify(a)+"')";return b},fnAsRequire=function(a){var b,c;is.object(a)&&a.fn?(b=fnAs(a.fn,a.name),c=a.name,a=a.fn):is.fn(a)?(b=a.toString(),c=a.name):is.string(a)?b=a:is.object(a)&&(b=a.proto?"":a.name+" = {};",c=a.name,a=a.obj),b+="\n";var d=function(a,c){if(a.prototype){var d=!1;for(var e in a.prototype){d=!0;break}d&&(b+=fnAsRequire({name:c,obj:a,proto:!0},a))}};if(a.prototype&&null!=c)for(var e in a.prototype){var f="",g=a.prototype[e],h=stringifyFieldVal(g),i=c+".prototype."+e;f+=i+" = "+h+";\n",f&&(b+=f),d(g,i)}if(!is.string(a))for(var e in a){var j="";if(a.hasOwnProperty(e)){var g=a[e],h=stringifyFieldVal(g),i=c+'["'+e+'"]';j+=i+" = "+h+";\n"}j&&(b+=j),d(g,i)}return b},isPathStr=function(a){return is.string(a)&&a.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(a,b){var c=this._private.requires;if(isPathStr(a))return this._private.files.push(a),this;if(b)a=is.fn(a)?{name:b,fn:a}:{name:b,obj:a};else if(is.fn(a)){if(!a.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';a={name:a.name,fn:a}}return c.push(a),this},pass:function(a){return this._private.pass.push(a),this},run:function(fn,pass){var self=this,_p=this._private;if(pass=pass||_p.pass.shift(),_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then(function(){return self.run(fn,pass)});var useWW=null!=window&&!_p.disabled,useNode=!window&&"undefined"!=typeof module&&!_p.disabled;self.trigger("run");var runP=new Promise(function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr="\n"+_p.requires.map(function(a){return fnAsRequire(a)}).concat(_p.files.map(function(a){if(useWW){var b=function(a){return a.match(/^\.\//)||a.match(/^\.\./)?window.location.origin+window.location.pathname+a:a.match(/^\//)?window.location.origin+"/"+a:a};return'importScripts("'+b(a)+'");'}if(useNode)return'eval( require("fs").readFileSync("'+a+'", { encoding: "utf8" }) );';throw"External file `"+a+"` can not be required without any threading technology."})).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(_p.requires=[],_p.files=[],useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),fnStr+=fnPre,fnBlob=new Blob([fnStr],{type:"application/javascript"}),fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl);threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr});var cb;ww.addEventListener("message",cb=function(a){var b=is.object(a)&&is.object(a.data);b&&"$$resolve"in a.data?(ww.removeEventListener("message",cb),resolve(a.data.$$resolve)):b&&"$$reject"in a.data?(ww.removeEventListener("message",cb),reject(a.data.$$reject)):self.trigger(new Event(a,{type:"message",message:a.data}))},!1),threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=_dereq_("child_process").fork(_dereq_("path").join(__dirname,"thread-node-fork")));var child=_p.child,cb;child.on("message",cb=function(a){is.object(a)&&"$$resolve"in a?(child.removeListener("message",cb),resolve(a.$$resolve)):is.object(a)&&"$$reject"in a?(child.removeListener("message",cb),reject(a.$$reject)):self.trigger(new Event({},{type:"message",message:a}))}),child.send({$$eval:fnStr})}else{var promiseResolve=resolve,promiseReject=reject,timer=_p.timer=_p.timer||{listeners:[],exec:function(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join("\n")+fnStr,eval(fnStr)},message:function(a){for(var b=timer.listeners,c=0;c<b.length;c++){var d=b[c];d(a)}}};timer.exec()}}).then(function(a){return _p.running=!1,_p.ran=!0,self.trigger("ran"),a});return null==_p.queue&&(_p.queue=runP),runP},message:function(a){var b=this._private;return b.webworker&&b.webworker.postMessage(a),b.child&&b.child.send(a),b.timer&&b.timer.message(a),this},stop:function(){var a=this._private;return a.webworker&&a.webworker.terminate(),a.child&&a.child.kill(),a.timer,a.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(a,b){var c=a.toString();return c=c.replace(/function\s*?\S*?\s*?\(/,"function "+b+"(")},defineFnal=function(a){return a=a||{},function(b,c){var d=fnAs(b,"_$_$_"+a.name);return this.require(d),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+a.name+"( _$_$_"+a.name+(arguments.length>1?", "+JSON.stringify(c):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run,fn.terminate=fn.halt=fn.stop,fn.include=fn.require,util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()}),define.eventAliasesOn(thdfn),module.exports=Thread},{"./define":44,"./event":45,"./is":83,"./promise":86,"./util":100,"./window":107,child_process:void 0,path:void 0}],99:[function(a,b,c){"use strict";var d=a("../is");b.exports={hex2tuple:function(a){if((4===a.length||7===a.length)&&"#"===a[0]){var b,c,d,e=4===a.length,f=16;return e?(b=parseInt(a[1]+a[1],f),c=parseInt(a[2]+a[2],f),d=parseInt(a[3]+a[3],f)):(b=parseInt(a[1]+a[2],f),c=parseInt(a[3]+a[4],f),d=parseInt(a[5]+a[6],f)),[b,c,d]}},hsl2tuple:function(a){function b(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var c,d,e,f,g,h,i,j,k=new RegExp("^"+this.regex.hsla+"$").exec(a);if(k){if(d=parseInt(k[1]),0>d?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,e=parseFloat(k[2]),0>e||e>100)return;if(e/=100,f=parseFloat(k[3]),0>f||f>100)return;if(f/=100,g=k[4],void 0!==g&&(g=parseFloat(g),0>g||g>1))return;if(0===e)h=i=j=Math.round(255*f);else{var l=.5>f?f*(1+e):f+e-f*e,m=2*f-l;h=Math.round(255*b(m,l,d+1/3)),i=Math.round(255*b(m,l,d)),j=Math.round(255*b(m,l,d-1/3))}c=[h,i,j,g]}return c},rgb2tuple:function(a){var b,c=new RegExp("^"+this.regex.rgba+"$").exec(a);if(c){b=[];for(var d=[],e=1;3>=e;e++){var f=c[e];if("%"===f[f.length-1]&&(d[e]=!0),f=parseFloat(f),d[e]&&(f=f/100*255),0>f||f>255)return;b.push(Math.floor(f))}var g=d[1]||d[2]||d[3],h=d[1]&&d[2]&&d[3];if(g&&!h)return;var i=c[4];if(void 0!==i){if(i=parseFloat(i),0>i||i>1)return;b.push(i)}}return b},colorname2tuple:function(a){return this.colors[a.toLowerCase()];
},color2tuple:function(a){return(d.array(a)?a:null)||this.colorname2tuple(a)||this.hex2tuple(a)||this.rgb2tuple(a)||this.hsl2tuple(a)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},{"../is":83}],100:[function(a,b,c){"use strict";var d=a("../is"),e=a("../math"),f={trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(a){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(a){return this.extend({},a)},copy:function(a){return null==a?a:d.array(a)?a.slice():d.plainObject(a)?this.clone(a):a},uuid:function(a,b){for(b=a="";a++<36;b+=51*a&52?(15^a?8^Math.random()*(20^a?16:4):4).toString(16):"-");return b}};f.makeBoundingBox=e.makeBoundingBox.bind(e),f._staticEmptyObject={},f.staticEmptyObject=function(){return f._staticEmptyObject},f.extend=null!=Object.assign?Object.assign:function(a){for(var b=arguments,c=1;c<b.length;c++){var d=b[c];if(d)for(var e=Object.keys(d),f=0;f<e.length;f++){var g=e[f];a[g]=d[g]}}return a},f["default"]=function(a,b){return void 0===a?b:a},f.removeFromArray=function(a,b,c){for(var d=a.length;d>=0&&(a[d]!==b||(a.splice(d,1),c));d--);},f.clearArray=function(a){a.splice(0,a.length)},f.getPrefixedProperty=function(a,b,c){return c&&(b=this.prependCamel(c,b)),a[b]},f.setPrefixedProperty=function(a,b,c,d){c&&(b=this.prependCamel(c,b)),a[b]=d},[a("./colors"),a("./maps"),{memoize:a("./memoize")},a("./regex"),a("./strings"),a("./timing")].forEach(function(a){f.extend(f,a)}),b.exports=f},{"../is":83,"../math":85,"./colors":99,"./maps":101,"./memoize":102,"./regex":103,"./strings":104,"./timing":105}],101:[function(a,b,c){"use strict";var d=a("../is");b.exports={mapEmpty:function(a){var b=!0;return null!=a?0===Object.keys(a).length:b},pushMap:function(a){var b=this.getMap(a);null==b?this.setMap(this.extend({},a,{value:[a.value]})):b.push(a.value)},setMap:function(a){for(var b,c=a.map,e=a.keys,f=e.length,g=0;f>g;g++){var b=e[g];d.plainObject(b)&&this.error("Tried to set map with object key"),g<e.length-1?(null==c[b]&&(c[b]={}),c=c[b]):c[b]=a.value}},getMap:function(a){for(var b=a.map,c=a.keys,e=c.length,f=0;e>f;f++){var g=c[f];if(d.plainObject(g)&&this.error("Tried to get map with object key"),b=b[g],null==b)return b}return b},deleteMap:function(a){for(var b=a.map,c=a.keys,e=c.length,f=a.keepChildren,g=0;e>g;g++){var h=c[g];d.plainObject(h)&&this.error("Tried to delete map with object key");var i=g===a.keys.length-1;if(i)if(f)for(var j=Object.keys(b),k=0;k<j.length;k++){var l=j[k];f[l]||(b[l]=void 0)}else b[h]=void 0;else b=b[h]}}}},{"../is":83}],102:[function(a,b,c){"use strict";b.exports=function(a,b){b||(b=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);return a.join("$")});var c=function(){var d,e=this,f=arguments,g=b.apply(e,f),h=c.cache;return(d=h[g])||(d=h[g]=a.apply(e,f)),d};return c.cache={},c}},{}],103:[function(a,b,c){"use strict";var d="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",e="rgb[a]?\\(("+d+"[%]?)\\s*,\\s*("+d+"[%]?)\\s*,\\s*("+d+"[%]?)(?:\\s*,\\s*("+d+"))?\\)",f="rgb[a]?\\((?:"+d+"[%]?)\\s*,\\s*(?:"+d+"[%]?)\\s*,\\s*(?:"+d+"[%]?)(?:\\s*,\\s*(?:"+d+"))?\\)",g="hsl[a]?\\(("+d+")\\s*,\\s*("+d+"[%])\\s*,\\s*("+d+"[%])(?:\\s*,\\s*("+d+"))?\\)",h="hsl[a]?\\((?:"+d+")\\s*,\\s*(?:"+d+"[%])\\s*,\\s*(?:"+d+"[%])(?:\\s*,\\s*(?:"+d+"))?\\)",i="\\#[0-9a-fA-F]{3}",j="\\#[0-9a-fA-F]{6}";b.exports={regex:{number:d,rgba:e,rgbaNoBackRefs:f,hsla:g,hslaNoBackRefs:h,hex3:i,hex6:j}}},{}],104:[function(a,b,c){"use strict";var d=a("./memoize"),e=a("../is");b.exports={camel2dash:d(function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}),dash2camel:d(function(a){return a.replace(/(-\w)/g,function(a){return a[1].toUpperCase()})}),prependCamel:d(function(a,b){return a+b[0].toUpperCase()+b.substring(1)},function(a,b){return a+"$"+b}),capitalize:function(a){return e.emptyString(a)?a:a.charAt(0).toUpperCase()+a.substring(1)}}},{"../is":83,"./memoize":102}],105:[function(a,b,c){"use strict";var d=a("../window"),e=a("../is"),f=d?d.performance:null,g={},h=f&&f.now?function(){return f.now()}:function(){return Date.now()},i=function(){if(d){if(d.requestAnimationFrame)return function(a){d.requestAnimationFrame(a)};if(d.mozRequestAnimationFrame)return function(a){d.mozRequestAnimationFrame(a)};if(d.webkitRequestAnimationFrame)return function(a){d.webkitRequestAnimationFrame(a)};if(d.msRequestAnimationFrame)return function(a){d.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(h())},1e3/60)}}();g.requestAnimationFrame=function(a){i(a)},g.performanceNow=h,g.throttle=function(a,b,c){var d=!0,f=!0;return c===!1?d=!1:e.plainObject(c)&&(d="leading"in c?c.leading:d,f="trailing"in c?c.trailing:f),c=c||{},c.leading=d,c.maxWait=b,c.trailing=f,g.debounce(a,b,c)},g.now=function(){return Date.now()},g.debounce=function(a,b,c){var d,f,g,h,i,j,k,l=this,m=0,n=!1,o=!0;if(e.fn(a)){if(b=Math.max(0,b)||0,c===!0){var p=!0;o=!1}else e.plainObject(c)&&(p=c.leading,n="maxWait"in c&&(Math.max(b,c.maxWait)||0),o="trailing"in c?c.trailing:o);var q=function(){var c=b-(l.now()-h);if(0>=c){f&&clearTimeout(f);var e=k;f=j=k=void 0,e&&(m=l.now(),g=a.apply(i,d),j||f||(d=i=null))}else j=setTimeout(q,c)},r=function(){j&&clearTimeout(j),f=j=k=void 0,(o||n!==b)&&(m=l.now(),g=a.apply(i,d),j||f||(d=i=null))};return function(){if(d=arguments,h=l.now(),i=this,k=o&&(j||!p),n===!1)var c=p&&!j;else{f||p||(m=h);var e=n-(h-m),s=0>=e;s?(f&&(f=clearTimeout(f)),m=h,g=a.apply(i,d)):f||(f=setTimeout(r,e))}return s&&j?j=clearTimeout(j):j||b===n||(j=setTimeout(q,b)),c&&(s=!0,g=a.apply(i,d)),!s||j||f||(d=i=null),g}}},b.exports=g},{"../is":83,"../window":107}],106:[function(a,b,c){b.exports="2.7.17"},{}],107:[function(a,b,c){b.exports="undefined"==typeof window?null:window},{}]},{},[82])(82)}),function(a,b){var c=b.isDefined,d=b.isUndefined,e=b.isNumber,f=b.isObject,g=b.isArray,h=b.isString,i=b.extend,j=b.toJson;b.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/",secure:!1},this.defaultToCookie=!0,this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setDefaultToCookie=function(a){return this.defaultToCookie=!!a,this},this.setStorageCookie=function(a,b,c){return this.cookie.expiry=a,this.cookie.path=b,this.cookie.secure=c,this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=["$rootScope","$window","$document","$parse","$timeout",function(a,b,k,l,m){function n(c){if(c||(c=b.event),s.setItem&&h(c.key)&&w(c.key)){var d=v(c.key);m(function(){a.$broadcast("LocalStorageModule.notification.changed",{key:d,newvalue:c.newValue,storageType:p.storageType})})}}var o,p=this,q=p.prefix,r=p.cookie,s=p.notify,t=p.storageType;k?k[0]&&(k=k[0]):k=document,"."!==q.substr(-1)&&(q=q?q+".":"");var u=function(a){return q+a},v=function(a){return a.replace(new RegExp("^"+q,"g"),"")},w=function(a){return 0===a.indexOf(q)},x=function(){try{var c=t in b&&null!==b[t],d=u("__"+Math.round(1e7*Math.random()));return c&&(o=b[t],o.setItem(d,""),o.removeItem(d)),c}catch(e){return p.defaultToCookie&&(t="cookie"),a.$broadcast("LocalStorageModule.notification.error",e.message),!1}},y=x(),z=function(b,c,e){if(K(e),c=d(c)?null:j(c),!y&&p.defaultToCookie||"cookie"===p.storageType)return y||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),s.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),F(b,c);try{o&&o.setItem(u(b),c),s.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:p.storageType})}catch(f){return a.$broadcast("LocalStorageModule.notification.error",f.message),F(b,c)}return!0},A=function(b,c){if(K(c),!y&&p.defaultToCookie||"cookie"===p.storageType)return y||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),G(b);var d=o?o.getItem(u(b)):null;if(!d||"null"===d)return null;try{return JSON.parse(d)}catch(e){return d}},B=function(){var b=0;arguments.length>=1&&("localStorage"===arguments[arguments.length-1]||"sessionStorage"===arguments[arguments.length-1])&&(b=1,K(arguments[arguments.length-1]));var c,d;for(c=0;c<arguments.length-b;c++)if(d=arguments[c],!y&&p.defaultToCookie||"cookie"===p.storageType)y||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),s.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:d,storageType:"cookie"}),H(d);else try{o.removeItem(u(d)),s.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:d,storageType:p.storageType})}catch(e){a.$broadcast("LocalStorageModule.notification.error",e.message),H(d)}},C=function(b){if(K(b),!y)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var c=q.length,d=[];for(var e in o)if(e.substr(0,c)===q)try{d.push(e.substr(c))}catch(f){return a.$broadcast("LocalStorageModule.notification.error",f.Description),[]}return d},D=function(b,c){K(c);var d=q?new RegExp("^"+q):new RegExp,e=b?new RegExp(b):new RegExp;if(!y&&p.defaultToCookie||"cookie"===p.storageType)return y||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),I();if(!y&&!p.defaultToCookie)return!1;var f=q.length;for(var g in o)if(d.test(g)&&e.test(g.substr(f)))try{B(g.substr(f))}catch(h){return a.$broadcast("LocalStorageModule.notification.error",h.message),I()}return!0},E=function(){try{return b.navigator.cookieEnabled||"cookie"in k&&(k.cookie.length>0||(k.cookie="test").indexOf.call(k.cookie,"test")>-1)}catch(c){return a.$broadcast("LocalStorageModule.notification.error",c.message),!1}}(),F=function(b,c,h,i){if(d(c))return!1;if((g(c)||f(c))&&(c=j(c)),!E)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var l="",m=new Date,n="";if(null===c?(m.setTime(m.getTime()+-864e5),l="; expires="+m.toGMTString(),c=""):e(h)&&0!==h?(m.setTime(m.getTime()+24*h*60*60*1e3),l="; expires="+m.toGMTString()):0!==r.expiry&&(m.setTime(m.getTime()+24*r.expiry*60*60*1e3),l="; expires="+m.toGMTString()),b){var o="; path="+r.path;r.domain&&(n="; domain="+r.domain),"boolean"==typeof i?i===!0&&(n+="; secure"):r.secure===!0&&(n+="; secure"),k.cookie=u(b)+"="+encodeURIComponent(c)+l+o+n}}catch(p){return a.$broadcast("LocalStorageModule.notification.error",p.message),!1}return!0},G=function(b){if(!E)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var c=k.cookie&&k.cookie.split(";")||[],d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(u(b)+"=")){var f=decodeURIComponent(e.substring(q.length+b.length+1,e.length));try{var g=JSON.parse(f);return"number"==typeof g?f:g}catch(h){return f}}}return null},H=function(a){F(a,null)},I=function(){for(var a=null,b=q.length,c=k.cookie.split(";"),d=0;d<c.length;d++){for(a=c[d];" "===a.charAt(0);)a=a.substring(1,a.length);var e=a.substring(b,a.indexOf("="));H(e)}},J=function(){return t},K=function(a){return a&&t!==a&&(t=a,y=x()),y},L=function(a,b,d,e,g){e=e||b;var h=A(e,g);return null===h&&c(d)?h=d:f(h)&&f(d)&&(h=i(h,d)),l(b).assign(a,h),a.$watch(b,function(a){z(e,a,g)},f(a[b]))};y&&(b.addEventListener?(b.addEventListener("storage",n,!1),a.$on("$destroy",function(){b.removeEventListener("storage",n)})):b.attachEvent&&(b.attachEvent("onstorage",n),a.$on("$destroy",function(){b.detachEvent("onstorage",n)})));var M=function(a){K(a);for(var c=0,d=b[t],e=0;e<d.length;e++)0===d.key(e).indexOf(q)&&c++;return c};return{isSupported:y,getStorageType:J,setStorageType:K,set:z,add:z,get:A,keys:C,remove:B,clearAll:D,bind:L,deriveKey:u,underiveKey:v,length:M,defaultToCookie:this.defaultToCookie,cookie:{isSupported:E,set:F,add:F,get:G,remove:H,clearAll:I}}}]})}(window,window.angular),angular.module("ai.debug.front.config",[]).constant("config",{API_URL:""}),angular.module("ai.debug.front.templates",[]).run(["$templateCache",function(a){"use strict";a.put("core/views/actuator.fleetaction.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li class=active>FleetAction</li></ol><p><button class="btn btn-default btn-sm" ng-click=controller.RefreshData()>Refresh</button> <input type=search ng-model=q placeholder="filter name..." aria-label="filter name"><label><input type=checkbox ng-model=SimpleMode ng-change=controller.RefreshBlackboardData()>Simple</label></p><div class=col-md-3><table class="table table-striped table-bordered table-condensed"><tbody><tr><th>Fleet Name</th><th>Fleet Id</th></tr><tr ng-repeat="name in controller.FleetNames() | filter:q" ng-click=controller.SetName(name)><td class="selectable-cell {{controller.GetFleetStyle(name)}}" ng-click=controller.SetName(name)>{{name}}</td><td>{{controller.FleetId(name)}}</td></tr></tbody></table></div><div class=col-md-6><table ng-if=SelectedFleetData class="table table-striped table-bordered table-condensed"><tbody><tr><th>Action</th><th>TaskName</th><th>TaskId</th><th>AssignationId</th><th>Turn</th><th>Decision</th><th>Time</th></tr><tr ng-repeat="action in controller.GetSelected()"><td class="selectable-cell {{controller.GetActionStyle(action)}}" ng-click=controller.SetAction(action)>{{action.ActionName}}</td><td>{{action.TaskName}}</td><td class=selectable-cell ng-click=controller.SetMessage(action.TaskId)>{{action.TaskId}}</td><td class=selectable-cell ng-click=controller.SetMessage(action.AssignationId)>{{action.AssignationId}}</td><td>{{action.Turn}}</td><td>{{action.Decision}}</td><td>{{action.Time}}</td></tr></tbody></table></div><blackboard-message-directive ng-if=SelectedMessage model=SelectedMessage empire-index=EmpireIndex summary-mode=false></blackboard-message-directive><div class=col-md-10 ng-if=SelectedFleetAction><code>{{SelectedFleetAction.Callstack}}</code></div>'),a.put("core/views/actuators.behavior.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.actuators.fleet-missions({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li><a ui-sref="main.empires.actuators.fleet-missions({empireIndex: EmpireIndex })">Fleet missions</a></li><li class=active>Fleet {{ FleetGuid }} - Mission {{ FleetMission.MissionName }}</li></ol><button class="btn btn-default btn-sm" ng-click=controller.RefreshFleetMissionData()>Refresh</button><div><div class=col-sm-2><h3 class=selectable-cell ng-click=controller.ShowMission()>FleetMission {{TaskGuid}}/{{FleetGuid}}</h3><ul><li>Status :{{FleetMission.MissionStatusName}}</li><li>ActionLevel :{{controller.GetActionLevel()}}</li><li class=selectable-cell ng-click=controller.ShowEntity(SelectedData.MainTarget)>MainTarget :{{SelectedData.MainTarget}}</li><li>TargetEmpireIndex :{{SelectedData.TargetEmpireIndexs}}</li><li class=selectable-cell ng-click=controller.ShowNode(SelectedData.FinalDestination.NodeIndex)>NodeIndex :{{SelectedData.FinalDestination.NodeIndex}}</li></ul></div><behavior-directive ng-if=SelectedRootNode model=SelectedRootNode></behavior-directive><rawdata url=RawdataUrl></rawdata><heuristic-context-directive ng-if=SelectedHeuristicContext model=SelectedHeuristicContext></heuristic-context-directive></div>'),a.put("core/views/actuators.fleet-missions.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.actuators.fleet-missions({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Fleet missions</li></ol><button class="btn btn-default btn-sm" ng-click=controller.RefreshDecisionData()>Refresh</button><div ng-repeat="fleetMission in FleetMissions" class=col-sm-3><div class="panel {{ controller.GetPanelClass(fleetMission.Status) }}"><div class=panel-heading><h3 class=panel-title><span class="badge ng-binding" uib-tooltip=GUID>{{fleetMission.Task.Guid.Value}}</span> {{ fleetMission.FleetMissionTask.LocalizedName }} ({{ fleetMission.MissionStatusName }})</h3></div><div class=panel-body><p>Motivation: <strong>{{fleetMission.FleetMissionTask.Motivation * 100 | number:1}}%</strong></p><p ng-if=fleetMission.FleetMissionTask.FrontGuid>Front {{fleetMission.FleetMissionTask.FrontGuid}}</p><p ng-if=fleetMission.FleetMissionTask.TargetNode>TargetSystem {{fleetMission.FleetMissionTask.TargetNode.NodeIndex}}</p><p ng-if=fleetMission.FleetMissionTask.TargetGUID>TargetGUID {{fleetMission.FleetMissionTask.TargetGUID}}</p><h4>Behavior by fleets:</h4><div ng-repeat="(key,fleetBehavior) in fleetMission.BehaviorDataByFleetGuid" data-toggle=tooltip title="{{fleetBehavior}}: {{fleetBehavior.BehaviorName}}"><p>Fleet={{key}} {{fleetBehavior.BehaviorName}}({{fleetBehavior.StatusName}})</p><button class="btn btn-default btn-sm" ng-click="controller.DisplayFleetMission(fleetMission, key)">Display behavior</button></div></div></div></div>'),a.put("core/views/analysis.diplomacy.balance-contract.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.analysis.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li><a ui-sref="main.empires.analysis.diplomacy.overview({ empireIndex: EmpireIndex })">Diplomacy Analysis</a></li><li class=active>Contract balancing</li></ol><button class="btn btn-default btn-sm" ng-click=controller.RefreshData()>Refresh</button> <button class="btn btn-default btn-sm" ui-sref="main.empires.analysis.diplomacy.overview({ empireIndex: EmpireIndex })">Back</button><p></p><h1 class=selectable-cell ng-click=controller.ShowJson()>{{ BlackboardMessage.LocalizedName }}</h1><p></p><div ng-repeat="contract in BlackboardMessage.BalanceContractHistoric" class=col-sm-12><h2>Iteration {{ contract.Iteration }} <small>Displayed evaluation: {{ contract.DisplayedEvaluation | number:2}}</small></h2><div class=col-sm-3><heuristic-context-directive model=contract.HeuristicContext></heuristic-context-directive></div><div class=col-sm-6><table class="table table-bordered"><thead><tr><th style="width: 50%">Empire {{ EmpireIndex }} provide</th><th style="width: 50%">Empire {{ BlackboardMessage.OtherEmpireIndex }} provide</th></tr></thead><tbody><tr ng-repeat="term in contract.Option.Terms"><td ng-if="term.EmpireWhichProvidesIndex == EmpireIndex">{{ controller.ComputeTermName(term) }}</td><td></td><td ng-if="term.EmpireWhichProvidesIndex == BlackboardMessage.OtherEmpireIndex">{{ controller.ComputeTermName(term) }}</td></tr></tbody></table></div><div class=col-sm-3><p ng-class="{\'bg-danger\': contract.RefuseMotivation > contract.AcceptMotivation}"><strong>Refusal motivation:</strong> {{ contract.RefuseMotivation * 100 | number:1 }}%</p><p ng-class="{\'bg-success\': contract.AcceptMotivation >= contract.RefuseMotivation}"><strong>Acceptation motivation:</strong> {{ contract.AcceptMotivation * 100 | number:1}}%</p><table class="table table-condensed"><caption>Contract acceptation resource allocations</caption><thead><tr><th>Resource</th><th>Needed</th><th>Max</th></tr></thead><tr ng-repeat="allocation in contract.ResourceAllocations" ng-class="{\'danger\': allocation.Status == 4}"><td>{{ allocation.ResourceName }}</td><td>{{ allocation.NeededQuantity | number:1 }}</td><td>{{ allocation.MaximumAssignableQuantity | number:1 }}</td></tr></table></div></div><button class="btn btn-default btn-sm" ng-click=controller.RefreshData()>Refresh</button><rawdata url=RawdataUrl></rawdata>'),a.put("core/views/analysis.diplomacy.behavior.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.analysis.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li><a ui-sref="main.empires.analysis.diplomacy.overview({ empireIndex: EmpireIndex })">Diplomacy Analysis</a></li><li class=active>Behavior with empire {{ OtherEmpireIndex }}</li></ol><button class="btn btn-default btn-sm" ng-click=controller.RefreshData()>Refresh</button> <button class="btn btn-default btn-sm" ui-sref="main.empires.analysis.diplomacy.overview({ empireIndex: EmpireIndex })">Back</button><p></p><h1 class=selectable-cell ng-click=controller.ShowJson()>Diplomatic relation behavior with empire {{ OtherEmpireIndex }} <small>{{ DiplomaticBehavior.CurrentStateFullName }}</small></h1><p></p><p ng-if=DiplomaticBehavior.TransitionsAnnotations></p><h4>Active Transition Annotations</h4><ul><li ng-repeat="annotation in DiplomaticBehavior.TransitionsAnnotations">{{ annotation }}</li></ul><p></p><div class=col-md-12><cytoscape elements=GraphElements set-current-state-uri=controller.SetDiplomaticBehaviorCurrentStateUri()></cytoscape></div><rawdata url=RawdataUrl></rawdata>'),a.put("core/views/analysis.diplomacy.overview.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.analysis.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Diplomacy Analysis</li></ol><button class="btn btn-default btn-sm" ng-click=controller.RefreshData()>Refresh</button><div ng-repeat="relationData in DiplomacyData.RelationDataByEmpireIndex" ng-if="relationData.EmpireIndex != EmpireIndex && relationData.EmpireSummary.TypeName == \'MajorEmpireSnapshot\'"><h3 ng-style=controller.GetEmpireStyle(relationData)>{{ relationData.EmpireSummary.LocalizedName }} <small>{{ relationData.EmpireSummary.AIPlayer.LocalizedName }}</small></h3><p><strong>Behavior state: </strong>{{ relationData.DiplomaticBehavior.CurrentStateFullName }} <strong>Annotations: </strong><span ng-repeat="tag in relationData.DiplomaticBehavior.TransitionsAnnotations">{{ tag }}, </span><button class="btn btn-default btn-sm" ui-sref="main.empires.analysis.diplomacy.behavior({ empireIndex: EmpireIndex, otherEmpireIndex: relationData.EmpireIndex })">Show behavior</button></p><p ng-if=relationData.DiplomaticBehavior.AttitudeStateName><strong>Attitude: </strong>{{ relationData.DiplomaticBehavior.AttitudeStateName }}</p><p ng-if="relationData.BalanceContractGoals.length > 0"><strong>Contract balancing in progress:</strong><ul><li ng-repeat="goal in relationData.BalanceContractGoals">{{goal.LocalizedName}} ({{ goal.BalanceContractHistoric.length }} iterations) <button class="btn btn-default btn-sm" ui-sref="main.empires.analysis.diplomacy.balance-contract({ empireIndex: EmpireIndex, goalGuid: goal.Guid.Value })">Details</button></li></ul></p><table class="table table-hover"><thead><tr><th>Id</th><th>Name</th><th>Number of turn since activation</th><th>Number of turn remaining</th><th>Insertion mode</th><th>Categories</th></tr></thead><tbody><tr ng-repeat="logEntry in relationData.RelationLogs.LogEntries"><td>{{ logEntry.Id }}</td><td>{{ logEntry.Parameters.Name }}</td><td>{{ logEntry.NumberOfTurnSinceActivation }}</td><td>{{ logEntry.NumberOfTurnRemaining }}</td><td>{{ EnumService.InsertionModeNames()[logEntry.Parameters.InsertionMode] }}</td><td>{{ controller.GetRelationLogsCategoriesNames (logEntry.Parameters.EntryCategories) }}</td></tr></tbody></table></div>'),a.put("core/views/analysis.entities.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.analysis.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Entities Analysis</li><button class="btn btn-default btn-sm" ng-click=controller.RefreshAnalysisData()>Refresh</button></ol><h3>Empire Analysis</h3><div class=col-md-3><table class="table table-striped"><tbody><tr ng-repeat="AnalysisData in AnaylsisDataHolder.MyEmpireData.AnalysisValues"><td>{{ AnalysisData.Key }}</td><td ng-if=AnalysisData.HeuristicContext class=selectable-cell ng-click=controller.DisplayHeuristicContext(AnalysisData.HeuristicContext)>{{ AnalysisData.Value }}</td><td ng-if=!AnalysisData.HeuristicContext>{{ AnalysisData.Value }}</td></tr></tbody></table></div><div class=clearfix></div><p></p><h3>Game Node Analysis</h3><input type=search ng-model=q placeholder="filter name..." aria-label="filter name"><p></p><div class=col-md-9><table class="table table-striped"><thead><tr><th ng-click="controller.SetSortType(\'NodeIndex\')"><div><span ng-show="SortType != \'NodeIndex\'">NodeIndex</span> <span ng-show="SortType == \'NodeIndex\' && !SortUp" class="glyphicon glyphicon-collapse-down">NodeIndex</span> <span ng-show="SortType == \'NodeIndex\' && SortUp" class="glyphicon glyphicon-collapse-up">NodeIndex</span></div></th><th ng-repeat="headerData in AnaylsisDataHolder.NodeData[0].AnalysisValues" ng-if=headerData.HeuristicContext><div ng-click=controller.SetSortType(headerData.Key)><span ng-show="SortType != headerData.Key">{{headerData.Key}}</span> <span ng-show="SortType == headerData.Key && !SortUp" class="glyphicon glyphicon-collapse-down">{{headerData.Key}}</span> <span ng-show="SortType == headerData.Key && SortUp" class="glyphicon glyphicon-collapse-up">{{headerData.Key}}</span></div></th></tr></thead><tbody><tr ng-repeat="GameNodeData in AnaylsisDataHolder.NodeData | filter:q | orderBy:CompareFunction:SortUp"><td><span uib-tooltip="Position: {{ GameNodeData.Node.NodePosition.NodeIndex }}">{{ GameNodeData.Node.LocalizedName }}</span></td><td ng-repeat="AnalysisData in GameNodeData.AnalysisValues" ng-if=AnalysisData.HeuristicContext ng-class="AnalysisData.HeuristicContext ? \'selectable-cell\' : \'\'" ng-click=controller.DisplayHeuristicContext(AnalysisData.HeuristicContext)>{{ AnalysisData.Value }}</td></tr></tbody></table></div><div class="col-md-3 analysis-heuristic-panel" data-spy=affix><heuristic-context-directive ng-if=SelectedHeuristicContext model=SelectedHeuristicContext></heuristic-context-directive></div>'),a.put("core/views/analysis.expansion.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.analysis.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Expansion Analysis</li></ol><button class="btn btn-default btn-sm" ng-click=controller.RefreshGalaxyData()>Refresh</button><div><h1 class=selectable-cell ng-click=controller.ShowJson()>Expansion galaxy view</h1></div><div><svg id=svg-canvas class="main-svg col-md-9 small-border"></svg></div><rawdata url=RawdataUrl></rawdata>'),a.put("core/views/analysis.galaxy.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.analysis.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Galaxy Analysis</li></ol><button class="btn btn-default btn-sm" ng-click=controller.RefreshGalaxyData()>Refresh</button> <button class="btn btn-default btn-sm" ng-click=controller.ResetDesign()>Reset design</button><div><h1 class=selectable-cell ng-click=controller.ShowJson()>Strategic galaxy view</h1></div><div><svg id=svg-canvas class="main-svg col-md-9 small-border"></svg><military-data-directive model=StrategicDataHolder.MilitaryData></military-data-directive><div class=col-sm-3><div class="panel panel-default"><div class=panel-heading><h3 class=panel-title><button data-toggle=collapse data-target=#TaskForcePattern>+</button> TaskForcePattern : {{StrategicDataHolder.MilitaryData.TaskForcePattern.HasTaskForcePattern ? "No Pattern" : (StrategicDataHolder.MilitaryData.TaskForcePattern.FleetCommandPoint + "CP")}}</h3></div><div class="panel-body collapse" id=TaskForcePattern><table class="table table-striped"><tr><th>Role</th><th>CommandPoint</th></tr><tr ng-repeat="ship in StrategicDataHolder.MilitaryData.TaskForcePattern.ShipRoles"><td>{{controller.GetRoleName(ship.RoleSpeciality)}}</td><td>{{ship.CommandPoint}}</td></tr></table></div></div></div><div class=col-sm-3><div class="panel panel-default"><div class=panel-heading><h3 class=panel-title>Fronts ({{SelectedFront.FrontGuid}})</h3></div><div class=panel-body><table class="table table-striped"><tbody><tr ng-click=controller.SetGroup(StrategicDataHolder.MilitaryData.SafeFront)><td class="selectable-cell {{controller.GetFrontStyle(StrategicDataHolder.MilitaryData.SafeFront)}}">{{StrategicDataHolder.MilitaryData.SafeFront.FrontGuid}} : SafeFront</td></tr><tr ng-repeat="front in StrategicDataHolder.MilitaryData.Fronts" ng-click=controller.SetGroup(front)><td class="selectable-cell {{controller.GetFrontStyle(front)}}">{{front.FrontGuid}} vs empire{{front.EnemyEmpireIndex}} [Animosity:{{StrategicDataHolder.MilitaryData.RelationDataByEmpireIndex[front.EnemyEmpireIndex].Animosity.Value | number:2}}] <span uib-tooltip=nemesis ng-show="front.EnemyEmpireIndex == StrategicDataHolder.MilitaryData.BestEnemyIndex" class="glyphicon glyphicon-screenshot"></td></tr></tbody></table></div></div></div><node-data-directive ng-if=SelectedNodeData model=SelectedNodeData></node-data-directive><strategic-node-directive ng-if=SelectedFront model=SelectedFront></strategic-node-directive></div><rawdata url=RawdataUrl></rawdata>'),
a.put("core/views/analysis.situation.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.analysis.situation({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Entities Situation</li><button class="btn btn-default btn-sm" ng-click=controller.RefreshData()>Refresh</button></ol><h3>Empire Situation</h3><div ng-repeat="situation in Situations" class=col-md-12><p><button data-toggle=collapse data-target=#content{{$index}}>+</button> Empire :{{situation.EmpireIndex == -1 ? "FakeNemesis" : situation.EmpireIndex}}{{situation.MainBattleSituation ? " (main enemy)" : ""}}</p><div id=content{{$index}} class=collapse><situation-directive situation=situation.DeckSituation></situation-directive><situation-directive situation=situation.FleetSituation></situation-directive><situation-directive situation=situation.EmpireSituation></situation-directive><situation-directive ng-if="situation.EmpireIndex != EmpireIndex" situation=situation.LocalAvantage></situation-directive><div ng-if="situation.EmpireIndex != EmpireIndex"><div class=col-md-3><table class="table table-striped"><tr ng-repeat="module in situation.ModuleSituations"><td><input type=checkbox data-toggle=collapse data-target=#module{{$parent.$index}}_{{$index}}> {{module.Name}} : {{module.Value| number:3}}</td></tr><tr ng-repeat="play in situation.PlaySituations"><td><input type=checkbox data-toggle=collapse data-target=#play{{$parent.$index}}_{{$index}}> {{play.Name}} : {{play.Avantage| number:3}}</td></tr></table></div><div><div ng-repeat="module in situation.ModuleSituations"><div id=module{{$parent.$index}}_{{$index}} class=collapse><situation-directive situation=module></situation-directive></div></div><div ng-repeat="play in situation.PlaySituations"><div id=play{{$parent.$index}}_{{$index}} class=collapse><situation-directive situation=play></situation-directive></div></div></div></div></div></div>'),a.put("core/views/debug.behaviors.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li class=active>Debug - All behaviors</li></ol><div class=behaviors><div class="behaviors-item behaviors-item-text" ng-repeat="behavior in Behaviors" ng-click=controller.DisplayBehavior(behavior)><span class=behaviors-item-message>{{behavior.NodeName}}</span></div></div><div ng-if=SelectedBehavior class="behaviors-panel behaviors-panel-text" id=behavior-panel><div class=panel-heading><span class=behaviors-item-message>=== {{SelectedBehavior.NodeName}} ===</span> <i class="glyphicon glyphicon-remove pull-right behaviors-panel-close" ng-click=controller.CloseBehavior()></i></div><div class=panel-body><behavior-directive model=SelectedBehavior></div></div>'),a.put("core/views/decision.allocator.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.decision.graph({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Allocators</li></ol><p><button class="btn btn-default btn-sm" ng-click=controller.RefreshBlackboardData()>Refresh</button></p><div class=col-md-2><div ng-repeat="context in controller.GetContexts()"><h4 ng-click=controller.Fold(context)>{{context.LocalizedName}}</h4><table ng-if=Foldout[context.LocalizedName] class="table table-striped table-bordered table-condensed"><tbody><tr><th>Resource</th><th>tasks</th></tr><tr ng-click="controller.SetAllocator(allocator.ResourceName, context)" ng-repeat="allocator in controller.GetAllocators(context)"><td>{{allocator.ResourceName}}</td><td>{{controller.GetTasks(allocator.ResourceName, context).length}}</td></tr></tbody></table></div></div><div class=col-md-4><div ng-if=controller.HasAllocator()><h4>{{AllocatorResource}}</h4><div ng-repeat="message in controller.GetTasks(AllocatorResource, AllocatorContext)" ng-click=controller.SetMessage(message)><blackboard-message-directive model=message summary-mode=true empire-index=EmpireIndex></blackboard-message-directive></div></div></div><blackboard-message-directive ng-if=SelectedMessage model=SelectedMessage summary-mode=false empire-index=EmpireIndex></blackboard-message-directive>'),a.put("core/views/decision.blackboard.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.decision.graph({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Blackboard</li></ol><p><button class="btn btn-default btn-sm" ng-click=controller.RefreshBlackboardData()>Refresh</button> <input type=search ng-model=q placeholder="filter name..." aria-label="filter name"><label><input type=radio name=optradio ng-model=Status value=All><span class="label label-default">All</span> [{{controller.Count("ALL")}}]</label><label><input type=radio name=optradio ng-model=Status value=Ongoing><span class="label label-primary">Ongoing</span>[{{controller.Count("Ongoing")}}]</label><label><input type=radio name=optradio ng-model=Status value=Succeed><span class="label label-success">Succeed</span>[{{controller.Count("Succeed")}}]</label><label><input type=radio name=optradio ng-model=Status value=Failed><span class="label label-danger">Failed</span>[{{controller.Count("Failed")}}]</label><label><input type=radio name=optradio ng-model=Status value=Cancel><span class="label label-danger">Cancel</span>[{{controller.Count("Cancel")}}]</label><label><input type=radio name=optradio ng-model=Status value=Deny><span class="label label-warning">Deny</span>[{{controller.Count("Deny")}}]</label></p><div ng-repeat="message in controller.GetBlackboardMessages(Status) | filter:q"><blackboard-message-directive model=message summary-mode=false empire-index=EmpireIndex></blackboard-message-directive></div>'),a.put("core/views/decision.generator.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li class=active>Generator</li></ol><p><button class="btn btn-default btn-sm" ng-click=controller.RefreshData()>Refresh</button> <input type=search ng-model=q placeholder="filter name..." aria-label="filter name"></p><div class=col-md-12><table class="table table-striped table-bordered table-condensed"><tbody><tr><th><button ng-click="controller.Sort(\'LocalizedName\')">Generator</button> <span ng-show="SortBy === \'LocalizedName\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'Description\')">Description</button> <span ng-show="SortBy === \'Description\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'Type\')">Type</button> <span ng-show="SortBy === \'Type\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'EvaluationPriority\')">Priority</button> <span ng-show="SortBy === \'EvaluationPriority\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'CanGenerate\')">Active?</button> <span ng-show="SortBy === \'CanGenerate\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'MinimumRequiredExecutionMode\')"></button> <span ng-show="SortBy === \'MinimumRequiredExecutionMode\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'IsObsolete\')"></button> <span ng-show="SortBy === \'IsObsolete\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th></tr><tr ng-repeat="generator in Generators | filter:q | orderBy:SortBy:SortUp" ng-class="generator.IsObsolete ? \'danger\' : \'\'"><td>{{generator.LocalizedName}}</td><td>{{generator.Description}}</td><td>{{generator.Type}}</td><td>{{generator.EvaluationPriority}}</td><td><div class=dropdown><a class="btn btn-default dropdown-toggle" role=button href="" data-toggle=dropdown>{{ generator.CanGenerate }} <span class=caret></span></a><ul class=dropdown-menu><li><a ng-click=controller.Switch(generator.GeneratorGuid)>{{ !generator.CanGenerate }}</a></li></ul></div></td><td><span ng-if="generator.MinimumRequiredExecutionMode == 0" uib-tooltip="Always activated (even when the AI player is deactivated)." class="icon glyphicon glyphicon-king"></span> <span ng-if="generator.MinimumRequiredExecutionMode == 1" uib-tooltip="Activated event if AI have limited control on the empire (when a human player leave)." class="icon glyphicon glyphicon-knight"></span> <span ng-if="generator.MinimumRequiredExecutionMode == 2" uib-tooltip="Activated only when AI have full control on the empire (base behavior)." class="icon glyphicon glyphicon-pawn"></span></td><td><span ng-if=generator.IsObsolete uib-tooltip=Obsolete class="icon glyphicon glyphicon-info-sign"></span></td></tr></tbody></table></div>'),a.put("core/views/decision.graph.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.decision.graph({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Decision {{ EmpireSummary.DecisionCount }} Graph</li></ol><div class="col-md-12 well"><div class=col-md-1><button class="btn btn-default btn-sm" ng-click=controller.RefreshDecisionData()>Refresh</button> <button class="btn btn-default btn-sm" ng-if=SelectedMessage ng-click=controller.SetSelectedMessage(null)>Back</button></div><div class=col-md-2><label><input type=checkbox ng-model=AutoFilter ng-change=controller.DisplayDecisionGraph()>Auto filter</label><input type=search ng-model=NameFilter ng-change=controller.DisplayDecisionGraph() placeholder="filter by name..."></div><div class=col-md-4><button type=button ng-click=controller.DisplayAll()>All [{{CountAll}}]</button><label><input type=checkbox ng-model=DisplayWaitingForValidation ng-change=controller.DisplayDecisionGraph()><span class="label label-default">WaitingForValidation</span>[{{CountWaitingForValidation}}]</label><label><input type=checkbox ng-model=DisplayOngoing ng-change=controller.DisplayDecisionGraph()><span class="label label-primary">Ongoing</span>[{{CountOngoing}}]</label><label><input type=checkbox ng-model=DisplaySucceed ng-change=controller.DisplayDecisionGraph()><span class="label label-success">Succeed</span>[{{CountSucceed}}]</label><label><input type=checkbox ng-model=DisplayFailed ng-change=controller.DisplayDecisionGraph()><span class="label label-danger">Failed</span>[{{CountFailed}}]</label><label><input type=checkbox ng-model=DisplayCancel ng-change=controller.DisplayDecisionGraph()><span class="label label-danger">Cancel</span>[{{CountCancel}}]</label><label><input type=checkbox ng-model=DisplayDeny ng-change=controller.DisplayDecisionGraph()><span class="label label-warning">Deny</span>[{{CountDeny}}]</label><label><input type=checkbox ng-model=DisplayOthers ng-change=controller.DisplayDecisionGraph()><span class="label label-default">Others</span>[{{CountOthers}}]</label></div><label class=col-md-2><input type=range ng-model=MinMotivationFilter ng-change=controller.DisplayDecisionGraph() min=0 max=1 value=0 step=0.1>Minimum Motivation {{MinMotivationFilter*100}}%</label><div class="col-md-2 dropdown"><select class="btn btn-default dropdown-toggle" name=singleSelect id=singleSelect ng-model=GroupFilter ng-change=controller.DisplayDecisionGraph()><option value=0></option><option ng-repeat="group in Groups | orderBy: \'Label\'" value={{group.Id}}>{{group.Label}}</option></select></div><div ng-if=Loading class="loader col-md-1"></div><div ng-if=Error class=col-md-1><span class="glyphicon glyphicon-exclamation-sign"></span></div></div><div><svg id=svg-canvas class=main-svg ng-class="{\'col-md-9\': SelectedMessage, \'col-md-12\': !SelectedMessage}"></svg><blackboard-message-directive model=SelectedMessage summary-mode=false ng-if=SelectedMessage empire-index=EmpireIndex></blackboard-message-directive></div>'),a.put("core/views/directives/behavior-model.html",'<div><div><svg id=svg-canvas class="main-svg col-md-12"></svg></div><div class=col-md-3><heuristic-context-directive ng-if=SelectedNode.DebugState.HeuristicContext model=SelectedNode.DebugState.HeuristicContext></heuristic-context-directive></div></div>'),a.put("core/views/directives/blackboard-message.html",'<div><div ng-if="SummaryMode==false" class=col-sm-3><div class="panel panel-default {{ controller.GetMotivationCategory(Message.Motivation) }} motivation-border"><div class="panel-heading {{ controller.GetMotivationCategory(Message.Motivation) }} motivation-background motivation-border"><h3 class=panel-title><span class="badge selectable-cell" uib-tooltip=GUID ng-click=controller.ShowJson()>{{ Message.Guid.Value }}</span> {{ Message.LocalizedName }} <span class="label label-{{ controller.GetCSSClass(Message.Status) }}" uib-tooltip=Status>{{ EnumService.EvaluationStatusByValue(Message.Status) }}</span></h3></div><div class=panel-body><p>Motivation: <strong class="highlight {{ controller.GetMotivationCategory(Message.Motivation) }} motivation-foreground">{{Message.Motivation * 100 | number:1}}%</strong></p><p class=selectable-cell ng-if=Message.ContextGuid ng-click=controller.ShowEntity(Message.ContextGuid)>Context: <span uib-tooltip="Guid: {{ Message.ContextGuid }}">{{Message.Context.Name}}</span></p><p ng-if=Message.ActionType>Action Type: {{ EnumService.ActionTypeNames()[Message.ActionType] }}</p><p ng-if=Message.GroupType>Group Type: {{ Message.GroupName }} => {{Message.GroupId}}</p><p ng-if=Message.ConstructibleName>ConstructibleName: {{ Message.ConstructibleName }}</p><ng-include ng-if=controller.IsFleetBehavior() src="\'core/views/partials/_blackboard-message-fleet-behavior.html\'"></ng-include><ng-include ng-if=Message.ResourceAllocations src="\'core/views/partials/_blackboard-message-resource-allocations.html\'"></ng-include><ng-include ng-if=Message.InstanceAllocations src="\'core/views/partials/_blackboard-message-instance-allocations.html\'"></ng-include></div><table class=table><caption>Evaluations</caption><thead><tr><th>Parent Goal</th><th>Generator</th><th><span uib-tooltip=Aggregation>Agg</span></th><th>Motivation</th></tr></thead><tbody><tr ng-repeat="evaluation in Message.Evaluations" class="highlight {{ controller.GetMotivationCategory(evaluation.Motivation) }} motivation-border motivation-background motivation-foreground"><td><span uib-tooltip="Guid: {{ evaluation.ParentGoal.Guid.Value }}">{{ evaluation.ParentGoal.LocalizedName }}</span></td><td><span uib-tooltip="{{ evaluation.Generator.Description }}">{{ evaluation.Generator.LocalizedName }}</span></td><td><span uib-tooltip="{{ controller.GetAggregationName(evaluation.Aggregation) }}" class="glyphicon glyphicon-{{ controller.GetAggregationClass(evaluation.Aggregation) }}"></span></td><td class=selectable-cell ng-click=controller.DisplayEvaluationMotivationHeuristicContext(evaluation.MotivationHeuristicContext)>{{ evaluation.Motivation * 100 | number:1 }}%</td></tr></tbody></table></div><heuristic-context-directive ng-if=SelectedHeuristicContext model=SelectedHeuristicContext></heuristic-context-directive></div><div ng-if="SummaryMode==true" class=col-md-12><div class="panel panel-default {{ controller.GetMotivationCategory(Message.Motivation) }} motivation-border"><div class="panel-heading {{ controller.GetMotivationCategory(Message.Motivation) }} motivation-background motivation-border"><h3 class=panel-title><span class=badge uib-tooltip=GUID>{{ Message.Guid.Value }}</span> {{ Message.LocalizedName }} / {{Message.Motivation * 100 | number:1}}% <span class="label label-{{ controller.GetCSSClass(Message.Status) }}" uib-tooltip=Status>{{ EnumService.EvaluationStatusByValue(Message.Status) }}</span></h3></div></div></div><rawdata url=RawdataUrl></rawdata></div>'),a.put("core/views/directives/heuristic-context.html",'<div><div class="panel panel-default"><div class=panel-heading><h3 class=panel-title ng-if="HeuristicContext.Type == \'Float\'">{{ HeuristicContext.Root.ScoreAtEnd | number:2 }}</h3><h3 class=panel-title ng-if="HeuristicContext.Type == \'Bool\'">{{ HeuristicContext.Root.ScoreAtEnd }}</h3></div><div class=panel-body><div ng-if="!HeuristicContext.Root.Data || HeuristicContext.Root.Data.length == 0">No data. Evaluation has probably been loaded from a save and hasn\'t been reevaluated in the last decision processes.</div><div ng-repeat="data in HeuristicContext.Root.Data"><ng-include src="\'core/views/partials/_heuristic-context-scope.html\'"></ng-include></div></div></div></div>'),a.put("core/views/directives/military-data.html",'<div class=col-sm-3><div class="panel panel-default"><div class=panel-heading><h3 class=panel-title><button data-toggle=collapse data-target=#militaryData>+</button> MilitaryData</h3></div><div class="panel-body collapse" id=militaryData><table class="table table-striped"><tbody><tr ng-repeat="AnalysisData in MilitaryData.HeuristicValues"><td>{{AnalysisData.Key}}</td><td class=selectable-cell ng-click=controller.DisplayHeuristicContext(AnalysisData.HeuristicContext)>{{ AnalysisData.Value | number:2 }}</td></tr></tbody></table><heuristic-context-directive ng-if=SelectedHeuristicContext model=SelectedHeuristicContext></heuristic-context-directive></div></div></div>'),a.put("core/views/directives/node-data.html",'<div class=col-sm-3><div class="panel panel-default"><div class=panel-heading><h3 class=panel-title>{{ NodeData.Node.LocalizedName }}</h3></div><div class=panel-body><table class="table table-striped"><tbody><tr ng-repeat="AnalysisData in NodeData.AnalysisValues" ng-if=AnalysisData.HeuristicContext><td>{{ AnalysisData.Key }}</td><td ng-class="AnalysisData.HeuristicContext ? \'selectable-cell\' : \'\'" ng-click=controller.DisplayHeuristicContext(AnalysisData.HeuristicContext)>{{ AnalysisData.Value }}</td></tr></tbody></table><heuristic-context-directive ng-if=SelectedHeuristicContext model=SelectedHeuristicContext></heuristic-context-directive></div></div></div>'),a.put("core/views/directives/rawdata-modal.html",'<div class="modal fade" id=myModal tabindex=-1 role=dialog aria-labelledby=myModalLabel><div class=modal-dialog role=document><div class=modal-content><div class=modal-header><h4 class=modal-title><a ng-href={{ShowUrl}}>{{ShowUrl}}</a></h4></div><div class=modal-body><json-formatter open json=Json></json-formatter></div></div></div></div>'),a.put("core/views/directives/situation-detail.html","<div class=col-md-3><h5 ng-if=Situation.IsAvantage uib-tooltip=\"for current empire\">{{Situation.Name}} avantage : {{Situation.Avantage | number:3}}</h5><h5 ng-if=!Situation.IsAvantage uib-tooltip=\"for current empire\">{{Situation.Name}} value : {{Situation.Value| number:3}}</h5><table class=\"table table-striped\"><tr><th>Situation</th><th ng-if=!Situation.IsAvantage>Use</th><th ng-if=Situation.IsAvantage>Current Empire</th><th ng-if=!Situation.IsAvantage>Against</th><th ng-if=Situation.IsAvantage>Other Empire</th></tr><tr ng-repeat=\"type in Types\"><td>{{type}}</td><td ng-click=controller.DisplayEvaluationMotivationHeuristicContext(Situation.UseSituationValues[$index].HeuristicContext) ng-class=\"Situation.UseSituationValues[$index].Value > 0 ? 'success selectable-cell' : Situation.UseSituationValues[$index].Value  < 0 ? 'selectable-cell danger' : 'selectable-cell'\">{{Situation.UseSituationValues[$index].Value | number:3}}</td><td ng-if=!Situation.IsAvantage ng-click=controller.DisplayEvaluationMotivationHeuristicContext(Situation.AgainstSituationValues[$index].HeuristicContext) ng-class=\"Situation.AgainstSituationValues[$index] > 0 ? 'success selectable-cell' : Situation.AgainstSituationValues[$index].Value  < 0 ? 'danger selectable-cell' : 'selectable-cell'\">{{Situation.AgainstSituationValues[$index].Value | number:3}}</td><td ng-if=Situation.IsAvantage ng-click=controller.DisplayEvaluationMotivationHeuristicContext(Situation.AgainstSituationValues[$index].HeuristicContext) ng-class=\"Situation.AgainstSituationValues[$index] < 0 ? 'success selectable-cell' : Situation.AgainstSituationValues[$index].Value  > 0 ? 'danger selectable-cell' : 'selectable-cell'\">{{Situation.AgainstSituationValues[$index].Value | number:3}}</td></tr></table><heuristic-context-directive ng-if=SelectedHeuristicContext model=SelectedHeuristicContext></heuristic-context-directive></div>"),a.put("core/views/directives/strategic-node.html",'<div class=col-sm-12><div class="panel panel-default col-sm-3"><div class=panel-heading><h3 class=panel-title>Front = {{ StrategicFront.FrontGuid}}</h3></div><div class=panel-body><table class="table table-striped"><tbody><tr ng-repeat="(key, value) in StrategicFront" ng-if=controller.ShouldDisplayProperty(value)><td>{{key}}</td><td>{{value}}</td></tr></tbody></table><table class="table table-striped"><tbody><tr ng-repeat="AnalysisData in StrategicFront.HeuristicValues" ng-if=AnalysisData.HeuristicContext><td>{{ AnalysisData.Key }}</td><td ng-class="AnalysisData.HeuristicContext ? \'selectable-cell\' : \'\'" ng-click="controller.DisplayHeuristicContext(AnalysisData.HeuristicContext, true)">{{ AnalysisData.Value }}</td></tr></tbody></table><div class="panel panel-default"><div class=panel-heading><h3 class=panel-title>Fleets</h3></div><table class="table table-striped"><thead><tr><th>FleetName</th><th>MilitaryPower</th><th>Assignation</th></tr></thead><tbody><tr ng-repeat="Fleet in StrategicFront.AssignedFleets"><td class=selectable-cell ng-click=controller.ShowFleet(Fleet.FleetSnapshot.GameEntityGuid)>{{ Fleet.FleetSnapshot.LocalizedName }}</td><td>{{ Fleet.FleetSnapshot.MilitaryPower }}</td><td class=selectable-cell ng-click=controller.ShowBlackboardMessage(Fleet.CurrentAssignationGuid)>{{ Fleet.CurrentAssignationGuid}}</td></tr></tbody></table></div></div></div><div class="panel panel-default col-sm-3" ng-repeat="zone in controller.GetZones()"><div class=panel-heading><h3 class=panel-title>Zone = {{ zone.RoleName}} - {{ zone.PolicyName}}</h3></div><div class=panel-body><table class="table table-striped"><tbody><tr ng-repeat="(key, value) in zone" ng-if=controller.ShouldDisplayProperty(value)><td>{{key}}</td><td>{{value}}</td></tr></tbody></table><table class="table table-striped"><tbody><tr ng-repeat="AnalysisData in zone.HeuristicValues" ng-if=AnalysisData.HeuristicContext><td>{{ AnalysisData.Key }}</td><td ng-class="AnalysisData.HeuristicContext ? \'selectable-cell\' : \'\'" ng-click="controller.DisplayHeuristicContext(AnalysisData.HeuristicContext, false)">{{ AnalysisData.Value }}</td></tr></tbody></table><div class="panel panel-default"><div class=panel-heading><h3 class=panel-title>Nodes</h3></div><table class="table table-striped"><tbody><tr ng-repeat="Node in zone.StrategicNodes"><td>{{ Node.Node.LocalizedName }}</td><td>0</td></tr></tbody></table></div></div></div><div class="panel panel-default col-sm-3"><heuristic-context-directive ng-if=FrontSelectedHeuristicContext model=FrontSelectedHeuristicContext></heuristic-context-directive><heuristic-context-directive ng-if=ZoneSelectedHeuristicContext model=ZoneSelectedHeuristicContext></heuristic-context-directive></div><blackboard-message-directive ng-if=SelectedMessage model=SelectedMessage empire-index=EmpireIndex summary-mode=false></blackboard-message-directive><rawdata url=RawdataUrl></rawdata></div>'),a.put("core/views/header.html",'<nav class="navbar navbar-inverse navbar-fixed-top"><div class=container><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#navbar aria-expanded=false aria-controls=navbar><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand ui-sref=main.home>E.N.F.E.R</a></div><div id=navbar class="navbar-collapse collapse" ng-if=controller.IsAIConnected()><ul class="nav navbar-nav"><li class=dropdown><a class=dropdown-toggle data-toggle=dropdown href="">Debug <span class=caret></span></a><ul class=dropdown-menu><li ui-sref-active=active><a ui-sref=main.performance>Performance</a></li><li ui-sref-active=active><a ui-sref=main.logs>Logs</a></li><li ui-sref-active=active><a ui-sref=main.help>Help</a></li><li ui-sref-active=active><a ui-sref=main.behaviors>Behaviors</a></li></ul></li><li ng-class="{ active: controller.IsStateActive(\'main.empires.snapshots\')}" class=dropdown><a class=dropdown-toggle data-toggle=dropdown href="">Snapshots <span class=caret></span></a><ul class=dropdown-menu><li ui-sref-active=active><a ui-sref="main.empires.snapshots.entities({ empireIndex: controller.GetActiveEmpireIndex() })">Entities</a></li><li ui-sref-active=active><a ui-sref="main.empires.snapshots.fleets({ empireIndex: controller.GetActiveEmpireIndex() })">Fleets</a></li><li ui-sref-active=active><a ui-sref="main.empires.snapshots.gains({ empireIndex: controller.GetActiveEmpireIndex() })">Gains</a></li><li ui-sref-active=active><a ui-sref="main.empires.snapshots.raw({ empireIndex: controller.GetActiveEmpireIndex() })">Raw data</a></li></ul></li><li ng-class="{ active: controller.IsStateActive(\'main.empires.analysis\')}" class=dropdown><a class=dropdown-toggle data-toggle=dropdown href="">Analysis <span class=caret></span></a><ul class=dropdown-menu><li ui-sref-active=active><a ui-sref="main.empires.analysis.entities({ empireIndex: controller.GetActiveEmpireIndex() })">Entities</a></li><li ui-sref-active=active><a ui-sref="main.empires.analysis.galaxy({ empireIndex: controller.GetActiveEmpireIndex() })">Galaxy</a></li><li ui-sref-active=active><a ui-sref="main.empires.analysis.situation({ empireIndex: controller.GetActiveEmpireIndex() })">Situation</a></li><li ui-sref-active=active><a ui-sref="main.empires.analysis.diplomacy.overview({ empireIndex: controller.GetActiveEmpireIndex() })">Diplomacy</a></li><li ui-sref-active=active><a ui-sref="main.empires.analysis.expansion({ empireIndex: controller.GetActiveEmpireIndex() })">Expansion</a></li></ul></li><li ng-class="{ active: controller.IsStateActive(\'main.empires.decision\')}" class=dropdown><a class=dropdown-toggle data-toggle=dropdown href="">Decision <span class=caret></span></a><ul class=dropdown-menu><li ui-sref-active=active><a ui-sref="main.empires.decision.graph({ empireIndex: controller.GetActiveEmpireIndex() })">Graph</a></li><li ui-sref-active=active><a ui-sref="main.empires.decision.blackboard({ empireIndex: controller.GetActiveEmpireIndex() })">Blackboard</a></li><li ui-sref-active=active><a ui-sref="main.empires.decision.allocators({ empireIndex: controller.GetActiveEmpireIndex() })">Allocators</a></li><li ui-sref-active=active><a ui-sref="main.empires.decision.generators({ empireIndex: controller.GetActiveEmpireIndex() })">Generators</a></li></ul></li><li ng-class="{ active: controller.IsStateActive(\'main.empires.actuators\')}" class=dropdown><a class=dropdown-toggle data-toggle=dropdown href="">Actuators <span class=caret></span></a><ul class=dropdown-menu><li ui-sref-active=active><a ui-sref="main.empires.actuators.fleet-missions({ empireIndex: controller.GetActiveEmpireIndex() })">Fleet Missions</a></li><li ui-sref-active=active><a ui-sref="main.empires.actuators.fleetaction({ empireIndex: controller.GetActiveEmpireIndex() })">Fleet Actions</a></li></ul></li></ul><ul class="nav navbar-nav pull-right"><li class=dropdown ng-if="controller.IsStateActive(\'main.empires\')" ng-style=controller.GetEmpireSwitchStyle(controller.GetActiveEmpireIndex())><a class=dropdown-toggle data-toggle=dropdown href="">Empire {{ controller.GetActiveEmpireIndex() }} <span class=caret></span></a><ul class=dropdown-menu><li ng-repeat="empire in Game.Empires" class=link-cursor ng-style=controller.GetEmpireSwitchStyle(empire.EmpireIndex)><a ng-click=controller.GotToActiveState(empire.EmpireIndex)>Empire {{ empire.EmpireIndex }}</a></li><li role=separator class=divider></li><li><a ui-sref=main.home>Overview</a></li></ul></li><li class=with-margin ng-if="controller.IsStateActive(\'main.empires\')"><span class=navbar-text>Decision {{ controller.GetEmpireDecisionCount() }}</span></li><li style="margin: 0"><a ng-if=!AIControl.IsPaused class=link-cursor style="width: 20px" ng-click=controller.PostPauseAction()><span class="glyphicon glyphicon-pause" uib-tooltip="Pause decisions" tooltip-placement=bottom></a><a ng-if=AIControl.IsPaused class=link-cursor style="width: 20px" ng-click=controller.PostContinueAction()><span class="glyphicon glyphicon-play" uib-tooltip="Continue decisions" tooltip-placement=bottom></a></li><li style="margin-right: 25px"><a class=link-cursor style="width: 20px" ng-click=controller.PostMakeDecision()><span class="glyphicon glyphicon-step-forward" uib-tooltip="Force AI to make a new decision" tooltip-placement=bottom></a></li><li><span class=navbar-text><input type=checkbox ng-model=controller.model.AllowHeuristics ng-change=controller.ChangeEnableHeuristics()>Enable Heuristics</span></li></ul></div><div id=navbar class="navbar-collapse collapse" ng-if=!controller.IsAIConnected()><ul class="nav navbar-nav"><li class=navbar-alert><span class="glyphicon glyphicon-exclamation-sign">I\'m unable to connect to my brain! Maybe ES2 is not started ... or the http server is not up.</li></ul></div></div></nav>'),a.put("core/views/help.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li class=active>Debug - Help</li></ol><h1>E.N.F.E.R decision process</h1><img class="img-container img-responsive" src=/core/assets/images/enfer-structure.svg> <img class="img-container img-responsive" src=/core/assets/images/motivation.svg>'),a.put("core/views/home.html",'<div class=enfer-background></div><div class=page-header><h1>Welcome to the E.N.F.E.R brain <small>Turn {{ Game.Turn + 1 }} ({{ EnumService.GameStateNames()[Game.GameState] }})</small></h1></div><table class="table table-bordered alpha-background"><thead><tr><th>Player</th><th>Empire</th><th>State</th><th>ExecutionMode <button class="btn btn-default btn-sm" ng-click="controller.PostAllPlayersExecutionMode(\'Deactivated\')">Deactivate All</button> <button class="btn btn-default btn-sm" ng-click="controller.PostAllPlayersExecutionMode(\'Full\')">Activate All</button></th></tr></thead><tbody><tr ng-repeat="empire in Game.Empires"><td ng-style="{ \'color\': empire.ColorCss }">{{ empire.AIPlayer.LocalizedName }}</td><td><a ui-sref="main.empires.snapshots.entities({empireIndex: empire.EmpireIndex})">{{ empire.LocalizedName }}</a></td><td>{{ empire.AIPlayer.PlayerStateName }}</td><td><div class=dropdown><a class="btn btn-default dropdown-toggle" role=button href="" data-toggle=dropdown>{{ EnumService.ExecutionModeNames()[empire.AIPlayer.ExecutionMode] }} <span class=caret></span></a><ul class=dropdown-menu><li ng-repeat="executionMode in EnumService.ExecutionModeNames()" ng-class="{ active: controller.IsActive(executionMode, empire.AIPlayer.ExecutionMode)}"><a href=# ng-click="controller.PostPlayerExecutionMode(empire.EmpireIndex, executionMode)">{{ executionMode }}</a></li></ul></div></td></tr></tbody></table>'),a.put("core/views/logs.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li class=active>Debug - Logs</li></ol><div class=logs><div class=logs-item ng-repeat="log in Logs" ng-class=controller.GetLogItemClass(log) ng-click=controller.SelectLogItem(log)><i class=glyphicon ng-class=::controller.GetLogIconClass(log)></i> <span class=logs-item-thread ng-if=::log.ThreadName>({{:: log.ThreadName }})</span> <span class=logs-item-message>{{:: log.Message }}</span></div></div><div class=logs-loader><button type=button class="btn btn-default btn-sm" ng-click=controller.LoadLogs()>Load more logs</button><div class=dropup><button class="btn btn-default btn-sm dropdown-toggle" type=button id=dropdownMenu2 data-toggle=dropdown aria-haspopup=true aria-expanded=false>{{ Limit }} <span class=caret></span></button><ul class=dropdown-menu aria-labelledby=dropdownMenu2><li ng-click="Limit = 20"><a>20</a></li><li ng-click="Limit = 50"><a>50</a></li><li ng-click="Limit = 100"><a>100</a></li><li ng-click="Limit = 200"><a>200</a></li></ul></div></div><div ng-if=SelectedLog class="logs-panel, logs-panel-log" ng-class=controller.GetPanelClass(SelectedLog) id=logs-panel><div class=panel-heading><i class=glyphicon ng-class=controller.GetLogIconClass(SelectedLog)></i> <span class=panel-thread ng-if=SelectedLog.ThreadName>({{ SelectedLog.ThreadName }})</span> <span class=panel-message>{{ SelectedLog.Message }}</span> <i class="glyphicon glyphicon-remove pull-right logs-panel-close" ng-click=controller.CloseLogItem()></i></div><div class=panel-body><div>{{ SelectedLog.SerializableStackFrames }}</div></div></div>'),
a.put("core/views/partials/_blackboard-message-fleet-behavior.html",'<p>Fleet behavior: {{ Message.FleetMissionLocalizedName }}</p><p class=selectable-cell uib-tooltip="Position: {{ Message.TargetNode.NodeIndex }}" ng-click=controller.ShowNode(Message.TargetNode.NodeIndex)>Target Node: {{ Message.TargetNodeModel.LocalizedName }}</p><p class=selectable-cell uib-tooltip="Fleet: {{ Message.TargetGuid }}" ng-click=controller.ShowEntity(Message.TargetGuid)>Target Fleet: {{ Message.TargetGuid }}</p>'),a.put("core/views/partials/_blackboard-message-instance-allocations.html",'<h4>Instance allocations</h4><table class=table ng-repeat="resource in Message.InstanceAllocations"><caption>Resource: {{resource.ResourceName}}, Allocated: {{resource.AllocatedInstances.length | number:0}}</caption><tbody><tr ng-repeat="allocation in resource.AllocatedInstances"><td><span uib-tooltip="Guid: {{ evaluation.ParentGoal.Guid.Value }}">{{ EnumService.InstanceTypeNames()[allocation.InstanceType] }}</span></td><td><span uib-tooltip="{{ evaluation.Generator.Description }}" class=selectable-cell ng-click=controller.ShowAllocationJson(allocation)>{{ allocation.InstanceGuid }}</span></td><td>{{ allocation.AllocationFitness * 100 | number:1 }}%</td><td ng-if=controller.IsFleetBehavior()><a class="btn btn-default btn-sm" ui-sref="main.empires.actuators.behavior({ empireIndex: EmpireIndex, taskGuid: Message.Guid.Value, fleetGuid: allocation.InstanceGuid})">Display behavior</a></td></tr></tbody></table>'),a.put("core/views/partials/_blackboard-message-resource-allocations.html",'<h4>Resource allocations</h4><div ng-repeat="resource in Message.ResourceAllocations"><div class="progress selectable-cell" ng-click=controller.DisplayEvaluationMotivationHeuristicContext(resource.HeuristicContext) uib-tooltip="{{resource.ResourceName}}: {{resource.StockedQuantity | number:0}}/{{resource.CostQuantity | number:0}}"><div class=progress-bar role=progressbar ng-style="{width: {{resource.StockedQuantity / resource.CostQuantity * 100}} + \'%\'}">{{resource.StockedQuantity | number:0}}/{{resource.CostQuantity | number:0}}</div></div></div>'),a.put("core/views/partials/_blackboard-message-task.html","<p>Constructible: {{ message.ConstructibleName }}</p>"),a.put("core/views/partials/_cytoscape-details-panel.html",'<div ng-if="SelectedElement && SelectedElement.type == \'edge\'" ng-repeat="transition in SelectedElement.transitions" ng-class=transition.Class><div class=panel-heading><h3 class=panel-title>Transition: {{ transition.LocalizedName }}</h3></div><div class=panel-body><p>{{ transition.Description }}</p><p ng-if="transition.Annotations && transition.Annotations != null"></p><h4>Annotations</h4><ul><li ng-repeat="annotation in transition.Annotations">{{ annotation }}</li></ul><p></p><h4>Last evaluation</h4><heuristic-context-directive ng-if=transition.LastEvaluation model=transition.LastEvaluation.HeuristicContext></heuristic-context-directive></div></div><div class="panel panel-default" ng-if="SelectedElement && SelectedElement.type == \'node\'"><div class=panel-heading><h3 class=panel-title>Node: {{ SelectedElement.name }}</h3></div><div class=panel-body><button class="btn btn-default btn-sm" ng-click=controller.SetCurrentState(SelectedElement.fullName)>Go to this state</button></div></div><div><div class=panel-heading><h3 class=panel-title><button data-toggle=collapse data-target=#AdvancedSettings>+</button> Advanced settings</h3></div><div class="panel-body collapse" id=AdvancedSettings><h4>Graph Layout</h4><textarea ng-model=$parent.LayoutSettings rows=10 style="width: 100%"></textarea><button class="btn btn-default btn-sm" ng-click=controller.SaveLayoutSettings()>Save</button> <button class="btn btn-default btn-sm" ng-click=controller.ResetLayoutSettings()>Reset to default</button><p>Don\'t forget to refresh the page to load the new layout.</p></div></div>'),a.put("core/views/partials/_heuristic-context-scope.html",'<div class=heuristic-scope-value ng-if=data.Value>{{ data.Value }}</div><div ng-if=data.Title><div class="heuristic-scope-title selectable-text" ng-class="{ \'heuristic-scope-title-unfold\': !data.FoldState }" ng-click=controller.Fold(data)>{{ data.Title }}</div><div ng-if=data.FoldState class=heuristic-scope-indent><div ng-repeat="data in data.Data"><ng-include src="\'core/views/partials/_heuristic-context-scope.html\'"></ng-include></div></div></div>'),a.put("core/views/partials/_performance-sample.html",'<div ng-if=TimeView ng-click=controller.AddGraph(sample.Name)>{{sample.Ticks / 10000}} ms : {{sample.Name}} [{{sample.Turn+1}}]</div><div ng-if=!TimeView ng-click=controller.AddGraph(sample.Name)>{{controller.FormatByteSize(sample.DeltaMemory)}} : {{sample.Name}} [{{sample.Turn+1}}]</div><div class="heuristic-scope-indent ng-scope" ng-if=sample.Childs ng-repeat="sample in controller.LastSample(sample.Childs)"><ng-include ng-if=true src="\'core/views/partials/_performance-sample.html\'"></ng-include></div>'),a.put("core/views/performance.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li class=active>Debug - Performance</li></ol><p><button class="btn btn-default btn-sm" ng-click=controller.RefreshPerformanceData()>Refresh</button> <button class="btn btn-default btn-sm" ng-click=controller.RefreshObjectsSize()>LoadEntities</button><label><input type=checkbox ng-model=TimeView>Time</label><a class=link-cursor style="width: 20px" ng-click=controller.Reset()><span class="glyphicon glyphicon-refresh" uib-tooltip="Force AI to reset perf" tooltip-placement=bottom></a></p><div class=dropdown><a class="btn btn-default dropdown-toggle" role=button href="" data-toggle=dropdown>{{ controller.GetCurrentActiveStatus() }} <span class=caret></span></a><ul class=dropdown-menu><li ng-repeat="activeStatus in EnumService.DebugActiveStatus()"><a ng-click=controller.ChooseActiveStatus(activeStatus)>{{ activeStatus }}</a></li></ul></div><p></p><div class=col-md-3><div ng-if=TimeView ng-repeat="sample in controller.LastSample(Samples)"><ng-include ng-if=true src="\'core/views/partials/_performance-sample.html\'"></ng-include></div><div ng-if=!TimeView ng-repeat="sample in controller.LastMemorySample(MemorySamples)"><ng-include ng-if=true src="\'core/views/partials/_performance-sample.html\'"></ng-include></div></div><div class="panel panel-info col-md-6"><nvd3 options=Option data=Data></nvd3></div><div ng-if=Entities class=col-md-3><div>{{Entities.length}} entities ({{controller.FormatByteSize(controller.TotalSize())}})</div><table class="table table-striped table-bordered table-condensed"><tr ng-repeat="entity in Entities"><td>{{entity.GameEntityGuid}}</td><td>{{entity.TypeName}}</td><td>{{controller.FormatByteSize(controller.Size(entity))}}</td></tr></table></div>'),a.put("core/views/snapshots.empire.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.snapshots.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Entities Snapshots</li></ol><button class="btn btn-default btn-sm" ng-click=controller.Reload()>Refresh</button><div class=page-header ng-style="{ \'color\': EmpireSummary.ColorCss }"><h1>{{ ::EmpireSummary.LocalizedName }} - {{ EmpireSummary.AIPlayer.LocalizedName }} <small>Overview</small></h1></div><h2>Summary</h2>Personalities :<ul><li ng-repeat="personality in Empire.Personalities">{{personality}}</li></ul><p><span class="icon es2-icon-fidsp-dust">{{ Empire.EmpireMoneyStock | number:2 }} (+{{ Empire.EmpireMoneyNet | number:2 }})</p><p><span class="icon es2-icon-fidsp-science">{{ Empire.EmpireResearchStock | number:2 }} (+{{ Empire.EmpireResearchNet | number:2 }})</p><p><span class="icon es2-icon-fidsp-prestige">{{ Empire.EmpireEmpirePointStock | number:2 }} (+{{ Empire.EmpireEmpirePointNet | number:2 }})</p><p><span class="icon es2-icon-fidsp-food">{{ Empire.EmpireManpowerStock | number:2 }} (+{{ Empire.EmpireManpowerNet | number:2 }})</p><h2>Systems</h2><div ng-repeat="system in Empire.ColonizedStarSystems"><p>{{ system.TypeName }}.{{ system.GameEntityGuid }} : {{system.LocalizedName}}</p><p><span class="icon es2-icon-fidsp-industry">{{ system.SystemProductionStock | number:2 }} (+{{ system.SystemProductionNet | number:2 }})</p><p><span class="icon es2-icon-fidsp-food">{{ system.SystemGrowthStock % 200 | number:2 }} / 200 (+{{ system.SystemGrowthNet | number:2 }})</p></div><h2>Fleets</h2><div ng-repeat="fleet in Empire.Fleets"><p>{{ fleet.TypeName }}.{{ fleet.GameEntityGuid }}</p><ul ng-repeat="ship in fleet.Ships"><li>{{ship.ShipDesignSnapshot.LocalizedName}}</li></ul></div><h2>Diplomatic relations</h2><div ng-repeat="diplomaticRelation in Empire.DiplomaticRelations"><div ng-if="diplomaticRelation.OtherEmpireIndex != EmpireSummary.EmpireIndex"><p>Empire{{ diplomaticRelation.OtherEmpireIndex }}: {{ diplomaticRelation.DiplomaticRelationState.Name }}</p></div></div>'),a.put("core/views/snapshots.fleets.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.snapshots.fleets({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Fleets Snapshots</li></ol><button class="btn btn-default btn-sm" ng-click=controller.Reload()>Refresh</button> <input type=search ng-model=Filter placeholder="filter name..." aria-label="filter name"><div class=col-md-12><table class="table table-striped table-bordered table-condensed"><tbody><tr><th><button ng-click="controller.Sort(\'CommandPoint\')">CP</button> <span ng-show="SortBy === \'CommandPoint\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'FleetName\')">FleetName</button> <span ng-show="SortBy === \'FleetName\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'FleetGuid\')">FleetGuid</button> <span ng-show="SortBy === \'FleetGuid\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'TaskName\')">TaskName</button> <span ng-show="SortBy === \'TaskName\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'TaskGuid\')">TaskGuid</button> <span ng-show="SortBy === \'TaskGuid\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'TargetPositionName\')">TargetPositionName</button> <span ng-show="SortBy === \'TargetPositionName\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'TargetPosition\')">TargetPosition</button> <span ng-show="SortBy === \'TargetPosition\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'TargetName\')">TargetName</button> <span ng-show="SortBy === \'TargetName\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th><button ng-click="controller.Sort(\'TargetGuid\')">TargetGuid</button> <span ng-show="SortBy === \'TargetGuid\'" ng-class="SortUp ? \'glyphicon glyphicon-collapse-up\' : \'glyphicon glyphicon-collapse-down\'"></span></th><th>behaviorName</th><th>behavior</th><th>Similarity<span ng-if="Similitary != 0" ng-click=controller.SetFleet(0) class="glyphicon glyphicon-remove"></span></th></tr><tr ng-repeat="fleet in controller.GetFleet() | filter:Filter | orderBy:SortBy:SortUp"><td>{{fleet.CommandPoint}}</td><td>{{fleet.FleetName}}</td><td class=selectable-cell ng-click=controller.ShowEntity(fleet.FleetGuid)>{{fleet.FleetGuid}}</td><td>{{fleet.TaskName}}</td><td class=selectable-cell ng-click=controller.ShowMessage(fleet.TaskGuid)>{{fleet.TaskGuid}}</td><td>{{fleet.TargetPositionName}}</td><td class=selectable-cell ng-click=controller.ShowNode(fleet.TargetPosition)>{{fleet.TargetPosition}}</td><td>{{fleet.TargetName}}</td><td class=selectable-cell ng-click=controller.ShowEntity(fleet.TargetGuid)>{{fleet.TargetGuid}}</td><td>{{fleet.BehaviorName}}</td><td><a ng-if="fleet.BehaviorName != \'\'" class="btn btn-default btn-sm" ui-sref="main.empires.actuators.behavior({ empireIndex: EmpireIndex, taskGuid: fleet.TaskGuid, fleetGuid: fleet.FleetGuid})">Display behavior</a></td><td><button ng-click=controller.SetFleet(fleet.FleetGuid) class="glyphicon glyphicon-magnet"></button></td></tr></tbody></table></div><rawdata url=RawdataUrl></rawdata>'),a.put("core/views/snapshots.gains.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.snapshots.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Gains</li></ol><h2>Gains</h2><p><button class="btn btn-default btn-sm" ng-click=controller.RefreshSnapshotDataAll()>All</button> <button class="btn btn-default btn-sm" ng-click=controller.RefreshSnapshotDataScience()>Science</button> <button class="btn btn-default btn-sm" ng-click=controller.RefreshSnapshotDataIndustry()>Industry</button> <button class="btn btn-default btn-sm" ng-click=controller.RefreshSnapshotDataRecipeIngredients()>Recipe Ingredients</button> <button class="btn btn-default btn-sm" ng-click=controller.RefreshSnapshotDataLaw()>Law</button> <button class="btn btn-default btn-sm" ng-click=controller.RefreshSnapshotDataHeroSkill()>HeroSkill</button> <input type=search ng-model=q placeholder="filter name..." aria-label="filter name"></p><div class=col-md-6><table class="table table-striped table-bordered table-condensed"><tbody><tr><th>Constructible</th><th>LocalizedName</th><th>Gain</th></tr><tr ng-repeat="snapshot in Snapshots | filter:q | orderBy: \'LocalizeName\'" ng-class="snapshot.GainsSnapshot.Gains.length == 0 ? \'danger\' : \'\'" ng-if="snapshot.Name.indexOf(\'FakeUnlock\') != 0"><td><span>{{snapshot.Name }}</span></td><td><span>{{snapshot.LocalizeName }}</span></td><td><span ng-if="snapshot.GainsSnapshot.Gains.length == 0" class="label label-danger">No Gain</span><table class=table-condensed ng-if="snapshot.GainsSnapshot.Gains.length > 0"><tr ng-repeat="gain in snapshot.GainsSnapshot.Gains"><td style="width: 34px"><div ng-if=gain.Inverted class="label label-warning">Loss</div><div ng-if="gain.Inverted == false" class="label label-success">Gain</div></td><td style="width: 34px"><div uib-tooltip={{gain.ResourceName}} class="icon {{controller.GetRessourceIconClass(gain.ResourceName)}} ng-binding"></div></td><td style="width: 100%"><span>{{gain.Tags.length == 0 ? \'\' : gain.Tags}}</span></td><td style="width: 34px"><span uib-tooltip="{{gain.FromSimulation ? \'From simulation\' : \'From XML\'}}" class="{{gain.FromSimulation ? \'glyphicon glyphicon-cog\' : \'glyphicon glyphicon-pencil\'}}"></span></td></tr></table></td></tr></tbody></table></div>'),a.put("core/views/snapshots.raw.html",'<ol class=breadcrumb><li><a ui-sref=main.home>E.N.F.E.R</a></li><li><a ui-sref="main.empires.snapshots.entities({ empireIndex: EmpireIndex })">Empire {{ EmpireIndex }}</a></li><li class=active>Raw Data</li></ol><div class=page-header><h1>{{ EmpireSummary.LocalizedName }} - {{ EmpireSummary.AIPlayer.LocalizedName }} <small>Raw data</small></h1></div><div class=col-md-4><table class="table table-bordered alpha-background"><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex\')">Empire</td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/analysis\')">analysis</td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/strategic\')">strategic</td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/strategic/situation\')">situation</td></tr><tr><td ng-click="controller.SetUrl(\'/debug/fleetactions/EmpireIndex\')">fleet assignation</td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/fleet-missions\')">fleet mission</td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/fleet-missions/#id#\')">fleet mission by id</td><td><input ng-model=Id required></td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/blackboard-messages\')">blackboard message</td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/blackboard-messages/#id#\')">blackboard message by id</td><td><input ng-model=Id required></td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/blackboard-messages/goals\')">blackboard goals</td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires/EmpireIndex/blackboard-messages/tasks\')">blackboard tasks</td></tr><tr><td>--</td></tr><tr><td ng-click="controller.SetUrl(\'/game-summary\')">game summary</td></tr><tr><td ng-click="controller.SetUrl(\'/game\')">game</td></tr><tr><td ng-click="controller.SetUrl(\'/game/empires\')">empires</td></tr><tr><td ng-click="controller.SetUrl(\'/game-entities\')">games entities</td></tr><tr><td ng-click="controller.SetUrl(\'/game-entities/#id#\')">game entity by id</td><td><input ng-model=Id required></td></tr><tr><td ng-click="controller.SetUrl(\'/game-entities/#id#/summary\')">game entity sumary by id</td><td><input ng-model=Id required></td></tr><tr><td ng-click="controller.SetUrl(\'/game/allocators\')">allocators</td></tr><tr><td ng-click="controller.SetUrl(\'/game-entities/#id#/allocators\')">allocators by game entitity id</td><td><input ng-model=Id required></td></tr><tr><td ng-click="controller.SetUrl(\'/game/galaxy\')">galaxy</td></tr><tr><td ng-click="controller.SetUrl(\'/game/galaxy/nodes\')">galaxy nodes</td></tr><tr><td ng-click="controller.SetUrl(\'/game/galaxy/nodes/#id#\')">galaxy nodes by position</td><td><input ng-model=Id required></td></tr><tr><td>--</td></tr><tr><td ng-click="controller.SetUrl(\'/datatable/laws\')">laws</td></tr><tr><td ng-click="controller.SetUrl(\'/datatable/modules\')">modules</td></tr><tr><td ng-click="controller.SetUrl(\'/datatable/hulls\')">hulls</td></tr><tr><td ng-click="controller.SetUrl(\'/datatable/recipe-ingredients\')">recipe ingredients</td></tr><tr><td ng-click="controller.SetUrl(\'/datatable/hero-skill\')">hero skill</td></tr><tr><td ng-click="controller.SetUrl(\'/datatable/constructibles\')">constructibles</td></tr><tr><td ng-click="controller.SetUrl(\'/datatable/constructibles/#id#\')">construtible by type</td><td><input ng-model=Id required></td></tr><tr><td>--</td></tr><tr><td ng-click="controller.SetUrl(\'/enums/#id#\')">enums</td><td><input ng-model=Id required></td></tr><tr><td ng-click="controller.SetUrl(\'/jobs\')">jobs</td></tr><tr><td ng-click="controller.SetUrl(\'/ai-players\')">ai players</td></tr><tr><td ng-click="controller.SetUrl(\'/generators\')">generators</td></tr><tr><td ng-click="controller.SetUrl(\'/generators/#id#\')">generator by id</td><td><input ng-model=Id required></td></tr><tr><td ng-click="controller.SetUrl(\'/game-events\')">game events</td></tr><tr><td ng-click="controller.SetUrl(\'/debug/profilers\')">profilers</td></tr></table></div><rawdata url=Url></rawdata>')}]);var Amplitude;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a.Config=function(a){return this.module.config(a)},a.Controller=function(a){return this.module.controller(a)},a.Directive=function(a,b){return this.module.directive(a,b)},a.Service=function(a,b){return this.module.service(a,b)},a.Factory=function(a,b){return this.module.factory(a,b)},a.module=angular.module("ai.debug.front",["ai.debug.front.templates","ai.debug.front.config","ui.router","ui.bootstrap","ui.bootstrap.tpls","nvd3","jsonFormatter","LocalStorageModule"]).config(["localStorageServiceProvider",function(a){a.setPrefix("enfer")}]).run(["$rootScope","$state","$stateParams","page","enumService",function(a,b,c,d,e){a.$stateParams=c,a.Page=d,a.EnumService=e}]),a}();a.Application=b}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function b(b,c){c.otherwise("/"),b.state(new a.States.MainState),b.state(new a.States.HelpState),b.state(new a.States.HomeState),b.state(new a.States.Empire.EmpiresState),b.state(new a.States.PerformanceState),b.state(new a.States.LogsState),b.state(new a.States.BehaviorsState),b.state(new a.States.Empire.SnapshotsState),b.state(new a.States.Empire.SnapshotEntitiesState),b.state(new a.States.Empire.GainsState),b.state(new a.States.Empire.RawDataState),b.state(new a.States.Empire.SnapshotFleetsState),b.state(new a.States.Empire.AnalysisState),b.state(new a.States.Empire.AnalysisEntitiesState),b.state(new a.States.Empire.GalaxyState),b.state(new a.States.Empire.ExpansionState),b.state(new a.States.Empire.AnalysisSituationState),b.state(new a.States.Empire.DiplomacyState),b.state(new a.States.Empire.DiplomacyOverviewState),b.state(new a.States.Empire.DiplomacyBehaviorState),b.state(new a.States.Empire.DiplomacyBalanceContratState),b.state(new a.States.Empire.DecisionState),b.state(new a.States.Empire.DecisionGraphState),b.state(new a.States.Empire.BlackboardState),b.state(new a.States.Empire.AllocatorState),b.state(new a.States.Empire.GeneratorState),b.state(new a.States.Empire.ActuatorsState),b.state(new a.States.Empire.FleetActionState),b.state(new a.States.Empire.FleetMissionsState),b.state(new a.States.Empire.BehaviorState)}return b.$inject=["$stateProvider","$urlRouterProvider"],b}();a.ApplicationConfiguration=b,a.Application.Config(b)}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a.FloatToHex=function(a){var b=Math.floor(255*a),c=b.toString(16);return 1===c.length?"0"+c:c},a.FloatRgbToHex=function(b){return"#"+a.FloatToHex(b[0])+a.FloatToHex(b[1])+a.FloatToHex(b[2])},a}();a.Helpers=b}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiDataService=b,a.Page.SetTitle("E.N.F.E.R - All behaviors"),this.RefreshBehaviorData()}return a.prototype.RefreshBehaviorData=function(){var a=this,b=this;this.aiDataService.GetAllBehaviors().then(function(c){b.model.Behaviors=c,angular.forEach(b.model.Behaviors,b.ProcessMessage.bind(a))})},a.prototype.DisplayBehavior=function(a){this.model.SelectedBehavior=a},a.prototype.CloseBehavior=function(){this.model.SelectedBehavior=null},a.prototype.ProcessMessage=function(a){},a.$inject=["$scope","AIDataService"],a}();b.AllBehaviorsController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiDataService=b,a.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Allocator"),this.model.AllocatorResource="",this.RefreshBlackboardData()}return a.prototype.Fold=function(a){this.model.Foldout[a.LocalizedName]=!this.model.Foldout[a.LocalizedName]},a.prototype.HasAllocator=function(){return""!=this.model.AllocatorResource},a.prototype.SetMessage=function(a){this.model.SelectedMessage=a},a.prototype.SetAllocator=function(a,b){this.model.AllocatorResource=a,this.model.AllocatorContext=b,this.model.SelectedMessage=null},a.prototype.Back=function(){this.model.AllocatorResource=""},a.prototype.GetAllocators=function(a){return _.sortBy(a.Allocators,"ResourceName")},a.prototype.GetContexts=function(){return _.sortBy(this.model.Contexts,"LocalizedName")},a.prototype.GetTasks=function(a,b){var c=[];return this.model.BlackboardMessages.forEach(function(d){null==d.ResourceAllocations||"MajorEmpire"!=b.TypeName&&d.Context.LocalizedName!=b.LocalizedName||d.ResourceAllocations.forEach(function(b){b.ResourceName==a&&c.push(d)}),null==d.InstanceAllocations||"MajorEmpire"!=b.TypeName&&d.Context.LocalizedName!=b.LocalizedName||d.InstanceAllocations.forEach(function(b){b.ResourceName==a&&c.push(d)})}),_.sortBy(c,function(a){return-a.Motivation})},a.prototype.RefreshBlackboardData=function(){var a=this,b=this,c=[];c[0]=this.aiDataService.GetBlackboardMessages(this.model.EmpireIndex),c[1]=this.aiDataService.GetAllocators(),this.aiDataService.$q.all(c).then(function(c){var d=c[0],e=c[1];b.model.BlackboardMessages=d,b.tasks=_.filter(a.model.BlackboardMessages,function(a){return"Task"===a.Category});var f=[];b.model.Contexts=[],b.model.Foldout=[],b.tasks.forEach(function(a){if(!f[a.ContextGuid]){f[a.ContextGuid]=!0;var c=_.find(e,function(b){return b.GameEntityGuid==a.ContextGuid});b.model.Contexts.push(c),b.model.Foldout[a.Context.LocalizedName]=!0}})})},a.$inject=["$scope","AIDataService"],a}();b.AllocatorController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiDataService=b,a.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Anaylsis"),a.EmpireIndex=this.model.$stateParams.empireIndex,this.RefreshAnalysisData(),this.model.CompareFunction=this.Compare.bind(this),this.model.SortUp=!0}return a.prototype.Compare=function(a){var b=this;if(this.model.SortType){if("NodeIndex"==this.model.SortType)return a.Node.LocalizedName;var c;return c=_.filter(a.AnalysisValues,function(a){return a.Key==b.model.SortType})[0],c.Value}return 1},a.prototype.SetSortType=function(a){this.model.SortType=a,this.model.SortUp=this.model.SortUp?!1:!0},a.prototype.IsValue=function(a,b){return a.Key==b},a.prototype.RefreshAnalysisData=function(){var a=this;this.aiDataService.GetAnalysisData(this.model.EmpireIndex).then(function(b){a.model.AnaylsisDataHolder=b})},a.prototype.DisplayHeuristicContext=function(a){this.model.SelectedHeuristicContext===a?this.model.SelectedHeuristicContext=null:this.model.SelectedHeuristicContext=a},a.$inject=["$scope","AIDataService"],a}();b.AnalysisController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a,b){this.model=a,this.aiRequestService=b,this.model.TaskGuid=this.model.$stateParams.taskGuid,this.model.FleetGuid=this.model.$stateParams.fleetGuid,this.model.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Decision"),this.RefreshFleetMissionData()}return b.prototype.ShowEntity=function(a){this.model.RawdataUrl="/game-entities/"+a},b.prototype.ShowNode=function(a){this.model.RawdataUrl="/game/galaxy/nodes/"+a},b.prototype.ShowMission=function(){this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/fleet-missions/"+this.model.TaskGuid},b.prototype.GetStatus=function(){return this.model.FleetMission.MissionStatusName},b.prototype.GetActionLevel=function(){var a="";return 1==(1&this.model.SelectedData.ActionLevel)&&(a+="Attack "),2==(2&this.model.SelectedData.ActionLevel)&&(a+="Guard "),4==(4&this.model.SelectedData.ActionLevel)&&(a+="Invade "),a},b.prototype.RefreshFleetMissionData=function(){var b=this;this.aiRequestService.Get("/game/empires/"+this.model.EmpireIndex+"/fleet-missions/"+this.model.TaskGuid).then(function(c){b.model.FleetMission=new a.Data.FleetMission(c.Data[0],b.model.EnumService),b.DisplayFleetBehaviorAsGraph(b.model.FleetGuid)})},b.prototype.DisplayFleetBehaviorAsGraph=function(a){this.model.SelectedData=this.model.FleetMission.Model.BehaviorDataByFleetGuid[a],this.model.SelectedRootNode=this.model.SelectedData.LastDebugNode},b.$inject=["$scope","AIRequestService"],b}();b.BehaviorController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a,b){this.model=a,this.aiDataService=b,this.model.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Blackboard"),this.model.Status="All",this.RefreshBlackboardData()}return b.prototype.RefreshBlackboardData=function(){var a=this;this.aiDataService.GetBlackboardMessages(this.model.EmpireIndex).then(function(b){a.model.BlackboardMessages=b})},b.prototype.Count=function(a){return this.GetBlackboardMessages(a).length},b.prototype.GetBlackboardMessages=function(b){return"Ongoing"==b?_.where(this.model.BlackboardMessages,{Status:a.Model.Rest.EvaluationStatus.Ongoing}):"Succeed"==b?_.where(this.model.BlackboardMessages,{Status:a.Model.Rest.EvaluationStatus.Succeed}):"Failed"==b?_.where(this.model.BlackboardMessages,{Status:a.Model.Rest.EvaluationStatus.Failed}):"Cancel"==b?_.where(this.model.BlackboardMessages,{Status:a.Model.Rest.EvaluationStatus.Cancel}):"Deny"==b?_.where(this.model.BlackboardMessages,{Status:a.Model.Rest.EvaluationStatus.Deny}):this.model.BlackboardMessages},b.$inject=["$scope","AIDataService"],b}();b.BlackboardController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a,b,c){this.model=a,this.$q=b,this.aiDataService=c,this.model.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Decision"),this.model.AutoFilter=!1,this.model.MinMotivationFilter=0,this.model.GroupFilter=0,this.model.DisplayWaitingForValidation=!0,this.model.DisplayOngoing=!0,this.model.DisplaySucceed=!0,this.model.DisplayFailed=!0,this.model.DisplayCancel=!0,this.model.DisplayDeny=!0,this.model.DisplayOthers=!0,this.model.CountAll=0,this.model.CountWaitingForValidation=0,this.model.CountOngoing=0,this.model.CountSucceed=0,this.model.CountFailed=0,this.model.CountCancel=0,this.model.CountDeny=0,this.model.CountOthers=0,this.RefreshDecisionData()}return b.prototype.RefreshDecisionData=function(){var a=this;this.model.Loading=!0,this.model.Error=!1;var b=this,c=[];c[0]=this.aiDataService.GetGameSummary(),c[1]=this.aiDataService.GetGenerators(),c[2]=this.aiDataService.GetBlackboardMessages(this.model.EmpireIndex),this.$q.all(c).then(function(c){var d=c[0],e=c[1],f=c[2];b.generators=e,b.model.EmpireSummary=_.find(d.Empires,function(a){return a.EmpireIndex===b.model.EmpireIndex}),b.goals=_.filter(f,function(a){return"Goal"===a.Category}),b.tasks=_.filter(f,function(a){return"Task"===a.Category}),b.UpdateCounts(f),b.DisplayDecisionGraph(),a.model.Loading=!1},function(){a.model.Loading=!1,a.model.Error=!0})["catch"](function(){a.model.Loading=!1,a.model.Error=!0})},b.prototype.GetPanelClass=function(a){switch(a){case 1:return"panel-default";case 2:return"panel-info";case 4:return"panel-warning";case 8:return"panel-info";case 16:return"panel-primary";case 32:return"panel-success";case 64:case 128:return"panel-danger";default:return"panel-default"}},b.prototype.DisplayAll=function(){var a=this.model.DisplayWaitingForValidation&&this.model.DisplayOthers&&this.model.DisplayOngoing&&this.model.DisplaySucceed&&this.model.DisplayFailed&&this.model.DisplayCancel&&this.model.DisplayDeny;this.model.DisplayWaitingForValidation=!a,this.model.DisplayOngoing=!a,this.model.DisplaySucceed=!a,this.model.DisplayFailed=!a,this.model.DisplayCancel=!a,this.model.DisplayDeny=!a,this.model.DisplayOthers=!a,this.DisplayDecisionGraph()},b.prototype.Populate=function(b,c,d){var e=this,f=_.find(c,function(a){return a.Node.Guid==b.Guid});return f?(angular.forEach(b.Evaluations,function(b){var g=_.find(c,function(a){
return a.Node.Guid.Value===b.ParentGoalGuid});if(!g)return 0!==b.ParentGoalGuid&&console.error("Can't find parent node "+b.ParentGoalGuid),null;var h=Object.keys(d).length,i=_.find(e.generators,function(a){return a.GeneratorGuid===b.GeneratorGuid});i||console.error("Missing generator ("+b.GeneratorGuid+")"),d[h]=new a.Data.Decision.GraphEdge(g,f,i,b.Aggregation==a.Model.Rest.EvaluationAggregation.Additive?b.Motivation:-b.Motivation),g.AddChild(f),f.AddParent(g)}),f):(console.error("Can't find node "+b.Guid),null)},b.prototype.DisplayDecisionGraph=function(){var b=this,c=this,d=[];this.model.Groups=[];var e=[];if(this.goals)for(var f=0;f<this.goals.length;f++)d[f]=c.CreateNode(f,this.goals[f],a.Data.Decision.NodeType.Goal,this.model.Groups);if(this.tasks)for(var f=0;f<this.tasks.length;f++){var g=(this.goals?this.goals.length:0)+f;d[g]=c.CreateNode(g,this.tasks[f],a.Data.Decision.NodeType.Task,this.model.Groups)}if(this.goals)for(var f=0;f<this.goals.length;f++)this.Populate(this.goals[f],d,e);if(this.tasks)for(var f=0;f<this.tasks.length;f++)this.Populate(this.tasks[f],d,e);$("#svg-canvas").empty();var h=new dagreD3.graphlib.Graph({compound:!0});h.setGraph({nodesep:80,ranksep:50,rankdir:"LR",marginx:50,marginy:50}),h.setDefaultEdgeLabel(function(){return{}});for(var i in d){var j=d[i];this.IsNodeVisible(j)&&h.setNode(j.Id.toString(),{labelType:j.LabelType,label:j.Label,"class":j.Class,shape:j.Shape,id:j.Node.Guid.Value})}angular.forEach(this.model.Groups,function(a){_.any(a.Nodes,function(a){return c.IsNodeVisible(a)})&&(h.setNode(a.Id.toString(),{label:a.Label,"class":a.Class,clusterLabelPos:"top"}),angular.forEach(a.Nodes,function(c){b.IsNodeVisible(c)&&h.setParent(c.Id.toString(),a.Id.toString())}))});for(var i in e){var k=e[i];if(this.IsNodeVisible(k.SourceNode)&&this.IsNodeVisible(k.TargetNode)){var l=k.Generator?k.Generator.LocalizedName:"<no-data>";h.setEdge(k.SourceId.toString(),k.TargetId.toString(),{label:l,lineTension:.8,lineInterpolate:"bundle",arrowhead:k.Motivation>0?"normal":"vee","class":k.Class})}}if(this.model.AutoFilter&&this.model.SelectedMessage&&0!=this.model.SelectedMessage.GroupId)for(var f=0;f<this.tasks.length;f++)if(this.tasks[f].GroupId==this.model.SelectedMessage.GroupId&&this.tasks[f]!=this.model.SelectedMessage){var m=_.find(d,function(a){return a.Node.Guid==b.model.SelectedMessage.Guid}),n=_.find(d,function(a){return a.Node.Guid==b.tasks[f].Guid}),k=new a.Data.Decision.GraphEdge(m,n,null,0);h.setEdge(k.SourceId.toString(),k.TargetId.toString(),{label:this.tasks[f].GroupName,lineTension:.8,lineInterpolate:"bundle",arrowhead:"undirected","class":"dashedline"})}var o=new dagreD3.render,p=d3.select("#svg-canvas"),q=p.append("g");o(d3.select("#svg-canvas g"),h);var r=parseFloat(p.attr("width"));isNaN(r)&&(r=0);var s=(r-h.graph().width)/2;q.attr("transform","translate("+s+", 20)"),p.attr("height",h.graph().height+40),q.attr("transform","translate(5, 5)"),p.call(d3.behavior.zoom().on("zoom",function(){var a=d3.event;q.attr("transform","translate("+a.translate+") scale("+a.scale+")")})),$(".node").click(function(){var a=$(this).attr("id"),b=_.find(d,function(b){return b.Node.Guid.Value===parseInt(a)});c.SetSelectedMessage(b.Node)})},b.prototype.CreateNode=function(b,c,d,e){var f=new a.Data.Decision.GraphNode(b,c,d);return this.AssignGroup(f,e),f},b.prototype.AssignGroup=function(b,c){if(b.Node.ContextGuid&&b.Node.ContextGuid!==this.model.EmpireSummary.GameEntityGuid){var d=_.find(c,function(a){return a.Id==b.Node.ContextGuid+1e6&&"decision-group"===a.Class});d||(d=new a.Data.Decision.GraphGroup(b.Node.ContextGuid+1e6,b.Node.Context?b.Node.Context.Name.toString():"Missing context:"+b.Node.ContextGuid,"decision-group"),c[c.length]=d),d.AddNode(b)}var e=b.Node;if(e.FrontGuid&&0!=e.FrontGuid){var d=_.find(c,function(a){return a.Id==e.FrontGuid+2e6&&"front-group"===a.Class});d||(d=new a.Data.Decision.GraphGroup(e.FrontGuid+2e6,"Front_"+e.FrontGuid,"front-group"),c[c.length]=d),d.AddNode(b)}if("NeedTechnology"==e.TypeName||"QueueTechnology"==e.TypeName||"UnlockTechnologyStage"==e.TypeName){var d=_.find(c,function(a){return 3e6==a.Id});d||(d=new a.Data.Decision.GraphGroup(3e6,"Technologies","front-group"),c[c.length]=d),d.AddNode(b)}if("QueueLaw"==e.TypeName){var d=_.find(c,function(a){return 3000001==a.Id});d||(d=new a.Data.Decision.GraphGroup(3000001,"Laws","front-group"),c[c.length]=d),d.AddNode(b)}if("WantMakeDiplomaticContract"==e.TypeName){var d=_.find(c,function(a){return a.Id==e.Guid.Value+4e6});d||(d=new a.Data.Decision.GraphGroup(4e6+e.Guid.Value,"Contract "+e.Guid.Value,"front-group"),c[c.length]=d),d.Label=e.LocalizedName,d.AddNode(b)}if("EvaluateContractGoal"==e.TypeName){var d=_.find(c,function(a){return a.Id==e.WantMakeContractGoalId.Value+4e6});d||(d=new a.Data.Decision.GraphGroup(4e6+e.WantMakeContractGoalId.Value,"Contract "+e.WantMakeContractGoalId.Value,"front-group"),c[c.length]=d),d.AddNode(b)}if(e.EvaluationGoalId){var f=_.find(this.goals,function(a){return a.Guid.Value==e.EvaluationGoalId.Value});if(f){var d=_.find(c,function(a){return a.Id==f.WantMakeContractGoalId.Value+4e6});d||(d=new a.Data.Decision.GraphGroup(4e6+f.WantMakeContractGoalId.Value,"Contract "+f.WantMakeContractGoalId.Value,"front-group"),c[c.length]=d),d.AddNode(b)}}},b.prototype.SetSelectedMessage=function(a){if(this.model.SelectedMessage===a){if(this.model.AutoFilter)return;this.model.SelectedMessage=null}else this.model.SelectedMessage=a;this.model.AutoFilter&&this.DisplayDecisionGraph(),this.model.$applyAsync()},b.prototype.IsNodeVisible=function(a){var b=this.model.DisplayWaitingForValidation&&this.model.DisplayOthers&&this.model.DisplayOngoing&&this.model.DisplaySucceed&&this.model.DisplayFailed&&this.model.DisplayCancel&&this.model.DisplayDeny;if(this.model.NameFilter||this.model.AutoFilter||!b||this.model.MinMotivationFilter>0||0!=this.model.GroupFilter){if(this.IsNodeFiltered(a))return!0;if(this.model.AutoFilter){var c=this;if(_.any(a.Children,function(a){return c.IsNodeFiltered(a)}))return!0;if(_.any(a.Parents,function(a){return c.IsNodeFiltered(a)}))return!0;if(this.model.SelectedMessage&&this.model.SelectedMessage.GroupId&&a.Node.GroupId===this.model.SelectedMessage.GroupId)return!0}return!1}return!0},b.prototype.IsNodeFiltered=function(b){var c=this;if(this.model.AutoFilter&&this.model.SelectedMessage){var d=this.model.SelectedMessage.Guid.Value;if(b.Node.Guid.Value===d)return!0}if(this.model.NameFilter){var e=this.model.NameFilter.toLowerCase(),f=b.Node.LocalizedName.toLowerCase();if(!f.match(e))return!1}if(this.model.AutoFilter&&this.model.SelectedMessage)return!1;if(b.Node.Motivation<this.model.MinMotivationFilter)return!1;if(0!=this.model.GroupFilter){var g=_.find(this.model.Groups,function(a){return a.Id==c.model.GroupFilter});return g?_.some(g.Nodes,function(a){return a.Id==b.Id}):!1}switch(b.Node.Status){case a.Model.Rest.EvaluationStatus.WaitingForValidation:if(!this.model.DisplayWaitingForValidation)return!1;break;case a.Model.Rest.EvaluationStatus.Ongoing:if(!this.model.DisplayOngoing)return!1;break;case a.Model.Rest.EvaluationStatus.Succeed:if(!this.model.DisplaySucceed)return!1;break;case a.Model.Rest.EvaluationStatus.Failed:if(!this.model.DisplayFailed)return!1;break;case a.Model.Rest.EvaluationStatus.Cancel:if(!this.model.DisplayCancel)return!1;break;case a.Model.Rest.EvaluationStatus.Deny:if(!this.model.DisplayDeny)return!1;break;default:if(!this.model.DisplayOthers)return!1}return!0},b.prototype.UpdateCounts=function(b){this.model.CountAll=0,this.model.CountWaitingForValidation=0,this.model.CountOngoing=0,this.model.CountSucceed=0,this.model.CountFailed=0,this.model.CountCancel=0,this.model.CountDeny=0,this.model.CountOthers=0;for(var c=0;c<b.length;c++)switch(this.model.CountAll++,b[c].Status){case a.Model.Rest.EvaluationStatus.WaitingForValidation:this.model.CountWaitingForValidation++;break;case a.Model.Rest.EvaluationStatus.Ongoing:this.model.CountOngoing++;break;case a.Model.Rest.EvaluationStatus.Succeed:this.model.CountSucceed++;break;case a.Model.Rest.EvaluationStatus.Failed:this.model.CountFailed++;break;case a.Model.Rest.EvaluationStatus.Cancel:this.model.CountCancel++;break;case a.Model.Rest.EvaluationStatus.Deny:this.model.CountDeny++;break;default:this.model.CountOthers++}},b.$inject=["$scope","$q","AIDataService"],b}();b.DecisionController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiDataService=b,this.model.BlackboardMessageGuid=this.model.$stateParams.goalGuid,this.model.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Diplomacy"),this.RefreshData()}return a.prototype.RefreshData=function(){var a=this;this.aiDataService.GetBlackboardMessage(a.model.EmpireIndex,a.model.BlackboardMessageGuid).then(function(b){a.model.BlackboardMessage=b})},a.prototype.ShowJson=function(){this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/blackboard-messages/"+this.model.BlackboardMessageGuid},a.prototype.ComputeTermName=function(a){return a.IsResourceExchangeTerm?a.TermDefinitionReference+" "+Math.round(a.FloatValue)+" "+a.StringValue:a.IsTechnologyExchangeTerm?a.TermDefinitionReference+" "+a.StringValue:a.IsSystemExchangeTerm?a.TermDefinitionReference+" "+a.GuidValue:a.TermDefinitionReference},a.$inject=["$scope","AIDataService"],a}();b.DiplomacyBalanceContractController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a,b){this.model=a,this.aiDataService=b,this.nodes=[],this.edges=[],this.model.OtherEmpireIndex=this.model.$stateParams.otherEmpireIndex,this.model.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Diplomacy behavior with empire "+this.model.OtherEmpireIndex),this.RefreshData()}return b.prototype.RefreshData=function(){var a=this;this.aiDataService.GetDiplomacyMajorEmpireBehavior(a.model.EmpireIndex,a.model.OtherEmpireIndex).then(function(b){a.model.DiplomaticBehavior=b,a.PrepareGraphData(),a.DisplayGraph()})},b.prototype.ShowJson=function(){this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/strategic/diplomacy/relation/"+this.model.OtherEmpireIndex},b.prototype.PopulateNodes=function(a,b){for(var c=0;c<a.State.Children.length;c++){var d=a.State.Children[c],e=this.CreateNode(d,a.Level+1);b[b.length]=e,a.AddChild(e),e.AddParent(a),this.PopulateNodes(e,b)}},b.prototype.PrepareGraphData=function(){if(_.remove(this.nodes),_.remove(this.edges),this.model.DiplomaticBehavior)for(var a=0;a<this.model.DiplomaticBehavior.RootState.Children.length;a++){var b=this.CreateNode(this.model.DiplomaticBehavior.RootState.Children[a],0);this.nodes[this.nodes.length]=b,this.PopulateNodes(b,this.nodes)}for(var a=0;a<this.nodes.length;a++)this.PopulateEdges(this.nodes[a],this.nodes,this.edges)},b.prototype.DisplayGraph=function(){var a=this,b=this;this.model.GraphElements=[];var c=0;angular.forEach(b.nodes,function(b){var d={id:b.Id,type:"node",name:null!=b.State?b.State.LocalizedName:b.Id,fullName:null!=b.State?b.State.FullName:""};1===b.Parents.length?d.parent=b.Parents[0].Id:b.Parents.length>1&&console.error("node "+b.Id+" has multiple parents.");var e={group:"nodes",data:d,classes:b.Class};a.model.GraphElements[c++]=e}),angular.forEach(b.edges,function(b){var d={id:c.toString(),type:"edge",name:b.Name,source:b.SourceId,target:b.TargetId,transitions:b.Transitions},e={group:"edges",data:d,classes:b.Class};a.model.GraphElements[c++]=e})},b.prototype.PopulateEdges=function(b,c,d){if(null==b.State){var e=b.Id.substring(1),f=_.find(c,function(a){return a.Id===e});if(!f)return void console.error("Can't find destination node "+e);var g=Object.keys(d).length;d[g]=new a.Data.StateMachine.GraphEdge(b,f,null)}else for(var h=0;h<b.State.Transitions.length;h++){var i=b.State.Transitions[h],j=_.find(c,function(a){return a.Id===i.NextStateFullName});if(!j)return void console.error("Can't find destination node "+i.NextStateFullName);var k=_.find(d,function(a){return a.SourceId===b.Id&&a.TargetId===j.Id});if(k)k.AddTransition(i);else{var g=Object.keys(d).length;d[g]=new a.Data.StateMachine.GraphEdge(b,j,i)}}},b.prototype.CreateNode=function(b,c){var d=new a.Data.StateMachine.GraphNode(b,c);return d},b.prototype.SetDiplomaticBehaviorCurrentStateUri=function(){return"/game/empires/"+this.model.EmpireIndex+"/strategic/diplomacy/relation/"+this.model.OtherEmpireIndex+"/behavior/current-state"},b.$inject=["$scope","AIDataService"],b}();b.DiplomacyBehaviorController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b,c){this.model=a,this.aiDataService=b,this.enumService=c,this.model.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Diplomacy"),this.RefreshData()}return a.prototype.RefreshData=function(){var a=this;this.aiDataService.GetDiplomacyStrategicData(a.model.EmpireIndex,!0).then(function(b){a.model.DiplomacyData=b})},a.prototype.GetEmpireStyle=function(a){return{color:a.EmpireSummary.ColorCss}},a.prototype.GetRelationLogsCategoriesNames=function(a){for(var b="",c=1;a>0;){var d=a%2;0!=d&&(b+=this.enumService.RelationLogsCategoryNames()[c]+" "),a=Math.floor(a/2),c++}return b},a.$inject=["$scope","AIDataService","enumService"],a}();b.DiplomacyOverviewController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiDataService=b,this.model.EmpireIndex=this.model.$stateParams.empireIndex,this.RefreshEmpireData()}return a.prototype.RefreshEmpireData=function(){var a=this;this.aiDataService.GetGameSummary().then(function(b){a.model.EmpireSummary=b.Empires[a.model.EmpireIndex]})},a.$inject=["$scope","AIDataService"],a}();b.EmpireController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiRequestService=b,this.RefreshEmpireData()}return a.prototype.RefreshEmpireData=function(){var a=this;this.aiRequestService.Get("/game/empires/"+a.model.EmpireIndex).then(function(b){a.model.Empire=b.Data[0]})},a.$inject=["$scope","AIRequestService"],a}();b.EmpireSnapshotController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a,b,c){this.model=a,this.aiDataService=b,this.colors=["red","yellow","gray"],a.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Expansion"),this.RefreshGalaxyData()}return b.prototype.RefreshGalaxyData=function(){var a=this;a.aiDataService.GetExpansionData(this.model.EmpireIndex).then(function(b){a.model.Expansion=b,a.NewDisplayGraph()})},b.prototype.NewDisplayGraph=function(){var b=this,c=[],d=[];this.Populate(b.model.Expansion.ExpansionNodes,c,d),$("#svg-canvas").empty();var e=960,f=600,g=f/2,h=e/2,i=d3.select("#svg-canvas"),j=i.append("g"),k=(d3.layout.force().nodes(c).links(d).charge(10).linkDistance(10).linkStrength(2).size([e,f]).start(),j.selectAll(".link").data(d).enter().append("line").attr("class",function(a){var b="galaxy-link";return a.Role&&(b+=" "+a.Role.toLowerCase()),b}).style("stroke-width",1).style("stroke-dasharray",function(b){return b.type==a.Model.Rest.LinkType.Warp?"":"5,6"}).attr("x1",function(a){return h+a.source.X}).attr("y1",function(a){return g-a.source.Y}).attr("x2",function(a){return h+a.target.X}).attr("y2",function(a){return g-a.target.Y}),j.selectAll(".node").data(c).enter().append("circle").attr("fixed",!0).attr("class",function(a){var b="expansion-node";return b+=a.ExpansionNode.Node.OwnerEmpireIndex>=0?" colony":" neutral"}).attr("fill",function(a){if(a.ExpansionNode.Node.OwnerEmpireIndex>=0){var b=Math.floor(255*a.ExpansionNode.Node.OwnerRGB[0]),c=Math.floor(255*a.ExpansionNode.Node.OwnerRGB[1]),d=Math.floor(255*a.ExpansionNode.Node.OwnerRGB[2]);return"RGB("+b+", "+c+", "+d+")"}return"#FFC107"}).attr("stroke",function(a){return a.ExpansionNode.Blob?b.colors[a.ExpansionNode.BlobIndex]:"#FFC107"}).attr("stroke-width",function(a){return a.ExpansionNode.Blob?3:0}).attr("stroke-opacity",function(a){return a.ExpansionNode.Blob?1-.5*(a.ExpansionNode.Order/6):0}).attr("r",5).attr("id",function(a){return a.Id}).attr("cx",function(a){return h+a.X}).attr("cy",function(a){return g-a.Y}));k.append("title").text(function(a){var b=a.Label;return a.ExpansionNode.Blob&&(b+=" Blob["+a.ExpansionNode.BlobIndex+"]:"+a.ExpansionNode.Order),a.ExpansionNode.Node.OwnerEmpireIndex>=0?b+" Empire:"+a.ExpansionNode.Node.OwnerEmpireIndex:b+" neutral"}),i.attr("height",f+40),j.attr("transform","translate(5, 5)"),i.call(d3.behavior.zoom().on("zoom",function(){var a=d3.event;j.attr("transform","translate("+a.translate+") scale("+a.scale+")")})),$(".galaxy-node").click(function(){var a=$(this).attr("id"),d=_.find(c,function(b){return b.Id===parseInt(a)});b.SetSelectedNode(d.ExpansionNode.Node)})},b.prototype.Populate=function(b,c,d){angular.forEach(b,function(b){var d=Object.keys(c).length,e=new a.Data.Expansion.GraphNode(d,b);c[d]=e}),angular.forEach(b,function(b){var e=_.find(c,function(a){return a.ExpansionNode.Node.NodePosition.NodeIndex===b.Node.NodePosition.NodeIndex});angular.forEach(b.Node.Links,function(b){var f=_.find(c,function(a){return a.ExpansionNode.Node.NodePosition.NodeIndex===b.OtherNode.NodePosition.NodeIndex}),g=Object.keys(d).length;d[g]=new a.Data.Expansion.GraphEdge(e,f,b.Type)})})},b.prototype.SetSelectedNode=function(a){},b.prototype.ShowJson=function(){this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/expansion"},b.$inject=["$scope","AIDataService","enumService"],b}();b.ExpansionController=c,a.Application.Controller(b.GalaxyController)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b,c){this.model=a,this.$stateService=b,this.aiRequestService=c,a.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Decision"),this.RefreshBehaviorData()}return a.prototype.RefreshBehaviorData=function(){var a=this,b=this;this.aiRequestService.Get("/game/empires/"+b.model.EmpireIndex+"/fleet-missions").then(function(c){b.model.FleetMissions=c.Data,angular.forEach(b.model.FleetMissions,b.ProcessMessage.bind(a))})},a.prototype.GetPanelClass=function(a){switch(a){case 0:return"panel-default";case 1:return"panel-info";case 2:return"panel-info";case 3:return"panel-success";case 4:return"panel-danger";default:return"panel-default"}},a.prototype.DisplayFleetMission=function(a,b){this.$stateService.go("main.empires.actuators.behavior",{empireIndex:a.EmpireIndex,taskGuid:a.FleetMissionTask.Guid.Value,fleetGuid:b})},a.prototype.ProcessMessage=function(a){var b=this;a.MissionStatusName=b.model.EnumService.MissionStatusNames()[a.Status],angular.forEach(a.BehaviorDataByFleetGuid,function(a,c){a.StatusName=b.model.EnumService.FleetBehaviorStatusNames()[a.Status]})},a.$inject=["$scope","$state","AIRequestService"],a}();b.FleetMissionsController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiDataService=b,a.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Fleet action"),a.SimpleMode=!0,this.RefreshData()}return a.prototype.RefreshData=function(){var a=this,b=[];b[0]=this.aiDataService.GetBlackboardMessages(this.model.EmpireIndex),b[1]=this.aiDataService.GetFleetactionData(this.model.EmpireIndex),this.aiDataService.$q.all(b).then(function(b){var c=b[0],d=b[1];a.model.BlackboardMessages=c,a.model.Fleetactions=d})},a.prototype.FleetNames=function(){return _.uniq(_.map(this.model.Fleetactions,function(a){return a.FleetName}))},a.prototype.FleetId=function(a){return _.find(this.model.Fleetactions,function(b){return b.FleetName==a}).FleetId},a.prototype.SetMessage=function(a){this.model.SelectedMessage=_.find(this.model.BlackboardMessages,function(b){return b.Guid.Value==a})},a.prototype.SetName=function(a){this.model.SelectedFleetData=a},a.prototype.SetAction=function(a){this.model.SelectedFleetAction=a},a.prototype.GetFleetStyle=function(a){return a==this.model.SelectedFleetData?"selected-cell":""},a.prototype.GetActionStyle=function(a){return a==this.model.SelectedFleetAction?"selected-cell":""},a.prototype.GetSelected=function(){var a=this;return _.filter(this.model.Fleetactions,function(b){return b.FleetName==a.model.SelectedFleetData&&(a.model.SimpleMode?"Assign TF"==b.ActionName||"Assign Fleet"==b.ActionName&&"Return to base for upgrade"==b.TaskName:!0)})},a.$inject=["$scope","AIDataService"],a}();b.FleetactionController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiRequestService=b,this.RefreshEmpireData(),this.model.Similitary=-1e3}return a.prototype.Sort=function(a){this.model.SortUp=this.model.SortBy==a?!this.model.SortUp:!1,this.model.SortBy=a},a.prototype.ShowMessage=function(a){this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/blackboard-messages/"+a},a.prototype.ShowEntity=function(a){this.model.RawdataUrl="/game-entities/"+a},a.prototype.ShowNode=function(a){this.model.RawdataUrl="/game/galaxy/nodes/"+a},a.prototype.SetFleet=function(a){-1e3!=this.model.Similitary?this.model.Similitary=-1e3:this.model.Similitary=a},a.prototype.GetFleet=function(){var a=_.find(this.model.Fleets,{FleetGuid:this.model.Similitary});return a?_.filter(this.model.Fleets,function(b){return b.FleetGuid==a.FleetGuid||b.TargetGuid==a.FleetGuid||a.TargetGuid==b.FleetGuid||-1!=b.TargetPosition&&b.TargetPosition==a.TargetPosition}):this.model.Fleets},a.prototype.RefreshEmpireData=function(){var a=this;this.aiRequestService.Get("/game/empires/"+a.model.EmpireIndex+"/fleets").then(function(b){a.model.Fleets=b.Data})},a.$inject=["$scope","AIRequestService"],a}();b.FleetsSnapshotController=c,a.Application.Controller(b.EmpireSnapshotController)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a,b,c,d){this.model=a,this.aiRequestService=b,this.aiDataService=c,a.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Galaxy"),this.model.enums=d,this.RefreshGalaxyData()}return b.prototype.ResetDesign=function(){this.aiRequestService.Post("/game/empires/"+this.model.EmpireIndex+"/strategic/reset-design")},b.prototype.SetGroup=function(a){this.model.SelectedFront=a,this.NewDisplayGraph()},b.prototype.GetFrontStyle=function(a){return a==this.model.SelectedFront?"selected-cell":""},b.prototype.RefreshGalaxyData=function(){var a=this;a.aiDataService.GetGalaxyStrategicData(this.model.EmpireIndex).then(function(b){a.model.StrategicDataHolder=b,a.NewDisplayGraph()})},b.prototype.DisplayHeuristicContext=function(a){},b.prototype.NewDisplayGraph=function(){var b=this,c=[],d=[];this.Populate(b.model.StrategicDataHolder.Galaxy.GameNodes,c,d),$("#svg-canvas").empty();var e=960,f=600,g=f/2,h=e/2,i=d3.select("#svg-canvas"),j=i.append("g"),k=(d3.layout.force().nodes(c).links(d).charge(10).linkDistance(10).linkStrength(2).size([e,f]).start(),j.selectAll(".link").data(d).enter().append("line").attr("class",function(a){var b="galaxy-link";return a.Role&&(b+=" "+a.Role.toLowerCase()),b}).style("stroke-width",1).style("stroke-dasharray",function(b){return b.type==a.Model.Rest.LinkType.Warp?"":"5,6"}).attr("x1",function(a){return h+a.source.X}).attr("y1",function(a){return g-a.source.Y}).attr("x2",function(a){return h+a.target.X}).attr("y2",function(a){return g-a.target.Y}),j.selectAll(".node").data(c).enter().append("circle").attr("fixed",!0).attr("class",function(a){var c="galaxy-node";if(c+=a.GalaxyNode.OwnerEmpireIndex>=0?" colony":" neutral",b.model.SelectedFront){var d=_.find(b.model.StrategicDataHolder.StrategicGameNodes,function(c){return c.Node.NodePosition.NodeIndex==a.GalaxyNode.NodePosition.NodeIndex&&c.Zone.Front.FrontGuid==b.model.SelectedFront.FrontGuid});d&&(c+=" "+d.Zone.RoleName.toLowerCase())}return c}).attr("fill",function(a){if(a.GalaxyNode.OwnerEmpireIndex>=0){var b=Math.floor(255*a.GalaxyNode.OwnerRGB[0]),c=Math.floor(255*a.GalaxyNode.OwnerRGB[1]),d=Math.floor(255*a.GalaxyNode.OwnerRGB[2]);return"RGB("+b+", "+c+", "+d+")"}return"#FFC107"}).attr("r",5).attr("id",function(a){return a.Id}).attr("cx",function(a){return h+a.X}).attr("cy",function(a){return g-a.Y}));k.append("title").text(function(a){return a.GalaxyNode.OwnerEmpireIndex>=0?a.Label+" Empire:"+a.GalaxyNode.OwnerEmpireIndex:a.Label+" neutral"}),i.attr("height",f+40),j.attr("transform","translate(5, 5)"),i.call(d3.behavior.zoom().on("zoom",function(){var a=d3.event;j.attr("transform","translate("+a.translate+") scale("+a.scale+")")})),$(".galaxy-node").click(function(){var a=$(this).attr("id"),d=_.find(c,function(b){return b.Id===parseInt(a)});b.SetSelectedNode(d.GalaxyNode)})},b.prototype.Populate=function(b,c,d){var e=this;angular.forEach(b,function(b){var d=Object.keys(c).length,e=new a.Data.Galaxy.GraphNode(d,b);c[d]=e}),angular.forEach(b,function(b){var e=_.find(c,function(a){return a.GalaxyNode==b});angular.forEach(b.Links,function(b){var f=_.find(c,function(a){return a.GalaxyNode==b.OtherNode}),g=Object.keys(d).length;d[g]=new a.Data.Galaxy.GraphEdge(e,f,b.Type)})}),angular.forEach(d,function(a){if(e.model.SelectedFront){var b=_.find(e.model.StrategicDataHolder.StrategicGameNodes,function(b){return b.Node.GalaxyPosition==a.source.GalaxyNode.GalaxyPosition&&b.Zone.Front.FrontGuid==e.model.SelectedFront.FrontGuid}),c=_.find(e.model.StrategicDataHolder.StrategicGameNodes,function(b){return b.Node.GalaxyPosition==a.target.GalaxyNode.GalaxyPosition&&b.Zone.Front.FrontGuid==e.model.SelectedFront.FrontGuid});b&&c&&b.Zone&&c.Zone&&c.Zone.ZoneId==b.Zone.ZoneId&&(a.Role=c.Zone.RoleName)}})},b.prototype.SetSelectedNode=function(a){this.ShowAnalysis(a.NodePosition.NodeIndex),this.model.$applyAsync()},b.prototype.GetRoleName=function(a){return this.model.enums.ShipRoleNames()[a]},b.prototype.ShowJson=function(){this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/strategic"},b.prototype.ShowAnalysis=function(a){this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/analysis/nodes/"+a},b.$inject=["$scope","AIRequestService","AIDataService","enumService"],b}();b.GalaxyController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b,c){this.model=a,this.aiDataService=b,this.aiRequestService=c,a.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Generators"),this.model.SortBy="EvaluationPriority",this.model.SortUp=!0,this.RefreshData()}return a.prototype.Sort=function(a){this.model.SortUp=this.model.SortBy==a?!this.model.SortUp:!1,this.model.SortBy=a},a.prototype.RefreshData=function(){var a=this;this.aiDataService.GetGenerators(!0).then(function(b){a.model.Generators=b})},a.prototype.Switch=function(a){var b=this;this.aiRequestService.Post("/ai-control/generator/"+a,null).then(b.RefreshData.bind(b))},a.$inject=["$scope","AIDataService","AIRequestService"],a}();b.GeneratorController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b,c,d,e){this.model=a,this.$state=b,this.$interval=c,this.aiRequestService=d,this.aiDataService=e,this.model.AllowHeuristics=!1,this.RefreshGameData(),this.RefreshAIControlData(),this.automaticRefreshOfAiHeader=c(this.RefreshAIHeader.bind(this),2e3),this.model.$on("$destroy",this.CancelInterval.bind(this))}return a.prototype.IsAIConnected=function(){return this.model.AIControl?!0:!1},a.prototype.CancelInterval=function(){this.$interval.cancel(this.automaticRefreshOfAiHeader)},a.prototype.RefreshGameData=function(){var a=this;this.aiDataService.GetGameSummary().then(function(b){a.model.Game=b})},a.prototype.RefreshAIControlData=function(){var a=this;this.aiRequestService.Get("/ai-control").then(function(b){a.model.AIControl=b.Data[0],a.model.AllowHeuristics=a.model.AIControl.IsHeuristicsEnabled})},a.prototype.RefreshAIHeader=function(){var a=this,b=this.model.$stateParams.empireIndex;void 0===b?this.aiRequestService.Get("/ai-control/header").then(function(b){a.model.AIControl.IsPaused=b.Data[0].IsPaused}):this.aiRequestService.Get("/ai-control/header/"+b).then(function(c){a.model.AIControl.IsPaused=c.Data[0].IsPaused,a.model.Game.Empires[b].DecisionCount=c.Data[0].DecisionCount})},a.prototype.GotToActiveState=function(a){this.$state.go(this.$state.current.name,{empireIndex:a})},a.prototype.IsStateActive=function(a){return this.$state.includes(a)},a.prototype.IsEmpireActive=function(a){return void 0===this.model.$stateParams.empireIndex?!1:a===this.model.$stateParams.empireIndex},a.prototype.GetEmpireSwitchStyle=function(a){if(void 0===a)return{};if(!this.model.Game)return{};var b=this.model.Game.Empires[a];return{"background-color":b.ColorCss}},a.prototype.GetActiveEmpireIndex=function(){return void 0===this.model.$stateParams.empireIndex?0:this.model.$stateParams.empireIndex},a.prototype.GetEmpireDecisionCount=function(){return void 0===this.model.$stateParams.empireIndex?void 0:this.model.Game.Empires[this.model.$stateParams.empireIndex].DecisionCount},a.prototype.PostPauseAction=function(){var a=this;this.aiRequestService.Post("/ai-control/pause").then(function(b){a.RefreshAIControlData()})},a.prototype.PostContinueAction=function(){var a=this;this.aiRequestService.Post("/ai-control/continue").then(function(b){a.RefreshAIControlData()})},a.prototype.PostMakeDecision=function(){var a=this;this.aiRequestService.Post("/ai-control/make-decision").then(function(b){a.RefreshAIControlData()})},a.prototype.ChangeEnableHeuristics=function(){var a=this;a.model.AllowHeuristics!==a.model.AIControl.IsHeuristicsEnabled&&this.aiRequestService.Post("/ai-control/enable-heuristics/"+a.model.AllowHeuristics).then(function(b){a.RefreshAIControlData()})},a.$inject=["$scope","$state","$interval","AIRequestService","AIDataService"],a}();b.HeaderController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a){this.model=a,this.model.Page.SetTitle("E.N.F.E.R - Help");
}return a.$inject=["$scope"],a}();b.HelpController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b,c){this.model=a,this.aiRequestService=b,this.aiDataService=c,a.Page.SetTitle("E.N.F.E.R"),a.Id=1,this.RefreshGameData()}return a.prototype.IsActive=function(a,b){return this.model.EnumService.ExecutionModeNames()[b]===a},a.prototype.RefreshGameData=function(){var a=this;this.aiDataService.GetGameSummary().then(function(b){a.model.Game=b})},a.prototype.PostPlayerExecutionMode=function(a,b){if(this.model.EnumService.ExecutionModeNames()[this.model.Game.Empires[a].AIPlayer.ExecutionMode]!==b){var c={ExecutionMode:b};this.aiRequestService.Post("/ai-control/players/"+a+"/state",c).then(this.RefreshGameData.bind(this))}},a.prototype.PostAllPlayersExecutionMode=function(a){var b={ExecutionMode:a};this.aiRequestService.Post("/ai-control/players/all/state",b).then(this.RefreshGameData.bind(this))},a.$inject=["$scope","AIRequestService","AIDataService"],a}();b.HomeController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a,b,c,d){this.model=a,this.$anchorScroll=b,this.$location=c,this.aiDataService=d,this.offset=0,this.model.Limit=20,this.model.Logs=new Array,this.LoadLogs()}return b.prototype.GetLogItemClass=function(b){var c={"logs-item-log":b.Type==a.Model.Rest.LogType.Log,"logs-item-assert":b.Type==a.Model.Rest.LogType.Assert,"logs-item-warning":b.Type==a.Model.Rest.LogType.Warning,"logs-item-error":b.Type==a.Model.Rest.LogType.Error,"logs-item-exception":b.Type==a.Model.Rest.LogType.Exception};return c["logs-item-indent-"+b.IndentLevel]=!0,c},b.prototype.GetPanelClass=function(b){return{"logs-panel-log":b.Type==a.Model.Rest.LogType.Log,"logs-panel-assert":b.Type==a.Model.Rest.LogType.Assert,"logs-panel-warning":b.Type==a.Model.Rest.LogType.Warning,"logs-panel-error":b.Type==a.Model.Rest.LogType.Error,"logs-panel-exception":b.Type==a.Model.Rest.LogType.Exception}},b.prototype.GetLogIconClass=function(b){return{"glyphicon-list":b.Type==a.Model.Rest.LogType.Log,"glyphicon-piggy-bank":b.Type==a.Model.Rest.LogType.Assert,"glyphicon-warning-sign":b.Type==a.Model.Rest.LogType.Warning,"glyphicon-fire":b.Type==a.Model.Rest.LogType.Error,"glyphicon-flash":b.Type==a.Model.Rest.LogType.Exception}},b.prototype.SelectLogItem=function(a){this.model.SelectedLog=a,this.$location.hash("logs-panel"),this.$anchorScroll("logs-panel")},b.prototype.CloseLogItem=function(){this.model.SelectedLog=null},b.prototype.LoadLogs=function(){var a=this;this.aiDataService.GetLogs(this.offset,this.model.Limit).then(function(b){a.model.Logs=a.model.Logs.concat(b),a.offset+=a.model.Limit})},b.$inject=["$scope","$anchorScroll","$location","AIDataService"],b}();b.LogsController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b,c){this.model=a,this.aiRequestService=b,this.aiDataService=c,a.Page.SetTitle("Performance"),this.SetGraphOption(),this.model.CurrentData=[],this.RefreshPerformanceData(),this.model.TimeView=!0}return a.prototype.IsActive=function(a,b){return a===b?"active":void 0},a.prototype.Reset=function(){var a=this;this.aiRequestService.Post("/debug/reset-profilers").then(function(b){a.RefreshPerformanceData()})},a.prototype.RefreshPerformanceData=function(){var a=this,b=[];b[0]=this.aiDataService.GetDebugProfilers(),b[1]=this.aiDataService.GetDebugMemoryProfilers(),this.aiDataService.$q.all(b).then(function(b){a.model.Samples=b[0],a.model.MemorySamples=b[1]}),this.RefreshAIControlAcitveStatusData()},a.prototype.RefreshAIControlAcitveStatusData=function(){var a=this;this.aiRequestService.Get("/ai-control/active-status").then(function(b){a.model.CurrentActiveStatus=a.model.EnumService.DebugActiveStatus()[b.Data[0].Status]})},a.prototype.LastSample=function(a){var b=[],c=[];return a&&a.forEach(function(d){if(0!=d.Ticks&&!b[d.Name]){b[d.Name]=!0;var e=_.filter(a,function(a){return a.Name===d.Name}),f=_.sortBy(e,function(a){return a.BeginTime});c.push(_.last(f))}}),_.sortBy(c,function(a){return-1*a.Ticks})},a.prototype.LastMemorySample=function(a){var b=[],c=[];return a&&a.forEach(function(d){if(!b[d.Name]){b[d.Name]=!0;var e=_.filter(a,function(a){return a.Name===d.Name}),f=_.sortBy(e,function(a){return a.BeginTime});c.push(_.last(f))}}),_.sortBy(c,function(a){return-1*a.DeltaMemory})},a.prototype.RefreshObjectsSize=function(){var a=this,b=this,c=[];this.aiRequestService.Get("/game-entities").then(function(d){var e=[];d.Data.forEach(function(a){e.push(b.aiRequestService.Get("/game-entities/"+a.Key))}),a.aiDataService.$q.all(e).then(function(a){a.forEach(function(a){c.push(a.Data[0])}),b.model.Entities=_.sortBy(c,function(a){return-1*b.Size(a)})})})},a.prototype.TotalSize=function(){var a=this;return _.sum(this.model.Entities,function(b){return a.Size(b)})},a.prototype.Size=function(a){return JSON.stringify(a).length},a.prototype.RoughSizeOfObject=function(a){for(var b=[],c=[a],d=0;c.length;){var e=c.pop();if("boolean"==typeof e)d+=4;else if("string"==typeof e)d+=2*e.length;else if("number"==typeof e)d+=8;else if("object"==typeof e&&-1===b.indexOf(e)){b.push(e);for(var f in e)c.push(e[f])}}return d},a.prototype.FormatByteSize=function(a){return 1024>a?a+" bytes":1048576>a?(a/1024).toFixed(3)+" KiB":1073741824>a?(a/1048576).toFixed(3)+" MiB":(a/1073741824).toFixed(3)+" GiB"},a.prototype.AddGraph=function(a){_.include(this.model.CurrentData,a)?this.model.CurrentData=_.filter(this.model.CurrentData,function(b){return b!=a}):this.model.CurrentData.push(a),this.RefreshGraph()},a.prototype.RefreshGraph=function(){var a=this;this.model.Data=[],this.model.CurrentData.forEach(function(b){a.model.Data.push(a.GetGraphData(b))})},a.prototype.GetGraphData=function(a){var b=_.filter(this.model.Samples,function(b){return b.Name===a});b=_.sortBy(b,function(a){return a.BeginTime});var c=[];b[0].BeginTime;return b.forEach(function(a){var d=_.filter(b,function(b){return b.Turn==a.Turn}),e=_.findIndex(d,function(b){return b.BeginTime==a.BeginTime});c.push({x:a.Turn+e/d.length,y:a.Ticks/1e4})}),{values:c,key:a,color:this.getRandomColor(),area:!1}},a.prototype.SetGraphOption=function(){this.model.Option={chart:{type:"lineChart",height:450,margin:{top:20,right:20,bottom:40,left:55},x:function(a){return a.x},y:function(a){return a.y},useInteractiveGuideline:!0,dispatch:{stateChange:function(a){console.log("stateChange")},changeState:function(a){console.log("changeState")},tooltipShow:function(a){console.log("tooltipShow")},tooltipHide:function(a){console.log("tooltipHide")}},xAxis:{axisLabel:"Turn"},yAxis:{axisLabel:"Time (ms)",tickFormat:function(a){return d3.format(".02f")(a)},axisLabelDistance:-10},callback:function(a){console.log("!!! lineChart callback !!!")}},title:{enable:!0,text:"Performance in E.N.F.E.R"},subtitle:{enable:!1,text:"Subtitle for simple line chart. Lorem ipsum dolor sit amet, at eam blandit sadipscing, vim adhuc sanctus disputando ex, cu usu affert alienum urbanitas.",css:{"text-align":"center",margin:"10px 13px 0px 7px"}},caption:{enable:!1,html:'<b>Figure 1.</b> Lorem ipsum dolor sit amet, at eam blandit sadipscing, <span style="text-decoration: underline;">vim adhuc sanctus disputando ex</span>, cu usu affert alienum urbanitas. <i>Cum in purto erat, mea ne nominavi persecuti reformidans.</i> Docendi blandit abhorreant ea has, minim tantas alterum pro eu. <span style="color: darkred;">Exerci graeci ad vix, elit tacimates ea duo</span>. Id mel eruditi fuisset. Stet vidit patrioque in pro, eum ex veri verterem abhorreant, id unum oportere intellegam nec<sup>[1, <a href="https://github.com/krispo/angular-nvd3" target="_blank">2</a>, 3]</sup>.',css:{"text-align":"justify",margin:"10px 13px 0px 7px"}}}},a.prototype.getRandomColor=function(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;6>c;c++)b+=a[Math.floor(16*Math.random())];return b},a.prototype.ChooseActiveStatus=function(a){var b={Status:a};this.aiRequestService.Post("/ai-control/active-status",b).then(this.RefreshAIControlAcitveStatusData.bind(this))},a.prototype.GetCurrentActiveStatus=function(){return this.model.CurrentActiveStatus},a.$inject=["$scope","AIRequestService","AIDataService"],a}();b.PerformanceController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiRequestService=b}return a.prototype.SetUrl=function(a){this.model.Url=a.replace("EmpireIndex",this.model.EmpireIndex.toString()).replace("#id#",this.model.Id)},a.$inject=["$scope","AIRequestService"],a}();b.RawDataController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiDataService=b,a.Page.SetTitle("E.N.F.E.R - Empire "+this.model.EmpireIndex+" - Situation"),this.RefreshData()}return a.prototype.RefreshData=function(){var a=this;a.aiDataService.GetSituationData(this.model.EmpireIndex).then(function(b){a.model.Designs=b.Designs,a.model.Situations=b.Situations,a.model.SituationTypes=b.SituationTypes,a.Refresh()})},a.prototype.Refresh=function(){},a.$inject=["$scope","AIDataService"],a}();b.AnalysisSituationController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiRequestService=b,this.model.Page.SetTitle("E.N.F.E.R - Snapshot "+this.model.EmpireIndex),this.RefreshSnapshotData("constructibles/all")}return a.prototype.RefreshSnapshotDataAll=function(){this.RefreshSnapshotData("constructibles/all")},a.prototype.RefreshSnapshotDataScience=function(){this.RefreshSnapshotData("constructibles/science")},a.prototype.RefreshSnapshotDataIndustry=function(){this.RefreshSnapshotData("constructibles/industry")},a.prototype.RefreshSnapshotDataRecipeIngredients=function(){this.RefreshSnapshotData("recipe-ingredients")},a.prototype.RefreshSnapshotDataLaw=function(){this.RefreshSnapshotData("laws")},a.prototype.RefreshSnapshotDataHeroSkill=function(){this.RefreshSnapshotData("hero-skill")},a.prototype.RefreshSnapshotData=function(a){var b=this;this.aiRequestService.Get("/datatable/"+a).then(function(a){b.model.Snapshots=a.Data})},a.prototype.GetRessourceIconClass=function(a){switch(a){case"FoodGain":return"es2-icon-fidsp-food";case"IndustryGain":return"es2-icon-fidsp-industry";case"DustGain":return"es2-icon-fidsp-dust";case"ScienceGain":return"es2-icon-fidsp-science";case"PrestigeGain":return"es2-icon-fidsp-prestige";case"Approval":return"es2-icon-approval";case"Strategic1Gain":return"es2-icon-strategic-1";case"Strategic2Gain":return"es2-icon-strategic-2";case"Strategic3Gain":return"es2-icon-strategic-3";case"Strategic4Gain":return"es2-icon-strategic-4";case"Strategic5Gain":return"es2-icon-strategic-5";case"Strategic6Gain":return"es2-icon-strategic-6";case"Attack":return"es2-icon-attack";case"Defense":return"es2-icon-defense";case"MovementGain":return"es2-icon-movement";case"ManpowerGain":return"es2-icon-man-power";case"CommandPointsGain":return"es2-icon-command-points";default:return"glyphicon glyphicon-info-sign"}},a.$inject=["$scope","AIRequestService"],a}();b.SnapshotsGainsController=c,a.Application.Controller(c)}(b=a.Controllers||(a.Controllers={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Success=0]="Success",a[a.Error=1]="Error"}(a.AIResponseStatus||(a.AIResponseStatus={}));var b=a.AIResponseStatus,c=function(){function a(a){this.Status=b.Error,"success"===a.status&&(this.Status=b.Success),this.Data=a.data,this.Message=a.message,this.Code=a.code}return a}();a.AIResponse=c}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){var e=this;e.Model=a,e.MyEmpireData=new c(e.Model.MyEmpireData,b),e.NodeData=new Array,angular.forEach(e.Model.NodeData,function(a){e.NodeData.push(new d(a,b))}),e.RelationData=new Array,angular.forEach(e.Model.NodeData,function(a){e.RelationData.push(new c(a,b))})}return a}();a.AnalysisDataHolder=b;var c=function(){function a(a,b){var c=this;c.AnalysisValues=new Array,angular.forEach(a,function(a,b){c.ProcessData(b,a)})}return a.prototype.ProcessData=function(a,b){var c=this;c.DeserializeAnalysisValue(a,b)},a.prototype.DeserializeAnalysisValue=function(a,b){var c=this;b?c.AnalysisValues.push(new e(a,b.Value,b.HeuristicContext)):c.AnalysisValues.push(new e(a,0,null))},a}();a.BaseAnalysisData=c;var d=function(a){function b(b,c){a.call(this,b,c);var d=this;d.enumService=c,d.BuildingData=new Array}return __extends(b,a),b.prototype.ProcessData=function(b,c){var d=this;"NodePosition"==b?d.DeserializeNodePosition(b,c):"BuildingData"==b?d.DeserializeBuildingData(c):a.prototype.ProcessData.call(this,b,c)},b.prototype.DeserializeNodePosition=function(a,b){var c=this;c.NodePosition=b},b.prototype.DeserializeBuildingData=function(a){var b=this;angular.forEach(a,function(a){b.BuildingData.push(new c(a,b.enumService))})},b}(c);a.NodeData=d;var e=function(){function a(a,b,c){var d=this;d.Key=a,d.Value=b,d.HeuristicContext=c,d.DebugString=new Array,c?d.GenerateDebugStringFromScope("",d.HeuristicContext.Root):d.DebugString.push("null heuristic")}return a.prototype.GenerateDebugStringFromScope=function(a,b){var c=this;c.DebugString.push(a+b.Title);var d=a;d+="  ",angular.forEach(b.Data,function(a){void 0!=a.Value?c.DebugString.push(d+a.Value):c.GenerateDebugStringFromScope(d,a)})},a}();a.AnalysisValue=e}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this.Id=a,this.Node=b,"Selector"===b.NodeName?(this.LabelType="html",this.Label='<img src="/core/assets/images/behavior-selector-icon.svg"/>',this.Class=" behavior-node-selector"):"Sequence"===b.NodeName?(this.LabelType="html",this.Label='<img src="/core/assets/images/behavior-sequence-icon.svg"/>',this.Class=" behavior-node-sequence"):(this.LabelType="string",this.Label=b.NodeName),"Success"===b.NodeState?this.Class+=" behavior-node-state-success":"Failure"===b.NodeState?this.Class+=" behavior-node-state-failure":"Unkown"===b.NodeState?this.Class+=" behavior-node-state-unkown":"Running"===b.NodeState&&(this.Class+=" behavior-node-state-running")}return a}();a.GraphNode=b;var c=function(){function a(a,b){this.SourceId=a,this.TargetId=b}return a}();a.GraphEdge=c}(b=a.Behavior||(a.Behavior={}))}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){a.defaultCytoscapeLayout={alliance:{x:178.36711015800617,y:977.4546129583732},"alliance.cooperative":{x:292.9697442398797,y:961.3875666369761},"alliance.cooperative.helping-ally":{x:296.1501415317527,y:977.0883559574686},"alliance.cooperative.need-help":{x:286.7893469480067,y:945.6867773164836},"alliance.devoted":{x:145.51318205965123,y:1075.325549457868},"alliance.devoted.send-gift":{x:249.71254652151995,y:1059.743372587785},"alliance.devoted.send-good-gift":{x:50.31381759778254,y:1064.8685089708376},"alliance.devoted.technology-exchange":{x:217.30994194044152,y:1090.9077263279507},"alliance.disappointed":{x:189.2337371356932,y:871.5909765759294},"alliance.idle":{x:116.7727242448778,y:976.8369014292812},"alliance.leave-alliance":{x:315.4204027182298,y:857.5014995887955},"cold-war":{x:408.7077712652222,y:360.5411766064375},"cold-war.afraid":{x:41.80399622083352,y:279.3324371830304},"cold-war.afraid.close-borders":{x:18.533644149482768,y:245.83529403683667},"cold-war.afraid.idle":{x:79.57434829218427,y:312.82958032922403},"cold-war.ask-alliance":{x:-22.898122158723037,y:552.8672598111598},"cold-war.cordial":{x:230.05595319571404,y:551.765020425949},"cold-war.cordial.ask-map-sharing":{x:101.80480328363568,y:521.8429102404871},"cold-war.cordial.ask-open-borders":{x:253.30973360756894,y:524.5965812087123},"cold-war.cordial.ask-peace":{x:368.3071031077924,y:573.0062799939951},"cold-war.cordial.idle":{x:237.1886415393207,y:581.687130611411},"cold-war.hostile":{x:740.3073682870136,y:510.32863039634117},"cold-war.hostile.close-borders":{x:682.6466671378663,y:545.5499321389049},"cold-war.hostile.expecting-tribute":{x:685.3738787843972,y:451.30431238073595},"cold-war.hostile.idle":{x:814.7408577896298,y:497.43217292346634},"cold-war.hostile.make-demand":{x:798.6811866677489,y:569.3529484119464},"cold-war.idle":{x:272.5800654160877,y:281.6355347702715},"cold-war.wary":{x:678.4921860350235,y:246.54782870318198},"cold-war.wary.close-borders":{x:822.3530796969417,y:211.19656084179374},"cold-war.wary.idle":{x:684.7844233322721,y:340.6998887492083},"cold-war.wary.make-demand":{x:845.3136646891675,y:353.70043480489994},"cold-war.wary.outpost-competition":{x:607.8056577146276,y:139.395222601464},"cold-war.wary.ultimatum":{x:527.6707073808794,y:283.10514619402386},"cold-war.wary.ultimatum.watch-colonization":{x:527.6707073808794,y:228.62071337966165},"cold-war.wary.ultimatum.watch-intruder":{x:526.1061476062138,y:337.5895790083861},peace:{x:879.7477869085888,y:971.2649983654159},"peace.ask-necessity-alliance":{x:600.047411220972,y:874.0045605038196},"peace.friendly":{x:647.5275176106716,y:1097.9215531278905},"peace.friendly.ask-alliance":{x:573.8032831575424,y:1074.7752094377363},"peace.friendly.idle":{x:577.6974972108651,y:1135.327185949057},"peace.friendly.interrogative":{x:671.2106284295695,y:1060.5159203067244},"peace.friendly.warm":{x:730.7517520638007,y:1114.7501293194052},"peace.idle":{x:722.0049698133164,y:938.991036170354},"peace.propose-agreement":{x:995.3600003374595,y:1063.47595419258},"peace.propose-agreement.ask-science-agreement":{x:996.2320887675791,y:1127.566813116614},"peace.propose-agreement.ask-trade-agreement":{x:990.9879119073397,y:1078.9636459842527},"peace.propose-agreement.ask-vision-sharing":{x:996.9964425244092,y:999.3850952685461},"peace.unsure":{x:1040.1881703864647,y:865.6324855118198},"peace.unsure.conversion-ultimatum":{x:909.1840501132942,y:923.9015817957819},"peace.unsure.demand-ultimatum":{x:919.6221400305119,y:807.2028107817748},"peace.unsure.idle":{x:1070.842170019678,y:924.0621602418647},"peace.unsure.leave-peace":{x:1030.7244270012604,y:813.8503023602084},"peace.unsure.trespass-ultimatum":{x:1175.192290659635,y:864.9630953937778},truce:{x:1178.3683289283133,y:607.1913105858484},"truce.idle":{x:1178.3683289283133,y:607.1913105858484},unknown:{x:-205.3729515460438,y:372.09005027315123},war:{x:1132.9902550694928,y:370.49853472965657},"war.conquest-war":{x:1033.804299027364,y:510.00660264691714},"war.idle":{x:1179.2043657100132,y:535.8844629722423},"war.propose-forced-truce":{x:1207.3225599068842,y:288.2400977801417},"war.propose-truce":{x:1222.57241211196,y:452.75697167917144},"war.slight-war":{x:1040.104663255398,y:403.51235952761135},"war.solve-war":{x:1181.8856296814135,y:368.04318320332317},"war.warring":{x:1050.4080980270257,y:373.33300192999855},"war.warring.conquest-war":{x:1050.4080980270257,y:446.25110134206324},"war.warring.idle":{x:1049.8913845677341,y:382.15675783976184},"war.warring.slight-war":{x:1045.4540016067472,y:300.41490251793385}}}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";!function(a){a[a.Goal=0]="Goal",a[a.Task=1]="Task"}(b.NodeType||(b.NodeType={}));var c=b.NodeType,d=function(){function b(b,d,e){switch(this.Children=[],this.Parents=[],this.Id=b,this.Node=d,this.LabelType="string",this.Label=d.LocalizedName,e){case c.Goal:this.Class=" decision-node-goal",this.Shape="ellipse";break;case c.Task:this.Class=" decision-node-task",this.Shape="rect"}switch(d.Motivation>=.8?this.Class+=" motivation-very-high":d.Motivation>=.6?this.Class+=" motivation-high":d.Motivation>=.4?this.Class+=" motivation-neutral":d.Motivation>=.2?this.Class+=" motivation-low":this.Class+=" motivation-very-low",d.Status){case a.Model.Rest.EvaluationStatus.NoStatus:this.Class+=" decision-status-none";break;case a.Model.Rest.EvaluationStatus.WaitingForValidation:this.Class+=" decision-status-waiting-for-validation";break;case a.Model.Rest.EvaluationStatus.Validated:this.Class+=" decision-status-validated";break;case a.Model.Rest.EvaluationStatus.Postponed:this.Class+=" decision-status-postponed";break;case a.Model.Rest.EvaluationStatus.WaitingForOrderResponse:this.Class+=" decision-status-waiting-for-order-response";break;case a.Model.Rest.EvaluationStatus.Ongoing:this.Class+=" decision-status-ongoing";break;case a.Model.Rest.EvaluationStatus.Succeed:this.Class+=" decision-status-succeed";break;case a.Model.Rest.EvaluationStatus.Cancel:this.Class+=" decision-status-cancel";break;case a.Model.Rest.EvaluationStatus.Failed:this.Class+=" decision-status-failed";break;case a.Model.Rest.EvaluationStatus.Deny:this.Class+=" decision-status-deny"}}return b.prototype.AddChild=function(a){this.Children[this.Children.length]=a},b.prototype.AddParent=function(a){this.Parents[this.Parents.length]=a},b}();b.GraphNode=d;var e=function(){function a(a,b,c){this.Id=a,this.Label=b,this.Nodes=[],this.Class=c}return a.prototype.AddNode=function(a){this.Nodes[this.Nodes.length]=a},a}();b.GraphGroup=e;var f=function(){function a(a,b,c,d){this.SourceNode=a,this.TargetNode=b,this.SourceId=a.Id,this.TargetId=b.Id,this.Generator=c,this.Motivation=d,this.Class="",this.Motivation<0&&(this.Class+=" motivation-negative",this.Motivation*=-1),this.Motivation>=.8?this.Class+=" motivation-very-high":this.Motivation>=.6?this.Class+=" motivation-high":this.Motivation>=.4?this.Class+=" motivation-neutral":this.Motivation>=.2?this.Class+=" motivation-low":this.Class+=" motivation-very-low"}return a}();b.GraphEdge=f}(c=b.Decision||(b.Decision={}))}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a}();a.ExpansionNode=b}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this.Id=a,this.LabelType="string",this.Label=b.Node.LocalizedName,this.Class=" galaxy-node",this.ExpansionNode=b,this.X=3*this.ExpansionNode.Node.GalaxyPosition.X,this.Y=3*this.ExpansionNode.Node.GalaxyPosition.Y}return a}();a.GraphNode=b;var c=function(){function a(a,b,c){this.source=a,this.target=b,this.type=c}return a}();a.GraphEdge=c}(b=a.Expansion||(a.Expansion={}))}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this.Model=a,this.MissionStatusName=b.MissionStatusNames()[a.Status];var c=0;this.FleetGuids=[];for(var d in a.BehaviorDataByFleetGuid)this.FleetGuids[c]=d,c++}return a}();a.FleetMission=b}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this.Id=a,this.LabelType="string",this.Label=b.LocalizedName,this.Class=" galaxy-node",this.GalaxyNode=b,this.X=3*this.GalaxyNode.GalaxyPosition.X,this.Y=3*this.GalaxyNode.GalaxyPosition.Y}return a}();a.GraphNode=b;var c=function(){function a(a,b,c){this.source=a,this.target=b,this.type=c}return a}();a.GraphEdge=c}(b=a.Galaxy||(a.Galaxy={}))}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(a,b){this.Children=[],this.Parents=[],this.IsActive=!1,this.Id=null!=a?a.FullName:"",this.State=a,this.Level=b,this.Shape="ellipse",this.LabelType="string",this.Label=null!=a?a.Name:"<Fake>",this.RefreshActiveState()}return b.prototype.AddChild=function(a){this.Children[this.Children.length]=a,a.IsActive&&(this.IsActive=!0),this.RefreshActiveState()},b.prototype.AddParent=function(a){this.Parents[this.Parents.length]=a,a.RefreshActiveState()},b.prototype.RefreshActiveState=function(){if(null==this.State)return this.Class="diplo-state-fake",void(this.IsActive=!1);if(this.IsActive=this.State.IsActive,!this.State.IsActive)for(var b=0;b<this.Children.length;b++)if(this.Children[b].IsActive){this.IsActive=!0;break}this.Class=this.IsActive?"diplo-state diplo-state-active":"diplo-state",this.Children.length>0&&(this.Class+=" diplo-state-selectable",this.Shape="rect"),this.State.Properties===a.Model.Rest.MachineStateProperties.DefaultState&&(this.Class+=" diplo-default-state");for(var b=0;b<this.Parents.length;b++)this.Parents[b].RefreshActiveState()},b}();b.GraphNode=c;var d=function(){function a(a,b,c){this.SourceNode=a,this.TargetNode=b,this.SourceId=a.Id,this.TargetId=b.Id,this.Transitions=[],this.Class="",this.AddTransition(c)}return a.prototype.AddTransition=function(a){this.Transitions.push(a),1===this.Transitions.length?this.Name=a.Name:this.Name="["+this.Transitions.length+"]",a.LastEvaluation.HeuristicContext&&a.LastEvaluation.HeuristicContext.Root.Data.length>0?a.LastEvaluation.Value===!0?a.Class="panel panel-info":a.Class="panel panel-danger":a.Class="panel panel-default";for(var b=0,c=0,d=0;d<this.Transitions.length;d++){var e=this.Transitions[d];e.LastEvaluation.HeuristicContext&&e.LastEvaluation.HeuristicContext.Root.Data.length>0&&(e.LastEvaluation.Value===!0?b++:c++)}b>0&&0===c?this.Class="valid-transition":b>0&&c>0?this.Class="valid-transition":0===b&&c>0&&(this.Class="valid-tested")},a}();b.GraphEdge=d}(c=b.StateMachine||(b.StateMachine={}))}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Data||(a.Data={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";function c(){return{restrict:"E",templateUrl:"core/views/directives/behavior-model.html",replace:!0,controller:d,controllerAs:"controller",scope:{RootNode:"=model"}}}var d=function(){function b(a,b){this.model=a,this.aiDataService=b;var c=this.model.$watch("RootNode",this.DisplayBehaviorAsGraph.bind(this));this.model.$on("$destroy",c)}return b.prototype.SetSelectedNode=function(a){this.model.SelectedNode=a,this.model.$applyAsync()},b.prototype.DisplayBehaviorAsGraph=function(a){var b=[],c=[];this.Populate(a,b,c);var d=this;$("#svg-canvas").empty();var e=new dagreD3.graphlib.Graph;e.setGraph({nodesep:80,ranksep:50,marginx:50,marginy:50}),e.setDefaultEdgeLabel(function(){return{}});for(var f in b){var g=b[f];e.setNode(g.Id.toString(),{id:g.Id,labelType:g.LabelType,label:g.Label,"class":g.Class})}for(var f in c){var h=c[f];e.setEdge(h.SourceId.toString(),h.TargetId.toString(),{lineTension:.8,lineInterpolate:"bundle"})}var i=new dagreD3.render,j=d3.select("#svg-canvas"),k=j.append("g");i(d3.select("#svg-canvas g"),e);var l=parseFloat(j.attr("width"));isNaN(l)&&(l=0);var m=(l-e.graph().width)/2;k.attr("transform","translate("+m+", 20)"),j.attr("height",e.graph().height+40),k.attr("transform","translate(5, 5)"),j.call(d3.behavior.zoom().on("zoom",function(){var a=d3.event;k.attr("transform","translate("+a.translate+") scale("+a.scale+")")})),$(".node").click(function(){var a=$(this).attr("id"),c=b[a];d.SetSelectedNode(c.Node)})},b.prototype.Populate=function(b,c,d){var e=this,f=Object.keys(c).length,g=new a.Data.Behavior.GraphNode(f,b);return c[f]=g,angular.forEach(b.Children,function(b){var f=e.Populate(b,c,d),h=Object.keys(d).length;d[h]=new a.Data.Behavior.GraphEdge(g.Id,f.Id)}),g},b.$inject=["$scope","AIDataService"],b}();a.Application.Directive("behaviorDirective",c)}(b=a.Directives||(a.Directives={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";function c(){return{restrict:"E",templateUrl:"core/views/directives/blackboard-message.html",replace:!0,controller:d,controllerAs:"controller",scope:{Message:"=model",SummaryMode:"=summaryMode",EmpireIndex:"=empireIndex"}}}var d=function(){function b(a,b,c,d){this.model=a,this.aiDataService=b,this.$stateService=d,this.model.EnumService=c;var e=this.model.$watch("Message",this.ResetEvaluationMotivationHeuristicContext.bind(this));this.model.$on("$destroy",e)}return b.prototype.ResetEvaluationMotivationHeuristicContext=function(){this.model.SelectedHeuristicContext=null},b.prototype.ShowJson=function(){this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/blackboard-messages/"+this.model.Message.Guid.Value},b.prototype.ShowAllocationJson=function(a){1==a.InstanceType?this.model.RawdataUrl="/game-entities/"+a.InstanceGuid:this.model.RawdataUrl="/game/empires/"+this.model.EmpireIndex+"/blackboard-messages/"+a.InstanceGuid},b.prototype.ShowEntity=function(a){this.model.RawdataUrl="/game-entities/"+a},b.prototype.ShowNode=function(a){this.model.RawdataUrl="/game/galaxy/nodes/"+a},b.prototype.DisplayEvaluationMotivationHeuristicContext=function(a){this.model.SelectedHeuristicContext===a?this.model.SelectedHeuristicContext=null:this.model.SelectedHeuristicContext=a},b.prototype.GetCSSClass=function(b){switch(b){case a.Model.Rest.EvaluationStatus.NoStatus:case a.Model.Rest.EvaluationStatus.WaitingForValidation:return"default";case a.Model.Rest.EvaluationStatus.Validated:return"info";case a.Model.Rest.EvaluationStatus.Postponed:case a.Model.Rest.EvaluationStatus.Deny:return"warning";case a.Model.Rest.EvaluationStatus.WaitingForOrderResponse:return"info";case a.Model.Rest.EvaluationStatus.Ongoing:return"primary";case a.Model.Rest.EvaluationStatus.Succeed:return"success";case a.Model.Rest.EvaluationStatus.Cancel:case a.Model.Rest.EvaluationStatus.Failed:return"danger";default:return"default"}},b.prototype.GetMotivationCategory=function(a){return a>=.8?"motivation-very-high":a>=.6?"motivation-high":a>=.4?"motivation-neutral":a>=.2?"motivation-low":"motivation-very-low"},b.prototype.GetAggregationName=function(b){switch(b){
case a.Model.Rest.EvaluationAggregation.Additive:return"Additive";case a.Model.Rest.EvaluationAggregation.Inibitive:return"Inibitive";case a.Model.Rest.EvaluationAggregation.Forbidden:return"Forbidden";default:return"<unknown>"}},b.prototype.GetAggregationClass=function(b){switch(b){case a.Model.Rest.EvaluationAggregation.Additive:return"plus";case a.Model.Rest.EvaluationAggregation.Inibitive:return"minus";case a.Model.Rest.EvaluationAggregation.Forbidden:return"fire";default:return"warning-sign"}},b.prototype.IsFleetBehavior=function(){return this.model.Message.ActuatorType&&(this.model.Message.ActuatorType.indexOf("FleetMissionActuator")>=0||this.model.Message.ActuatorType.indexOf("StartWarActuator")>=0)?!0:!1},b.prototype.DisplayFleetMission=function(a){this.$stateService.go("main.empires.actuators.behavior",{empireIndex:this.model.EmpireIndex,taskGuid:this.model.Message.Guid.Value,fleetGuid:a.InstanceGuid})},b.$inject=["$scope","AIDataService","enumService","$state"],b}();a.Application.Directive("blackboardMessageDirective",c)}(b=a.Directives||(a.Directives={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(b){var c;!function(b){var c;!function(c){"use strict";var d=function(){function b(a,b,c){this.model=a,this.localStorageService=b,this.aiRequestService=c,this.model.LayoutSettings=this.GetLocalStorage();var d=this.model.$watch("Elements",this.RefreshGraph.bind(this));this.model.$on("$destroy",d)}return b.prototype.RefreshGraph=function(){var b=!1;if(this.Graph&&this.model.Elements){for(var c=0;c<this.model.Elements.length;c++)if(this.model.Elements[c].data.id){var d=this.Graph.getElementById(this.model.Elements[c].data.id);d&&0==d.length?this.localStorageService.get(this.model.Elements[c].data.id)&&(this.model.Elements[c].position=this.localStorageService.get(this.model.Elements[c].data.id),b=!0):d&&"nodes"===d.group()&&(this.model.Elements[c].position=d.position(),b=!0)}if(!b)return this.WriteLocalStorage(a.AI.Front.Data.defaultCytoscapeLayout),void this.RefreshGraph()}else console.warn("no graph");var e={container:this.Container,style:this.model.Style,layout:this.model.Layout,elements:this.model.Elements,wheelSensitivity:.2};this.Graph=cytoscape(e),this.Graph.on("select","node",this.OnNodeSelected.bind(this)),this.Graph.on("select","edge",this.OnEdgeSelected.bind(this)),this.Graph.on("unselect",this.OnUnselect.bind(this)),this.Graph.on("mouseup","node",this.OnMove.bind(this))},b.prototype.SaveLayoutSettings=function(){var a=JSON.parse(this.model.LayoutSettings);this.WriteLocalStorage(a)},b.prototype.ResetLayoutSettings=function(){this.WriteLocalStorage(a.AI.Front.Data.defaultCytoscapeLayout),this.model.LayoutSettings=this.GetLocalStorage(),this.model.$applyAsync()},b.prototype.OnMove=function(a){for(var b=0;b<this.model.Elements.length;b++)if(this.model.Elements[b].data.id){var c=this.Graph.getElementById(this.model.Elements[b].data.id);c&&"nodes"===c.group()&&this.localStorageService.set(this.model.Elements[b].data.id,c.position())}this.model.LayoutSettings=this.GetLocalStorage(),this.model.$applyAsync()},b.prototype.OnNodeSelected=function(a){this.model.SelectedElement=a.cyTarget[0].data(),this.model.$applyAsync()},b.prototype.OnEdgeSelected=function(a){this.model.SelectedElement=a.cyTarget[0].data(),this.model.$applyAsync()},b.prototype.OnUnselect=function(a){this.model.SelectedElement=null,this.model.$applyAsync()},b.prototype.SetCurrentState=function(a){var b="root."+a;this.aiRequestService.Post(this.model.SetCurrentStateUri,{CurrentStateFullName:b})},b.prototype.GetLocalStorage=function(){for(var a={},b=this.localStorageService.keys(),c=0;c<b.length;c++){var d=b[c],e=this.localStorageService.get(d);a[d]=e}return JSON.stringify(a)},b.prototype.WriteLocalStorage=function(a){for(var b=Object.keys(a),c=0;c<b.length;c++){var d=b[c],e=a[d];this.localStorageService.set(d,e)}},b.$inject=["$scope","localStorageService","AIRequestService"],b}(),e=function(){function a(){this.restrict="E",this.template='<div><div class="col-sm-9"><div class="cytoscape-graph diplomacy-graph"></div></div><div class="col-sm-3 "><ng-include src="\'core/views/partials/_cytoscape-details-panel.html\'"></ng-include></div></div>',this.replace=!0,this.controller=d,this.controllerAs="controller",this.scope={Elements:"=elements",SetCurrentStateUri:"=setCurrentStateUri"}}return a.prototype.compile=function(a,b,c){return this.postLink.bind(this)},a.prototype.postLink=function(a,b,c,d){void 0==a.Style&&(a.Style=[{selector:"node",css:{label:"data(name)","font-size":"6px",width:"label",height:"label","text-valign":"center","background-color":"9E9E9E",color:"#FAFAFA","padding-left":"10px","padding-right":"10px","padding-top":"5px","padding-bottom":"5px",shape:"elipse","font-weight":"bold"}},{selector:"$node > node",css:{"text-valign":"top","text-halign":"center",color:"#9E9E9E",shape:"rectangle","background-color":"#F5F5F5","font-weight":"bold","text-margin-y":"8px","border-width":"1px"}},{selector:"edge",css:{"curve-style":"bezier",label:"data(name)",color:"black","font-size":"5px",width:"1","line-color":"#424242","target-arrow-shape":"triangle","target-arrow-color":"#424242","text-margin-y":"-4px"}},{selector:".diplo-state-active",css:{"border-width":"2px","border-color":"#2196F3"}},{selector:".diplo-default-state",css:{color:"#FFAB91"}},{selector:".valid-transition",css:{"line-color":"#2196F3"}},{selector:".valid-tested",css:{"line-color":"#f44336"}},{selector:":selected",css:{"line-color":"#FF9800"}}]),void 0==a.Layout&&(a.Layout={name:"preset",positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0});var e=b.find("div.cytoscape-graph")[0];if(!e)return void console.error("Can't retrieve cytoscape graph node.");var f={container:e,style:a.Style,layout:a.Layout};d.Graph=cytoscape(f),d.Container=e},a.Factory=function(){var b=function(){return new a};return b},a}();b.Application.Directive("cytoscape",e.Factory())}(c=b.Directives||(b.Directives={}))}(c=b.Front||(b.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";function c(){return{restrict:"E",templateUrl:"core/views/directives/heuristic-context.html",replace:!0,controller:d,controllerAs:"controller",scope:{HeuristicContext:"=model"}}}var d=function(){function a(a,b){this.model=a,this.aiDataService=b}return a.prototype.GetMotivationCategory=function(a){return a>=.8?"motivation-very-high":a>=.6?"motivation-high":a>=.4?"motivation-neutral":a>=.2?"motivation-low":"motivation-very-low"},a.prototype.Fold=function(a){a.FoldState=!a.FoldState},a.$inject=["$scope","AIDataService"],a}();a.Application.Directive("heuristicContextDirective",c)}(b=a.Directives||(a.Directives={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";function c(){return{restrict:"E",templateUrl:"core/views/directives/military-data.html",replace:!0,controller:d,controllerAs:"controller",scope:{MilitaryData:"=model"}}}var d=function(){function a(a,b){this.model=a,this.aiDataService=b;var c=this.model.$watch("MilitaryData",this.ResetSelectedHeuristicContext.bind(this));this.model.$on("$destroy",c)}return a.prototype.ResetSelectedHeuristicContext=function(){this.model.SelectedHeuristicContext=null},a.prototype.DisplayHeuristicContext=function(a){this.model.SelectedHeuristicContext===a?this.model.SelectedHeuristicContext=null:this.model.SelectedHeuristicContext=a},a.prototype.Fold=function(a){a.FoldState=!a.FoldState},a.$inject=["$scope","AIDataService"],a}();a.Application.Directive("militaryDataDirective",c)}(b=a.Directives||(a.Directives={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";function c(){return{restrict:"E",templateUrl:"core/views/directives/node-data.html",replace:!0,controller:d,controllerAs:"controller",scope:{NodeData:"=model"}}}var d=function(){function a(a,b){this.model=a,this.aiDataService=b;var c=this.model.$watch("NodeData",this.ResetSelectedHeuristicContext.bind(this));this.model.$on("$destroy",c)}return a.prototype.ResetSelectedHeuristicContext=function(){this.model.SelectedHeuristicContext=null},a.prototype.DisplayHeuristicContext=function(a){this.model.SelectedHeuristicContext===a?this.model.SelectedHeuristicContext=null:this.model.SelectedHeuristicContext=a},a.prototype.Fold=function(a){a.FoldState=!a.FoldState},a.$inject=["$scope","AIDataService"],a}();a.Application.Directive("nodeDataDirective",c)}(b=a.Directives||(a.Directives={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a,b){this.model=a,this.aiRequestService=b;var c=this.model.$watch("Url",this.ShowModal.bind(this));this.model.$on("$destroy",c)}return a.prototype.ShowModal=function(){var a=this;if(this.model.Url&&""!=this.model.Url){var b=a.myElement;b.modal("toggle"),a.model.ShowUrl="Loading ...",a.model.Json={},this.aiRequestService.Get(this.model.Url).then(function(b){a.model.ShowUrl=a.model.Url,a.model.Url="",a.model.Json=b.Data})["catch"](function(){a.model.ShowUrl="Error ...",a.model.Url=""})}},a.$inject=["$scope","AIRequestService"],a}(),d=function(){function a(){this.restrict="E",this.templateUrl="core/views/directives/rawdata-modal.html",this.replace=!0,this.controller=c,this.controllerAs="controller",this.scope={Url:"=url"}}return a.prototype.link=function(a,b,c,d){d.myElement=b},a.Factory=function(){var b=function(){return new a};return b},a}();a.Application.Directive("rawdata",d.Factory())}(b=a.Directives||(a.Directives={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";function c(){return{restrict:"E",templateUrl:"core/views/directives/situation-detail.html",replace:!0,controller:d,controllerAs:"controller",scope:{Situation:"=situation"}}}var d=function(){function a(a,b,c){this.model=a,this.aiDataService=b,this.model.Types=c.SituationTypeNames()}return a.prototype.DisplayEvaluationMotivationHeuristicContext=function(a){this.model.SelectedHeuristicContext===a?this.model.SelectedHeuristicContext=null:this.model.SelectedHeuristicContext=a},a.$inject=["$scope","AIDataService","enumService"],a}();a.Application.Directive("situationDirective",c)}(b=a.Directives||(a.Directives={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";function c(){return{restrict:"E",templateUrl:"core/views/directives/strategic-node.html",replace:!0,controller:d,controllerAs:"controller",scope:{StrategicFront:"=model"}}}var d=function(){function a(a,b){this.model=a,this.aiDataService=b;var c=this.model.$watch("StrategicNode",this.ResetSelectedHeuristicContext.bind(this));this.model.$on("$destroy",c)}return a.prototype.ShowBlackboardMessage=function(a){var b=this,c=this.model.StrategicFront;b.aiDataService.GetBlackboardMessage(c.MyEmpireIndex,a).then(function(a){b.model.SelectedMessage=a,b.model.EmpireIndex=c.MyEmpireIndex})},a.prototype.ResetSelectedHeuristicContext=function(){this.model.FrontSelectedHeuristicContext=null,this.model.ZoneSelectedHeuristicContext=null},a.prototype.GetZones=function(){return this.model.StrategicFront.AllAttackZones.concat(this.model.StrategicFront.AllDefenseZones)},a.prototype.DisplayHeuristicContext=function(a,b){b?this.model.FrontSelectedHeuristicContext===a?this.model.FrontSelectedHeuristicContext=null:this.model.FrontSelectedHeuristicContext=a:this.model.ZoneSelectedHeuristicContext===a?this.model.ZoneSelectedHeuristicContext=null:this.model.ZoneSelectedHeuristicContext=a},a.prototype.Fold=function(a){a.FoldState=!a.FoldState},a.prototype.ShowFleet=function(a){this.model.RawdataUrl="/game-entities/"+a},a.prototype.ShouldDisplayProperty=function(a){return"number"==typeof a?!0:!1},a.$inject=["$scope","AIDataService"],a}();a.Application.Directive("strategicNodeDirective",c)}(b=a.Directives||(a.Directives={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Nothing=0]="Nothing",a[a.OnlyAnalysis=1]="OnlyAnalysis",a[a.AnalysisAndStrat=2]="AnalysisAndStrat",a[a.Decision=3]="Decision",a[a.All=4]="All"}(a.AIDebugActiveStatus||(a.AIDebugActiveStatus={}));a.AIDebugActiveStatus}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Deactivated=0]="Deactivated",a[a.Minimal=1]="Minimal",a[a.Full=2]="Full"}(a.AIPlayerExecutionMode||(a.AIPlayerExecutionMode={}));a.AIPlayerExecutionMode}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b;!function(a){a[a.Ongoing=0]="Ongoing",a[a.WaitForSync=1]="WaitForSync",a[a.WaitForEndturn=2]="WaitForEndturn",a[a.Succeed=3]="Succeed",a[a.FatalError=4]="FatalError"}(b||(b={}));var c;!function(a){a[a.None=0]="None",a[a.AttackAllowed=1]="AttackAllowed",a[a.GuardAllowed=2]="GuardAllowed",a[a.InvadeAllowed=4]="InvadeAllowed",a[a.All=7]="All"}(c||(c={}))}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Additive=0]="Additive",a[a.Inibitive=1]="Inibitive",a[a.Forbidden=2]="Forbidden"}(a.EvaluationAggregation||(a.EvaluationAggregation={}));a.EvaluationAggregation;!function(a){a[a.None=0]="None",a[a.Allocated=1]="Allocated",a[a.Done=2]="Done",a[a.Waiting=3]="Waiting",a[a.Impossible=4]="Impossible"}(a.AllocationStatus||(a.AllocationStatus={}));a.AllocationStatus;!function(a){a[a.NoStatus=0]="NoStatus",a[a.WaitingForValidation=1]="WaitingForValidation",a[a.Validated=2]="Validated",a[a.Postponed=4]="Postponed",a[a.WaitingForOrderResponse=8]="WaitingForOrderResponse",a[a.Ongoing=16]="Ongoing",a[a.Succeed=32]="Succeed",a[a.Cancel=64]="Cancel",a[a.Failed=128]="Failed",a[a.Deny=256]="Deny"}(a.EvaluationStatus||(a.EvaluationStatus={}));a.EvaluationStatus;!function(a){a[a.None=0]="None",a[a.Build=1]="Build",a[a.CancelBuild=2]="CancelBuild",a[a.Buyout=3]="Buyout",a[a.AssignHero=4]="AssignHero",a[a.Research=5]="Research",a[a.AssignFleetBehavior=6]="AssignFleetBehavior",a[a.AssignMotherShipBehavior=7]="AssignMotherShipBehavior",a[a.CreateFleet=8]="CreateFleet",a[a.CreateTaskForce=9]="CreateTaskForce",a[a.CreateShipDesign=10]="CreateShipDesign",a[a.CreateSystemUpgrade=11]="CreateSystemUpgrade",a[a.Law=12]="Law",a[a.BuyoutColony=13]="BuyoutColony",a[a.BuyoutImprovement=14]="BuyoutImprovement",a[a.MinorEmpire=15]="MinorEmpire",a[a.EncounterSetup=16]="EncounterSetup",a[a.GroundBattleSetup=17]="GroundBattleSetup",a[a.QuestChoice=18]="QuestChoice",a[a.Outpost=19]="Outpost",a[a.AnswerDiplomaticContract=20]="AnswerDiplomaticContract",a[a.EvaluateDiplomaticContract=21]="EvaluateDiplomaticContract",a[a.ProposeContract=22]="ProposeContract",a[a.ForceTruce=23]="ForceTruce",a[a.MoodMessage=24]="MoodMessage",a[a.Attitude=25]="Attitude",a[a.StartWar=26]="StartWar",a[a.AssignFleetToFront=27]="AssignFleetToFront"}(a.ActionType||(a.ActionType={}));a.ActionType}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Ongoing=0]="Ongoing",a[a.WaitForSync=1]="WaitForSync",a[a.WaitForEndturn=2]="WaitForEndturn",a[a.Succeed=3]="Succeed",a[a.Cancelled=4]="Cancelled"}(a.MissionStatus||(a.MissionStatus={}));a.MissionStatus}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Warp=0]="Warp",a[a.Wormhole=1]="Wormhole"}(a.LinkType||(a.LinkType={}));a.LinkType}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Undefined=0]="Undefined",a[a.BeginTurn=1]="BeginTurn",a[a.Main=2]="Main",a[a.OthersWantToEndTheTurn=3]="OthersWantToEndTheTurn",a[a.FinishTurn=4]="FinishTurn",a[a.InterTurn=5]="InterTurn"}(a.GameState||(a.GameState={}));a.GameState}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Addition=0]="Addition",a[a.Normalization=1]="Normalization",a[a.Multiplier=2]="Multiplier",a[a.Boost=3]="Boost",a[a.None=4]="None"}(a.HeuristicOperation||(a.HeuristicOperation={}));a.HeuristicOperation}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.None=0]="None",a[a.DefaultState=1]="DefaultState"}(a.MachineStateProperties||(a.MachineStateProperties={}));a.MachineStateProperties}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){!function(a){a[a.Cumulative=0]="Cumulative",a[a.Replace=1]="Replace",a[a.Unique=2]="Unique"}(a.InsertionMode||(a.InsertionMode={}));a.InsertionMode}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";!function(a){a[a.Error=0]="Error",a[a.Assert=1]="Assert",a[a.Warning=2]="Warning",a[a.Log=3]="Log",a[a.Exception=4]="Exception"}(a.LogType||(a.LogType={}));a.LogType}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a}();a.StrategicNode=b}(b=a.Rest||(a.Rest={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Scope||(a.Scope={}))}(b=a.Model||(a.Model={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";!function(a){a[a.All=0]="All",a[a.Task=1]="Task",a[a.Goal=2]="Goal"}(b.BlackboardMessageFilter||(b.BlackboardMessageFilter={}));var c=b.BlackboardMessageFilter,d=function(){function b(a,b,c){this.$q=a,this.aiRequestService=b,this.enumService=c}return b.prototype.GetGameSummary=function(){var b=this,c=this.$q.defer();return this.aiRequestService.Get("/game-summary").then(function(d){var e=d.Data[0];b.ProcessGameSummary(e);for(var f=0;f<e.Empires.length;f++)e.Empires[f].ColorCss=a.Helpers.FloatRgbToHex(e.Empires[f].ColorRGB);c.resolve(e)}),c.promise},b.prototype.GetGenerators=function(a){void 0===a&&(a=!1);var b=this;return(a||!this.generatorsDeferred)&&(this.generatorsDeferred=this.$q.defer(),this.aiRequestService.Get("/generators").then(function(a){b.generatorsDeferred.resolve(a.Data)})),this.generatorsDeferred.promise},b.prototype.GetAllocators=function(){var a=this,b=this.$q.defer();return a.aiRequestService.Get("/game/allocators").then(function(a){b.resolve(a.Data)}),b.promise},b.prototype.GetFleetactionData=function(a){var b=this,c=this.$q.defer();return b.aiRequestService.Get("/debug/fleetactions/"+a).then(function(a){c.resolve(a.Data)}),c.promise},b.prototype.GetDebugProfilers=function(){var a=this,b=this.$q.defer();return a.aiRequestService.Get("/debug/profilers").then(function(a){b.resolve(a.Data)}),b.promise},b.prototype.GetDebugMemoryProfilers=function(){var a=this,b=this.$q.defer();return a.aiRequestService.Get("/debug/memory-profilers").then(function(a){b.resolve(a.Data)}),b.promise},b.prototype.GetBlackboardMessage=function(a,b){var c=this,d=this.$q.defer();return c.aiRequestService.Get("/game/empires/"+a+"/blackboard-messages/"+b).then(function(a){d.resolve(a.Data[0])}),d.promise},b.prototype.GetBlackboardMessages=function(a,b){var d=this;void 0===b&&(b=c.All);var e=this,f=this.$q.defer(),g=[];switch(b){case c.All:g[0]=e.aiRequestService.Get("/game/empires/"+a+"/blackboard-messages");break;case c.Goal:g[0]=e.aiRequestService.Get("/game/empires/"+a+"/blackboard-messages/goals");break;case c.Task:g[0]=e.aiRequestService.Get("/game/empires/"+a+"/blackboard-messages/tasks")}return g[1]=e.GetGenerators(),this.$q.all(g).then(function(a){var b=a[0].Data,c=a[1],g=[];angular.forEach(b,function(a){a.ContextGuid&&(g[a.ContextGuid]||(g[a.ContextGuid]=d.aiRequestService.Get("/game-entities/"+a.ContextGuid+"/summary")))});var h=[];angular.forEach(b,function(a){a.TargetNode&&(h[a.TargetNode.NodeIndex]||(h[a.TargetNode.NodeIndex]=d.aiRequestService.Get("/game/galaxy/nodes/"+a.TargetNode.NodeIndex)))}),d.$q.all([d.$q.all(g),d.$q.all(h)]).then(function(a){angular.forEach(b,function(d){e.ProcessBlackboardMessage(d,b,c,a[0],a[1])}),f.resolve(b)})}),f.promise},b.prototype.GetAnalysisData=function(b){var c=this,d=this.$q.defer(),e=[];return e[0]=c.aiRequestService.Get("/game/galaxy/nodes"),e[1]=c.aiRequestService.Get("/game/empires/"+b+"/analysis"),c.$q.all(e).then(function(b){var e=b[0].Data,f=new a.Data.AnalysisDataHolder(b[1].Data[0],c.enumService);
c.ProcessAnaylsisDataHolder(f,e),d.resolve(f)}),d.promise},b.prototype.GetGalaxyStrategicData=function(a){var b=this,c=this.$q.defer(),d=[];return d[0]=b.aiRequestService.Get("/game/galaxy"),d[1]=b.GetGameSummary(),d[2]=b.aiRequestService.Get("/game/empires/"+a+"/strategic/military"),b.$q.all(d).then(function(a){var d=a[0].Data[0],e=a[1],f=a[2].Data[0],g={MilitaryData:f,StrategicGameNodes:[],Galaxy:d,DiplomacyData:null};b.ProcessStrategicDataHolder(g,d,e.Empires),c.resolve(g)}),c.promise},b.prototype.GetExpansionData=function(a){var b=this,c=this.$q.defer(),d=[];return d[0]=b.aiRequestService.Get("/game/galaxy"),d[1]=b.GetGameSummary(),d[2]=b.aiRequestService.Get("/game/empires/"+a+"/strategic/expansion"),b.$q.all(d).then(function(a){var d=a[0].Data[0],e=a[1],f=a[2].Data,g={ExpansionBlobs:f,ExpansionNodes:[]};b.ProcessExpansionData(g,d.GameNodes,e.Empires),c.resolve(g)}),c.promise},b.prototype.GetDiplomacyStrategicData=function(a,b){var c=this,d=this.$q.defer(),e=[];return e[0]=c.GetGameSummary(),b?e[1]=c.aiRequestService.Get("/game/empires/"+a+"/strategic/diplomacy-summary"):e[1]=c.aiRequestService.Get("/game/empires/"+a+"/strategic/diplomacy"),c.$q.all(e).then(function(a){var b=a[0],e=a[1].Data[0];c.ProcessDiplomacyStrategicData(e,b),d.resolve(e)}),d.promise},b.prototype.GetDiplomacyMajorEmpireBehavior=function(a,b){var c=this,d=this.$q.defer();return c.aiRequestService.Get("/game/empires/"+a+"/strategic/diplomacy/relation/"+b+"/behavior").then(function(a){var b=a.Data[0];c.ProcessStateMachine(b),d.resolve(b)}),d.promise},b.prototype.GetSituationData=function(a){var b=this,c=this.$q.defer(),d=[];return d[0]=b.aiRequestService.Get("/game/empires/"+a+"/strategic/design"),d[1]=b.aiRequestService.Get("/game/empires/"+a+"/strategic/situation"),b.$q.all(d).then(function(a){var d=a[0].Data,e=a[1].Data,f={Designs:d,Situations:e,SituationTypes:b.enumService.SituationTypeNames()};c.resolve(f)}),c.promise},b.prototype.GetLogs=function(a,b){void 0===a&&(a=0),void 0===b&&(b=50);var c=this;return c.aiRequestService.Get("/debug/logs/"+a+"-"+b).then(function(a){return a.Data})},b.prototype.GetAllBehaviors=function(){var a=this;return a.aiRequestService.Get("/all-behaviors").then(function(a){return a.Data})},b.prototype.ProcessBlackboardMessage=function(a,b,c,d,e){a.GroupName=this.enumService.GroupTypeNames()[a.GroupType],angular.forEach(a.Evaluations,function(a){a.ParentGoal=_.find(b,function(b){return b.Guid.Value===a.ParentGoalGuid}),a.Generator=_.find(c,function(b){return b.GeneratorGuid===a.GeneratorGuid})}),a.ContextGuid&&(a.Context=d[a.ContextGuid].Data[0],a.Context&&(a.Context.Name=a.Context.TypeName.replace("Snapshot","").replace("Colonized",""),a.Context.LocalizedName&&(a.Context.Name+=" "+a.Context.LocalizedName))),a.TargetNode&&-1!=a.TargetNode.NodeIndex&&(a.TargetNodeModel=e[a.TargetNode.NodeIndex].Data[0])},b.prototype.ProcessAnaylsisDataHolder=function(a,b){angular.forEach(a.NodeData,function(a){a.Node=_.find(b,function(b){return b.NodePosition.NodeIndex===a.NodePosition.NodeIndex})})},b.prototype.ProcessGalaxyNode=function(b,c,d){var e=this;angular.forEach(b.Links,function(d){d.Node1=_.find(c,function(a){return a.GameEntityGuid===d.ExtremityNode1Guid}),d.Node2=_.find(c,function(a){return a.GameEntityGuid===d.ExtremityNode2Guid}),d.Node1.GameEntityGuid===b.GameEntityGuid?d.OtherNode=d.Node2:d.OtherNode=d.Node1,"WarpLinkSnapshot"==d.TypeName?d.Type=a.Model.Rest.LinkType.Warp:"WormholeSnapshot"==d.TypeName&&(d.Type=a.Model.Rest.LinkType.Wormhole)}),b.Colonies&&angular.forEach(b.Colonies,function(a){var c=e.enumService.ColonyStateNames()[a.State];("Colony"==c||"Outpost"==c)&&(b.OwnerEmpireIndex=a.EmpireIndex,b.OwnerRGB=d[b.OwnerEmpireIndex].ColorRGB)})},b.prototype.ProcessStrategicDataHolder=function(a,b,c){var d=this;a.MilitaryData.MilitaryState&&(a.MilitaryData.MilitaryStateName=a.MilitaryData.MilitaryState.Name),this.ProcessHeuristicValueProvider(a.MilitaryData),a.StrategicGameNodes=[],a.Galaxy=b,angular.forEach(a.Galaxy.GameNodes,function(b){d.ProcessGalaxyNode(b,a.Galaxy.GameNodes,c)}),angular.forEach(a.MilitaryData.SafeFront.AllDefenseZones,function(b){d.ProcessZone(a,b,c),b.Front=a.MilitaryData.SafeFront}),angular.forEach(a.MilitaryData.Fronts,function(b){d.ProcessHeuristicValueProvider(b),angular.forEach(b.AllAttackZones,function(e){e.Front=b,d.ProcessZone(a,e,c)}),angular.forEach(b.AllDefenseZones,function(e){e.Front=b,d.ProcessZone(a,e,c)})})},b.prototype.ProcessZone=function(b,c,d){var e=this,f=[];angular.forEach(c.GameNodes,function(d){var e=_.find(b.Galaxy.GameNodes,function(a){return a.NodePosition.NodeIndex==d.NodePosition.NodeIndex}),g=new a.Model.Rest.StrategicNode;g.Node=e,g.Zone=c,f[f.length]=g}),c.StrategicNodes=f,c.RoleName=e.enumService.ZoneRoleNames()[c.Role],c.PolicyName=e.enumService.ZonePolicyNames()[c.Policy],Array.prototype.push.apply(b.StrategicGameNodes,c.StrategicNodes),e.ProcessHeuristicValueProvider(c)},b.prototype.ProcessExpansionData=function(b,c,d){var e=this,f=new Array(c.length);angular.forEach(c,function(b){e.ProcessGalaxyNode(b,c,d);var g=new a.Model.Rest.ExpansionNode;g.Node=b,f[b.NodePosition.NodeIndex]=g});var g=0;angular.forEach(b.ExpansionBlobs,function(a){angular.forEach(a.ExpansionNodes,function(b){var c=f[b.NodePosition.NodeIndex];c.Blob=a,c.BlobIndex=g,c.Order=b.Order}),g++}),b.ExpansionNodes=f},b.prototype.ProcessHeuristicValueProvider=function(a){var b=this;a.HeuristicValues=[],angular.forEach(a,function(c,d){b.ProcessHeuristicValueProviderItem(a,d,c)})},b.prototype.ProcessHeuristicValueProviderItem=function(b,c,d){d&&d.HeuristicContext&&b.HeuristicValues.push(new a.Data.AnalysisValue(c,d.Value,d.HeuristicContext))},b.prototype.ProcessGameSummary=function(a){for(var b=0;b<a.Empires.length;b++){var c=a.Empires[b];c.LocalizedName=c.TypeName.replace("Snapshot","")+" "+c.EmpireIndex}},b.prototype.ProcessDiplomacyStrategicData=function(a,b){for(var c=0;c<b.Empires.length;c++){var d=a.RelationDataByEmpireIndex[b.Empires[c].EmpireIndex];d.EmpireSummary=b.Empires[c];for(var e=d.RelationLogs,f=0;f<e.LogEntries.length;f++){var g=e.LogEntries[f];g.NumberOfTurnSinceActivation=b.Turn-g.InsertionDate,g.RemovalDate>=0?g.NumberOfTurnRemaining=g.Parameters.NumberOfTurnsBeforeDeactivation-(b.Turn-g.RemovalDate):g.NumberOfTurnRemaining=g.Parameters.MaximumActiveNumberOfTurns+g.Parameters.NumberOfTurnsBeforeDeactivation-g.NumberOfTurnSinceActivation}d.DiplomaticBehavior&&this.ProcessStateMachine(d.DiplomaticBehavior)}},b.prototype.ProcessStateMachine=function(a){a.CurrentStateFullName=a.CurrentStateFullName.substring(5),a.RootState&&this.ProcessStateMachineState(a.RootState)},b.prototype.ProcessStateMachineState=function(a){a.FullName=a.FullName.substring(5);for(var b=0;b<a.Transitions.length;b++)a.Transitions[b].NextStateFullName=a.Transitions[b].NextStateFullName.substring(5);for(var b=0;b<a.Children.length;b++)this.ProcessStateMachineState(a.Children[b])},b.Id="AIDataService",b.$inject=["$q","AIRequestService","enumService"],b}();a.Application.Service(d.Id,d)}(b=a.Services||(a.Services={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a,b){this.$http=a,this.config=b}return b.prototype.Get=function(a){return this.$http({method:"GET",url:this.config.API_URL+a}).then(this.OnRequestSucceed)},b.prototype.Post=function(a,b){return this.$http({method:"POST",url:this.config.API_URL+a,headers:{"Content-Type":void 0},data:b}).then(this.OnRequestSucceed)},b.prototype.OnRequestSucceed=function(b){return new a.Data.AIResponse(b.data)},b.Id="AIRequestService",b.$inject=["$http","config"],b}();a.Application.Service(c.Id,c)}(b=a.Services||(a.Services={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(a){var b=this;this.enumNamesByType={},a.Get("/enums/Amplitude.AI.Core.Decision.ActionType,Amplitude.AI.Core").then(function(a){b.enumNamesByType.ActionType=a.Data}),a.Get("/enums/Amplitude.AI.Core.Decision.GroupType,Amplitude.AI.Core").then(function(a){b.enumNamesByType.GroupType=a.Data}),a.Get("/enums/Amplitude.AI.Common.GameState,Amplitude.AI.Common").then(function(a){b.enumNamesByType.GameState=a.Data}),a.Get("/enums/Amplitude.AI.Core.Decision.BlackboardMessage_Evaluable+EvaluationStatus,Amplitude.AI.Core").then(function(a){b.enumNamesByType.EvaluationStatus=a.Data}),a.Get("/enums/Amplitude.AI.Common.AIPlayerExecutionMode,Amplitude.AI.Common").then(function(a){b.enumNamesByType.ExecutionMode=a.Data}),a.Get("/enums/Amplitude.AI.Core.Collections.LogBook.InsertionMode,Amplitude.AI.Core").then(function(a){b.enumNamesByType.InsertionMode=a.Data}),a.Get("/enums/Amplitude.AI.Core.Decision.Instances.ResourceInstanceType,Amplitude.AI.Core").then(function(a){b.enumNamesByType.InstanceType=a.Data}),a.Get("/enums/Amplitude.AI.Core.Brain.FleetMissions.MissionStatus,Amplitude.AI.Core").then(function(a){b.enumNamesByType.MissionStatus=a.Data}),a.Get("/enums/Amplitude.AI.Core.Brain.Behaviors.Fleet.BehaviorData+FleetBehaviorStatus,Amplitude.AI.Core").then(function(a){b.enumNamesByType.FleetBehaviorStatus=a.Data}),a.Get("/enums/Amplitude.AI.Core.Snapshots.EntitySnapshots.Colony.ColonizedStarSystemSnapshot+StarSystemState,Amplitude.AI.Core").then(function(a){b.enumNamesByType.ColonyState=a.Data}),a.Get("/enums/Amplitude.AI.Core.Brain.Strategic.Data.Zone+Roles,Amplitude.AI.Core").then(function(a){b.enumNamesByType.ZoneRole=a.Data}),a.Get("/enums/Amplitude.AI.Core.Brain.Strategic.Data.Zone+Policies,Amplitude.AI.Core").then(function(a){b.enumNamesByType.ZonePolicy=a.Data}),a.Get("/enums/Amplitude.AI.Core.Snapshots.BattleSituationSnapshot+SituationType,Amplitude.AI.Core").then(function(a){b.enumNamesByType.SituationType=a.Data}),a.Get("/enums/Amplitude.AI.Core.Services.Managers.DebugManager+AIActiveStatus,Amplitude.AI.Core").then(function(a){b.enumNamesByType.DebugActiveStatus=a.Data}),a.Get("/enums/Amplitude.AI.Core.Snapshots.ShipPattern+ShipRole,Amplitude.AI.Core").then(function(a){b.enumNamesByType.ShipRoleNames=a.Data}),a.Get("/enums/Amplitude.AI.Core.Brain.Strategic.Jobs.Diplomacy.RelationLogs.RelationLogs+EntryCategories,Amplitude.AI.Core").then(function(a){b.enumNamesByType.RelationLogsCategoryNames=a.Data})}return a.prototype.ActionTypeNames=function(){return this.enumNamesByType.ActionType},a.prototype.GroupTypeNames=function(){return this.enumNamesByType.GroupType},a.prototype.GameStateNames=function(){return this.enumNamesByType.GameState},a.prototype.EvaluationStatusNames=function(){return this.enumNamesByType.EvaluationStatus},a.prototype.ExecutionModeNames=function(){return this.enumNamesByType.ExecutionMode},a.prototype.InsertionModeNames=function(){return this.enumNamesByType.InsertionMode},a.prototype.InstanceTypeNames=function(){return this.enumNamesByType.InstanceType},a.prototype.MissionStatusNames=function(){return this.enumNamesByType.MissionStatus},a.prototype.FleetBehaviorStatusNames=function(){return this.enumNamesByType.FleetBehaviorStatus},a.prototype.EvaluationStatusByValue=function(a){var b=Math.log(a)/Math.log(2);return a>0&&b++,this.enumNamesByType.EvaluationStatus[b]},a.prototype.ColonyStateNames=function(){return this.enumNamesByType.ColonyState},a.prototype.ZoneRoleNames=function(){return this.enumNamesByType.ZoneRole},a.prototype.ZonePolicyNames=function(){return this.enumNamesByType.ZonePolicy},a.prototype.SituationTypeNames=function(){return this.enumNamesByType.SituationType},a.prototype.DebugActiveStatus=function(){return this.enumNamesByType.DebugActiveStatus},a.prototype.ShipRoleNames=function(){return this.enumNamesByType.ShipRoleNames},a.prototype.RelationLogsCategoryNames=function(){return this.enumNamesByType.RelationLogsCategoryNames},a.Id="enumService",a.$inject=["AIRequestService"],a}();a.Application.Service(c.Id,c)}(b=a.Services||(a.Services={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";function c(){return new d}var d=function(){function a(){this.title="E.N.F.E.R"}return a.prototype.Title=function(){return this.title},a.prototype.SetTitle=function(a){this.title=a},a.Id="page",a}();a.Application.Factory(d.Id,c)}(b=a.Services||(a.Services={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(){this.name="main.behaviors",this.url="/behaviors",this.templateUrl="core/views/debug.behaviors.html",this.controller=a.Controllers.AllBehaviorsController,this.controllerAs="controller"}return b}();b.BehaviorsState=c}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.actuators.fleetaction",this.url="/fleetaction",this.templateUrl="core/views/actuator.fleetaction.html",this.controller=a.Controllers.FleetactionController,this.controllerAs="controller"}return b}();b.FleetActionState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.actuators.behavior",this.url="/fleet-missions/{taskGuid:int}/{fleetGuid:int}",this.templateUrl="core/views/actuators.behavior.html",this.controller=a.Controllers.BehaviorController,this.controllerAs="controller"}return b}();b.BehaviorState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.actuators.fleet-missions",this.url="/fleet-missions",this.templateUrl="core/views/actuators.fleet-missions.html",this.controller=a.Controllers.FleetMissionsController,this.controllerAs="controller"}return b}();b.FleetMissionsState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.name="main.empires.actuators",this.url="/actuators",this["abstract"]=!0,this.views={"":{template:"<div ui-view></div>"}}}return a}();a.ActuatorsState=b}(b=a.Empire||(a.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.analysis.diplomacy.balance-contract",this.url="/balance-contract/{goalGuid:int}",this.templateUrl="core/views/analysis.diplomacy.balance-contract.html",this.controller=a.Controllers.DiplomacyBalanceContractController,this.controllerAs="controller"}return b}();b.DiplomacyBalanceContratState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.analysis.diplomacy.behavior",this.url="/{otherEmpireIndex:int}/behavior",this.templateUrl="core/views/analysis.diplomacy.behavior.html",this.controller=a.Controllers.DiplomacyBehaviorController,this.controllerAs="controller"}return b}();b.DiplomacyBehaviorState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.name="main.empires.analysis.diplomacy",this.url="/diplomacy",this["abstract"]=!0,this.views={"":{template:"<div ui-view></div>"}}}return a}();a.DiplomacyState=b}(b=a.Empire||(a.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.analysis.diplomacy.overview",this.url="/overview",this.templateUrl="core/views/analysis.diplomacy.overview.html",this.controller=a.Controllers.DiplomacyOverviewController,this.controllerAs="controller"}return b}();b.DiplomacyOverviewState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.analysis.entities",this.url="/analysis",this.templateUrl="core/views/analysis.entities.html",this.controller=a.Controllers.AnalysisController,this.controllerAs="controller"}return b}();b.AnalysisEntitiesState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.analysis.expansion",this.url="/expansion",this.templateUrl="core/views/analysis.expansion.html",this.controller=a.Controllers.ExpansionController,this.controllerAs="controller"}return b}();b.ExpansionState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.analysis.galaxy",this.url="/galaxy",this.templateUrl="core/views/analysis.galaxy.html",this.controller=a.Controllers.GalaxyController,this.controllerAs="controller"}return b}();b.GalaxyState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.name="main.empires.analysis",this.url="/analysis",this["abstract"]=!0,this.views={"":{template:"<div ui-view></div>"}}}return a}();a.AnalysisState=b}(b=a.Empire||(a.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.analysis.situation",this.url="/situation",this.templateUrl="core/views/analysis.situation.html",this.controller=a.Controllers.AnalysisSituationController,this.controllerAs="controller"}return b}();b.AnalysisSituationState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.decision.allocators",this.url="/allocators",this.templateUrl="core/views/decision.allocator.html",this.controller=a.Controllers.AllocatorController,this.controllerAs="controller"}return b}();b.AllocatorState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.decision.blackboard",this.url="/blackboard",this.templateUrl="core/views/decision.blackboard.html",this.controller=a.Controllers.BlackboardController,this.controllerAs="controller"}return b}();b.BlackboardState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.decision.generators",this.url="/generators",this.templateUrl="core/views/decision.generator.html",this.controller=a.Controllers.GeneratorController,this.controllerAs="controller"}return b}();b.GeneratorState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.decision.graph",this.url="/graph",this.templateUrl="core/views/decision.graph.html",this.controller=a.Controllers.DecisionController,this.controllerAs="controller"}return b}();b.DecisionGraphState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.name="main.empires.decision",this.url="/decision",this["abstract"]=!0,this.views={"":{template:"<div ui-view></div>"}}}return a}();a.DecisionState=b}(b=a.Empire||(a.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires",this.url="/empires/{empireIndex:int}",this["abstract"]=!0,this.views={"":{template:"<div ui-view></div>",controller:a.Controllers.EmpireController,controllerAs:"controller"}}}return b}();b.EmpiresState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.snapshots.entities",this.url="/entities",this.templateUrl="core/views/snapshots.empire.html",this.controller=a.Controllers.EmpireSnapshotController,this.controllerAs="controller"}return b}();b.SnapshotEntitiesState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.snapshots.fleets",this.url="/fleets",this.templateUrl="core/views/snapshots.fleets.html",this.controller=a.Controllers.FleetsSnapshotController,this.controllerAs="controller"}return b}();b.SnapshotFleetsState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.snapshots.gains",this.url="/gains",this.templateUrl="core/views/snapshots.gains.html",this.controller=a.Controllers.SnapshotsGainsController,this.controllerAs="controller"}return b}();b.GainsState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.name="main.empires.snapshots",this.url="/shapshots",this["abstract"]=!0,this.views={"":{template:"<div ui-view></div>"}}}return a}();a.SnapshotsState=b}(b=a.Empire||(a.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){this.name="main.empires.snapshots.raw",this.url="/raw",this.templateUrl="core/views/snapshots.raw.html",this.controller=a.Controllers.RawDataController,this.controllerAs="controller"}return b}();b.RawDataState=c}(c=b.Empire||(b.Empire={}))}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(){this.name="main.help",this.url="/help",this.templateUrl="core/views/help.html",this.controller=a.Controllers.HelpController,this.controllerAs="controller"}return b}();b.HelpState=c}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(){this.name="main.home",this.url="/",this.templateUrl="core/views/home.html",this.controller=a.Controllers.HomeController,this.controllerAs="controller"}return b}();b.HomeState=c}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(){this.name="main.logs",this.url="/logs",this.templateUrl="core/views/logs.html",this.controller=a.Controllers.LogsController,this.controllerAs="controller"}return b}();b.LogsState=c}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(){this.name="main",this.url="",this["abstract"]=!0,this.views={"":{template:"<div ui-view></div>"},header:{templateUrl:"core/views/header.html",controller:a.Controllers.HeaderController,controllerAs:"controller"}}}return b}();b.MainState=c}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));var Amplitude;!function(a){var b;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(){this.name="main.performance",this.url="/performance",this.templateUrl="core/views/performance.html",this.controller=a.Controllers.PerformanceController,this.controllerAs="controller"}return b}();b.PerformanceState=c}(b=a.States||(a.States={}))}(b=a.Front||(a.Front={}))}(b=a.AI||(a.AI={}))}(Amplitude||(Amplitude={}));