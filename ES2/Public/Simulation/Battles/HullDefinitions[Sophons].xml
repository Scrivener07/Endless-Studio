<?xml version="1.0" encoding="utf-8" ?>
<Datatable xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:noNamespaceSchemaLocation="../../Schemas/HullDefinition.xsd">

    <!-- ******************** -->
    <!-- **   CasperTest   ** -->
    <!-- ******************** -->

    <!--  SLOT EXAMPLES - Undefined, Weapon, Defense
    <Slot Name="Slot01" RestrictedModuleCategory="Undefined">
        <Direction X="0" Z="1"/>
    </Slot>
    <WeaponSlot RestrictedWeaponType="Kinetic" RestrictedModuleCategory="Undefined">
        <Direction X="0" Z="1"/>
        <VisualSlotName>MDL_Wp_Small_Up_00</VisualSlotName>
    </WeaponSlot> 


        <Link>
            <SlotName>SectionW.Slot01</SlotName>
            <SlotName>SectionE.Slot01</SlotName>
        </Link>
            
            <TechnologyPrerequisite Flags="Prerequisite,Discard,Technology">TechnologyShip1</TechnologyPrerequisite>
            
            Note that visual slot name only currently uses 'weapon modules', so a support module will simply not show up. Also adding weapons without 'visual slots' will still impact battle it is simply not visible.
            
            
            Use technology pre-requisite to hide ships (See Mothership/Hero ships)
            ** FLAGS **
            Edition = Ship Designer
            Discard = Constructible list or Hide slot in GUI
            Disable = Grey out slot in GUI
    -->

    <!-- ******************** -->
    <!-- **     SOPHONS    ** -->
    <!-- ******************** -->

    <!-- **   Sophons Small Attack Hull   ** -->
    <HullDefinition Name="HullSmall01Sophons" ScoreProvider="WarShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign">
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 1 ) * 37.5)) + 75 </CustomCost>

        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <TechnologyPrerequisite Flags="Prerequisite,Edition,Technology,Discard">TechnologyHull2Sophons</TechnologyPrerequisite>

        <SimulationDescriptorReference Name="ClassHullSmallAttack"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityKinetic"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityBeam"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityLaser"/>
        <SimulationDescriptorReference Name="ShipSizeSmall"/>
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull01"/>

        <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleSmallAttacker"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreSmallOffense"/>
                    <Slot Name="Defense01">
                        <Cost ResourceName="Strategic1" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull1</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UICore07</UISlotName>
                    </Slot>
                    <!--  <WeaponSlot Name="Weapon01" ShowPositionMarker="true"> -->
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="0" Z="1"/>
                            <Angle>270</Angle>
                            <VisualSlotName>MDL_Wp_Small_Up_00</VisualSlotName>
                        </LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="TopWeapon"/>
                        </ModuleModifier>
                        <UISlotName>UICoreWeapon08</UISlotName>
                    </Slot>
                    <Slot Name="Support01">
                        <Cost ResourceName="Strategic1" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull1</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UICore09</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UIFront01</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <UISlotName>UIFrontRight02</UISlotName>
                    </Slot>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="315">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_00</VisualSlotName>
                        </LineOfSight>
                        <LineOfSight>
                            <Direction X="-1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_00</VisualSlotName>
                        </LineOfSight>
                        <UISlotName>UIRightWeapon03</UISlotName>
                    </Slot>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <UISlotName>UIRight04</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="45">
                        <Cost ResourceName="Strategic1" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull1</TechnologyPrerequisite>
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_01</VisualSlotName>
                        </LineOfSight>
                        <LineOfSight>
                            <Direction X="-1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_01</VisualSlotName>
                        </LineOfSight>
                        <UISlotName>UIBackRightWeapon05</UISlotName>
                    </Slot>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="-1"/>
                        <UISlotName>UIBack06</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>

        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>
    
        <!-- **   Sophons Small Support Hull   ** -->
    <HullDefinition Name="HullSmall02Sophons" ScoreProvider="WarShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign">
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 1 ) * 37.5)) + 75 </CustomCost>

        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <TechnologyPrerequisite Flags="Prerequisite,Edition,Technology,Discard">TechnologyHull3Sophons</TechnologyPrerequisite>

        <SimulationDescriptorReference Name="ClassHullSmallSupport"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityKinetic"/>
        <SimulationDescriptorReference Name="ShipSizeSmall"/>       
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull02"/>

      <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleSmallSupport"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreSmallSupport"/>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UICore09</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UIFront01</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                    <Slot Name="Defense01">
                        <Cost ResourceName="Strategic2" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull2</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <UISlotName>UIFrontRight02</UISlotName>
                    </Slot>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                    <Slot Name="Support01">
                        <Cost ResourceName="Strategic2" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull2</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <UISlotName>UIRight03</UISlotName>
                    </Slot>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <UISlotName>UIRight04</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_00</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_00</VisualSlotName>
						</LineOfSight>
						<UISlotName>UIBackRightWeapon05</UISlotName>
                    </Slot>
                    <Slot Name="Weapon02" ShowPositionMarker="true" PositionMarkerAngle="45">
                        <Cost ResourceName="Strategic2" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull2</TechnologyPrerequisite>
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_01</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_01</VisualSlotName>
						</LineOfSight>
                        <UISlotName>UIBackRightWeapon06</UISlotName>
                    </Slot>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="-1"/>
                        <UISlotName>UIBack07</UISlotName>
                    </Slot>
                    <Slot Name="Defense01">
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull2</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="-1"/>
                        <UISlotName>UIBack08</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>


        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>

    <!-- **   Sophons Small Civilian Hull   ** -->
    <HullDefinition Name="HullSmall03Sophons" ScoreProvider="CivilianShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign">
        <CostReductionReference Name="ColonyShipConstructible"/>
       <!-- Additional cost here -->
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 1 ) * 25)) + 50 </CustomCost>
        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire,!AffinityGameplayVampirilis,!AffinityGameplayVenetians,!AffinityGameplayUnfallen/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire,!AffinityGameplayVampirilis,!AffinityGameplayVenetians,!AffinityGameplayUnfallen/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>

        <SimulationDescriptorReference Name="ClassHullSmallCivilian"/>
        <SimulationDescriptorReference Name="ShipSizeSmall"/>
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull03"/>
        <SimulationDescriptorReference Name="CannotHaveWeapon"/>

      <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleColonizer"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreSmallCivilian"/>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UICore03</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UIFront01</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="-1"/>
                        <UISlotName>UIBack02</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>
        <ShipDesignLayout>
            <TechnologyPrerequisite  Flags="Prerequisite,Discard,Edition,Technology">TechnologyOlderConcept</TechnologyPrerequisite>
            <ShipRoleReference Name="ShipRoleExploration"/>

            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreSmallCivilian"/>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UICore03</UISlotName>
                    </Slot>
                    <Slot Name="Weapon01">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="0" Z="1"/>
							<Angle>270</Angle>
							<VisualSlotName>MDL_Wp_Small_Up_00</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="TopWeapon"/>
						</ModuleModifier>
						<UISlotName>UICoreWeapon04</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="Support01" >
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UIFront01</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="-1"/>
                        <UISlotName>UIBack02</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>

        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>
        
    <!-- **   Sophons Small Explorer   ** -->
    <HullDefinition Name="HullSmall04Sophons" ScoreProvider="CivilianShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign">
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 1 ) * 25)) + 50 </CustomCost>

        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>

        <SimulationDescriptorReference Name="ClassHullSmallCivilian"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityKinetic"/>
        <SimulationDescriptorReference Name="ShipSizeSmall"/>
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull01"/>

      <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleExploration"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreSmallCivilian"/>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="0" Z="1"/>
							<Angle>270</Angle>
							<VisualSlotName>MDL_Wp_Small_Up_00</VisualSlotName>
						</LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="TopWeapon"/>
                        </ModuleModifier>
                        <UISlotName>UICoreWeapon08</UISlotName>
                    </Slot>
                </CoreSection>
                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                </Section>
                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <UISlotName>UIFrontRight02</UISlotName>
                    </Slot>
                </Section>
                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="315">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_00</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_00</VisualSlotName>
						</LineOfSight>
						<UISlotName>UIRightWeapon03</UISlotName>
                    </Slot>
                </Section>
                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                </Section>
                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="-1"/>
                        <UISlotName>UIBack06</UISlotName>
                    </Slot>
                </Section>
                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>
                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>
                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>
      
        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>

    <!-- **   Sophons Leecher Hull  ** -->
    <HullDefinition Name="HullSmall05Sophons" ScoreProvider="CivilianShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign">
        <CostReductionReference Name="ColonyShipConstructible"/>
        <!-- Additional cost here -->
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 1 ) * 25)) + 50</CustomCost>
        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire,AffinityGameplayVampirilis/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire,AffinityGameplayVampirilis/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
		
        <SimulationDescriptorReference Name="ClassHullSmallCivilian"/>
        <SimulationDescriptorReference Name="ShipSizeSmall"/>
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull03"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityKinetic"/>

        <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleLeecher"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreSmallCivilian"/>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UICore03</UISlotName>
                    </Slot>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="0" Z="1"/>
                            <Angle>270</Angle>
                            <VisualSlotName>MDL_Wp_Small_Up_00</VisualSlotName>
                        </LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="TopWeapon"/>
                        </ModuleModifier>
                        <UISlotName>UICoreWeapon04</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <UISlotName>UIFront01</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="-1"/>
                        <UISlotName>UIBack02</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>
        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>

    <!-- **   Sophons Root Creator Hull  ** -->
    <HullDefinition Name="HullSmall06Sophons" ScoreProvider="CivilianShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign">
        <CostReductionReference Name="ColonyShipConstructible"/>
        <!-- Additional cost here -->
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 1 ) * 200)) + 400</CustomCost>
        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire,AffinityGameplayUnfallen/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire,AffinityGameplayUnfallen/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
		
        <SimulationDescriptorReference Name="ClassHullSmallCivilian"/>
        <SimulationDescriptorReference Name="ShipSizeSmall"/>
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull03"/>
        <SimulationDescriptorReference Name="CannotHaveWeapon"/>

        <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleRootCreator"/>
			<SectionPattern_Eight>
				<!-- Core Section -->
				<CoreSection Name="CoreSection">
					<VisualSectionName>Core</VisualSectionName>
					<SimulationDescriptorReference Name="ClassSectionCore"/>
					<SimulationDescriptorReference Name="ClassSectionCoreSmallCivilian"/>
					<Slot Name="Support01">
						<RestrictedModuleCategory>Support</RestrictedModuleCategory>
						<Direction X="0" Z="1"/>
						<UISlotName>UICore03</UISlotName>
					</Slot>
				</CoreSection>

				<!-- Forward Section -->
				<Section Name="SectionN">
					<VisualSectionName>Front</VisualSectionName>
					<Slot Name="Defense01">
						<RestrictedModuleCategory>Defense</RestrictedModuleCategory>
						<Direction X="0" Z="1"/>
						<UISlotName>UIFront01</UISlotName>
					</Slot>
				</Section>

				<!-- Forward/Right Section -->
				<Section Name="SectionNE">
					<VisualSectionName>FrontRight</VisualSectionName>
					<Slot Name="Defense01">
						<RestrictedModuleCategory>Defense</RestrictedModuleCategory>
						<Direction X="1" Z="0"/>
						<UISlotName>UICoreWeapon04</UISlotName>
					</Slot>
				</Section>

				<!-- Right Section -->
				<Section Name="SectionE">
					<VisualSectionName>Right</VisualSectionName>
				</Section>

				<!-- Back/Right Section -->
				<Section Name="SectionSE">
					<VisualSectionName>BackRight</VisualSectionName>
				</Section>

				<!-- Back Section -->
				<Section Name="SectionS">
					<VisualSectionName>Back</VisualSectionName>
					<Slot Name="Support01">
						<RestrictedModuleCategory>Support</RestrictedModuleCategory>
						<Direction X="0" Z="1"/>
						<UISlotName>UIBack02</UISlotName>
					</Slot>
				</Section>

				<!-- Back/Left Section -->
				<Section Name="SectionSW">
					<VisualSectionName>BackLeft</VisualSectionName>
				</Section>

				<!-- Left Section -->
				<Section Name="SectionW">
					<VisualSectionName>Left</VisualSectionName>
				</Section>

				<!-- Forward/Left Section -->
				<Section Name="SectionNW">
					<VisualSectionName>FrontLeft</VisualSectionName>
				</Section>
			</SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>
        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>

    
    <!-- **   Sophons Medium Attacker Hull   ** -->
    <HullDefinition Name="HullMedium01Sophons" ScoreProvider="WarShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign" ModuleCostMultiplier="2">
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 2 ) * 150)) + 300 </CustomCost>
        <Cost Instant="true" ResourceName="Strategic1">5</Cost>
        <!-- Additional costs here -->

        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <TechnologyPrerequisite Flags="Prerequisite,Edition,Technology,Discard">TechnologyHull4Sophons</TechnologyPrerequisite>

        <SimulationDescriptorReference Name="ClassHullMediumAttack"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityMissile"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityLaser"/>       
        <SimulationDescriptorReference Name="ShipSizeMedium"/>
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull01"/>

      <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleMediumAttacker"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreMediumOffense"/>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="180">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="0" Z="1"/>
							<Angle>270</Angle>
							<VisualSlotName>MDL_Wp_Small_Up_00</VisualSlotName>
							<VisualSlotName>MDL_Wp_Small_Up_01</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="TopWeapon"/>
							<SimulationDescriptorReference Name="MultiplierX2"/>
						</ModuleModifier>
						<UISlotName>UICoreWeapon09</UISlotName>
                    </Slot>
                    <Slot Name="Support01">
                        <Cost ResourceName="Strategic3" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull3</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UICore10</UISlotName>
                    </Slot>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UICore11</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIFront01</UISlotName>
                    </Slot>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIFront02</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIFrontRight03</UISlotName>
                    </Slot>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
                        <Cost ResourceName="Strategic3" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull3</TechnologyPrerequisite>
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_00</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_01</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_00</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_01</VisualSlotName>
						</LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIFrontRightWeapon04</UISlotName>
                    </Slot>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_02</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_03</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_02</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_03</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="MultiplierX2"/>
						</ModuleModifier>
						<UISlotName>UIRightWeapon05</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_04</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_05</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_04</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_05</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="MultiplierX2"/>
						</ModuleModifier>
						<UISlotName>UIBackRightWeapon06</UISlotName>
                    </Slot>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <WeaponSlot Name="LargeWeapon01" IsLargeSlot="true" ShowPositionMarker="true" PositionMarkerAngle="135" ModuleCostMultiplier="2">
                        <Cost ResourceName="Strategic3" Instant="true">2</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull3</TechnologyPrerequisite>
						<LineOfSight>
							<Direction X="0" Z="1"/>
							<Angle>270</Angle>
							<VisualSlotName>MDL_Wp_Medium_Up_00</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="TopWeapon"/>
							<SimulationDescriptorReference Name="LargeWeapon"/>
							<SimulationDescriptorReference Name="MultiplierX2"/>
						</ModuleModifier>
						<UISlotName>UIBackWeapon07</UISlotName>
                    </WeaponSlot>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIBack08</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>


        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>

    <!-- **   Sophons Medium Defender Hull   ** -->
    <HullDefinition Name="HullMedium02Sophons" ScoreProvider="WarShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign" ModuleCostMultiplier="2">
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 2) * 150)) + 300 </CustomCost>
        <Cost Instant="true" ResourceName="Strategic2">5</Cost>
        <!-- Additional cost here -->

        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <TechnologyPrerequisite Flags="Prerequisite,Edition,Technology,Discard">TechnologyHull5Sophons</TechnologyPrerequisite>

        <SimulationDescriptorReference Name="ClassHullMediumDefense"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityLaser"/>
        <SimulationDescriptorReference Name="ShipSizeMedium"/>        
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull02"/>

      <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleMediumSupport"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreMediumSupport"/>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UICore09</UISlotName>
                    </Slot>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UICore10</UISlotName>
                    </Slot>
                    <Slot Name="Support02">
                        <Cost ResourceName="Strategic4" Instant="true">1</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">../ClassEmpire/ClassResearch,TechnologyImproveHull4</PathPrerequisite>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UICore11</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIFront01</UISlotName>
                    </Slot>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIFront02</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIFrontRight03</UISlotName>
                    </Slot>
                    <Slot Name="Defense02">
                        <Cost ResourceName="Strategic4" Instant="true">1</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">../ClassEmpire/ClassResearch,TechnologyImproveHull4</PathPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIFrontRight04</UISlotName>
                    </Slot>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIRight05</UISlotName>
                    </Slot>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_00</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_01</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_00</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_01</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="MultiplierX2"/>
						</ModuleModifier>
						<UISlotName>UIRightWeapon06</UISlotName>
                    </Slot>

                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                    <Slot Name="Weapon01">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_02</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_03</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_02</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_03</VisualSlotName>
						</LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX2"/>
                        </ModuleModifier>
                        <UISlotName>UIBackRightWeapon07</UISlotName>
                    </Slot>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <WeaponSlot Name="LargeWeapon01" IsLargeSlot="true" ShowPositionMarker="true" PositionMarkerAngle="135" ModuleCostMultiplier="2">
                        <Cost ResourceName="Strategic4" Instant="true">2</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">../ClassEmpire/ClassResearch,TechnologyImproveHull4</PathPrerequisite>
						<LineOfSight>
							<Direction X="0" Z="1"/>
							<Angle>270</Angle>
							<VisualSlotName>MDL_Wp_Medium_Up_00</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="TopWeapon"/>
							<SimulationDescriptorReference Name="LargeWeapon"/>
							<SimulationDescriptorReference Name="MultiplierX2"/>
						</ModuleModifier>
						<UISlotName>UIBackWeapon08</UISlotName>
                    </WeaponSlot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>

        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>
    
   
    
    <!-- **   Sophons Large Carrier Hull   ** -->
    <HullDefinition Name="HullLarge01Sophons" ScoreProvider="WarShipConstructed" Category="CategoryHull" SubCategory="SubCategoryShipDesign" ModuleCostMultiplier="4">
        <CustomCost ResourceName="SystemProduction">Max(0,((Property(StockLocation, @../ClassEmpire/ClassResearch, TechnologyQuadrantMilitaryActualStageNumber, true) - 3 ) * 625)) + 1250 </CustomCost>
        <Cost Instant="true" ResourceName="Strategic3">5</Cost>
        <Cost Instant="true" ResourceName="Strategic4">5</Cost>
        <!-- Additional cost here -->

        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">ClassEmpire/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <TechnologyPrerequisite Flags="Prerequisite,Edition,Technology,Discard">TechnologyHull6Sophons</TechnologyPrerequisite>

        <SimulationDescriptorReference Name="ClassHullLargeCarrier"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityKinetic"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityBeam"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityLaser"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityMissile"/>       
        <SimulationDescriptorReference Name="ShipSizeLarge"/>
        <SimulationDescriptorReference Name="ShipFactionSophons"/>
        <SimulationDescriptorReference Name="ShipHull01"/>

      <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleCarrier"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreLargeCarrier"/>
                    <Slot Name="LargeWeapon01" IsLargeSlot="true" ShowPositionMarker="true" PositionMarkerAngle="135" ModuleCostMultiplier="2">
                        <RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Destruction</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="0" Z="1"/>
							<Angle>270</Angle>
							<VisualSlotName>MDL_Wp_Medium_Up_00</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="TopWeapon"/>
							<SimulationDescriptorReference Name="LargeWeapon"/>
							<SimulationDescriptorReference Name="MultiplierX4"/>
						</ModuleModifier>
						<UISlotName>UICoreWeapon12</UISlotName>
                    </Slot>
                    <Slot Name="Defense02">
                        <Cost ResourceName="Strategic6" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull5</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore13</UISlotName>
                    </Slot>
                    <Slot Name="Support02">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore14</UISlotName>
                    </Slot>
                    <Slot Name="Support03">
                        <Cost ResourceName="Strategic6" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull5</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore15</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIFront01</UISlotName>
                    </Slot>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="180">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="0" Z="1"/>
							<Angle>270</Angle>
							<VisualSlotName>MDL_Wp_Small_Up_00</VisualSlotName>
							<VisualSlotName>MDL_Wp_Small_Up_01</VisualSlotName>
							<VisualSlotName>MDL_Wp_Small_Up_02</VisualSlotName>
							<VisualSlotName>MDL_Wp_Small_Up_03</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="TopWeapon"/>
							<SimulationDescriptorReference Name="MultiplierX4"/>
						</ModuleModifier>
						<UISlotName>UIFrontWeapon02</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_00</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_01</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_02</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_03</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_00</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_01</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_02</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_03</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="MultiplierX4"/>
						</ModuleModifier>
						<UISlotName>UIFrontRightWeapon03</UISlotName>
                    </Slot>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIFrontRight04</UISlotName>
                    </Slot>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="330">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_04</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_05</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_06</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_07</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_04</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_05</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_06</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_07</VisualSlotName>
						</LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIRightWeapon05</UISlotName>
                    </Slot>
                    <Slot Name="Weapon02" ShowPositionMarker="true" PositionMarkerAngle="330">
                        <Cost ResourceName="Strategic5" Instant="true">1</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull5</TechnologyPrerequisite>
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_08</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_09</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_10</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_11</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_08</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_09</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_10</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_11</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="MultiplierX4"/>
						</ModuleModifier>
						<UISlotName>UIRightWeapon06</UISlotName>
                    </Slot>
                    <Slot Name="Weapon03" ShowPositionMarker="true" PositionMarkerAngle="215">
						<Cost ResourceName="Strategic6" Instant="true">1</Cost>
						<TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull5</TechnologyPrerequisite>
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_12</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_13</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_14</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_15</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_12</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_13</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_14</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_15</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="MultiplierX4"/>
						</ModuleModifier>
						<UISlotName>UIRightWeapon07</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIBackRight08</UISlotName>
                    </Slot>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="0">
						<RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
						<RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Right_16</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_17</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_18</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Right_19</VisualSlotName>
						</LineOfSight>
						<LineOfSight>
							<Direction X="-1" Z="0"/>
							<Angle>120</Angle>
							<VisualSlotName>MDL_Wp_SmallSide_Left_16</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_17</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_18</VisualSlotName>
							<VisualSlotName>MDL_Wp_SmallSide_Left_19</VisualSlotName>
						</LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIBackRightWeapon09</UISlotName>
                    </Slot>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <Slot Name="LargeWeapon01" IsLargeSlot="true" ShowPositionMarker="true" PositionMarkerAngle="135" ModuleCostMultiplier="2">
                        <Cost ResourceName="Strategic5" Instant="true">2</Cost>
                        <TechnologyPrerequisite Flags="Prerequisite,Discard">TechnologyImproveHull5</TechnologyPrerequisite>
                        <RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Destruction</RestrictedModuleCategory>
						<LineOfSight>
							<Direction X="0" Z="1"/>
							<Angle>270</Angle>
							<VisualSlotName>MDL_Wp_Medium_Up_01</VisualSlotName>
						</LineOfSight>
						<ModuleModifier>
							<SimulationDescriptorReference Name="TopWeapon"/>
							<SimulationDescriptorReference Name="LargeWeapon"/>
							<SimulationDescriptorReference Name="MultiplierX4"/>
						</ModuleModifier>
						<UISlotName>UIBackWeapon10</UISlotName>
                    </Slot>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIBack11</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

      
        

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>


        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>
    
    <!-- **  Sophons Mothership   ** -->
    <HullDefinition Name="HullLarge00Sophons" IsMothership="true" Category="CategoryHull" SubCategory="SubCategoryShipDesign" ModuleCostMultiplier="4" RepresentativeMappingOverride="HullLarge00Vampirilis">
        <Tags>NoBuyout</Tags>
        <CustomCost Instant="true" ResourceName="EmpireLifeforce">Property(StockLocation,@'../ClassEmpire',MaximumEmpireLifeforceStock)</CustomCost>
        <PathPrerequisite Flags="Prerequisite,Discard">ClassColonizedStarSystem,ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard,Faction">./ClassEmpire,AffinityGameplayVampirilis/ClassPopulationEmpireAffinitySophons,PopulationMajor</PathPrerequisite>
        <PathPrerequisite Flags="Edition,Faction">false</PathPrerequisite>

        <SimulationDescriptorReference Name="ClassHullMothership"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityKinetic"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityBeam"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityLaser"/>
        <SimulationDescriptorReference Name="WeaponAvailabilityMissile"/>
        <SimulationDescriptorReference Name="ShipSizeMothership"/>
        <SimulationDescriptorReference Name="ShipFactionVampirilis"/>
        <SimulationDescriptorReference Name="ShipHull00"/>

        <ShipDesignLayout>
            <ShipRoleReference Name="ShipRoleMothership"/>
            <SectionPattern_Eight>
                <!-- Core Section -->
                <CoreSection Name="CoreSection">
                    <VisualSectionName>Core</VisualSectionName>
                    <SimulationDescriptorReference Name="ClassSectionCore"/>
                    <SimulationDescriptorReference Name="ClassSectionCoreMothership"/>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore11</UISlotName>
                    </Slot>
                    <Slot Name="SupportDefense01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore12</UISlotName>
                    </Slot>
                    <Slot Name="Support02">
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk2</PathPrerequisite>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore13</UISlotName>
                    </Slot>
                    <Slot Name="Support03">
                        <Cost ResourceName="Strategic1" Instant="true">1</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk3</PathPrerequisite>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore14</UISlotName>
                    </Slot>
                    <Slot Name="Support04">
                        <Cost ResourceName="Strategic2" Instant="true">1</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk4</PathPrerequisite>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore15</UISlotName>
                    </Slot>
                    <Slot Name="Support05">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UICore16</UISlotName>
                    </Slot>
                </CoreSection>

                <!-- Forward Section -->
                <Section Name="SectionN">
                    <VisualSectionName>Front</VisualSectionName>
                    <Slot Name="LargeWeapon01" IsLargeSlot="true" ShowPositionMarker="true" PositionMarkerAngle="330" ModuleCostMultiplier="2">
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk4</PathPrerequisite>
                        <RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Destruction</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="0" Z="1"/>
                            <Angle>270</Angle>
                            <VisualSlotName>MDL_Wp_Medium_Up_00</VisualSlotName>
                        </LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="TopWeapon"/>
                            <SimulationDescriptorReference Name="LargeWeapon"/>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIFrontWeapon01</UISlotName>
                    </Slot>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIFront02</UISlotName>
                    </Slot>
                    <Slot Name="Defense01">
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk4</PathPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIFront03</UISlotName>
                    </Slot>
                </Section>

                <!-- Forward/Right Section -->
                <Section Name="SectionNE">
                    <VisualSectionName>FrontRight</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="60">
                        <Cost ResourceName="Strategic1" Instant="true">1</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk2</PathPrerequisite>
                        <RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_04</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_05</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_06</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_07</VisualSlotName>
                        </LineOfSight>
                        <LineOfSight>
                            <Direction X="-1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_04</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_05</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_06</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_07</VisualSlotName>
                        </LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIFrontRightWeapon05</UISlotName>
                    </Slot>
                    <Slot Name="Defense01">
                        <Cost ResourceName="Strategic2" Instant="true">1</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk2</PathPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIFrontRight04</UISlotName>
                    </Slot>
                </Section>

                <!-- Right Section -->
                <Section Name="SectionE">
                    <VisualSectionName>Right</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="60">
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk1</PathPrerequisite>
                        <RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Squadron</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_00</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_01</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_02</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_03</VisualSlotName>
                        </LineOfSight>
                        <LineOfSight>
                            <Direction X="-1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_00</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_01</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_02</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_03</VisualSlotName>
                        </LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIRightWeapon05</UISlotName>
                    </Slot>
                    <Slot Name="DefenseSupport01">
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk1</PathPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIRight06</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Right Section -->
                <Section Name="SectionSE">
                    <VisualSectionName>BackRight</VisualSectionName>
                    <Slot Name="Weapon01" ShowPositionMarker="true" PositionMarkerAngle="60">
                        <RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_08</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_09</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_10</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Right_11</VisualSlotName>
                        </LineOfSight>
                        <LineOfSight>
                            <Direction X="-1" Z="0"/>
                            <Angle>120</Angle>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_08</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_09</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_10</VisualSlotName>
                            <VisualSlotName>MDL_Wp_SmallSide_Left_11</VisualSlotName>
                        </LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIBackRightWeapon05</UISlotName>
                    </Slot>
                    <Slot Name="Defense01">
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <Direction X="1" Z="0"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIBackRight07</UISlotName>
                    </Slot>
                </Section>

                <!-- Back Section -->
                <Section Name="SectionS">
                    <VisualSectionName>Back</VisualSectionName>
                    <Slot Name="LargeWeapon01" IsLargeSlot="true" ShowPositionMarker="true" PositionMarkerAngle="330" ModuleCostMultiplier="2">
                        <Cost ResourceName="Strategic3" Instant="true">1</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk3</PathPrerequisite>
                        <RestrictedModuleCategory>Weapon</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Destruction</RestrictedModuleCategory>
                        <LineOfSight>
                            <Direction X="0" Z="1"/>
                            <Angle>270</Angle>
                            <VisualSlotName>MDL_Wp_Medium_Up_01</VisualSlotName>
                        </LineOfSight>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="TopWeapon"/>
                            <SimulationDescriptorReference Name="LargeWeapon"/>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIBackWeapon08</UISlotName>
                    </Slot>
                    <Slot Name="Support01">
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIBack09</UISlotName>
                    </Slot>
                    <Slot Name="DefenseSupport01">
                        <Cost ResourceName="Strategic4" Instant="true">1</Cost>
                        <PathPrerequisite Flags="Prerequisite,Discard">ClassEmpire,EmpireImprovementImprovedArk3</PathPrerequisite>
                        <RestrictedModuleCategory>Defense</RestrictedModuleCategory>
                        <RestrictedModuleCategory>Support</RestrictedModuleCategory>
                        <Direction X="0" Z="1"/>
                        <ModuleModifier>
                            <SimulationDescriptorReference Name="MultiplierX4"/>
                        </ModuleModifier>
                        <UISlotName>UIBack10</UISlotName>
                    </Slot>
                </Section>

                <!-- Back/Left Section -->
                <Section Name="SectionSW">
                    <VisualSectionName>BackLeft</VisualSectionName>
                </Section>

                <!-- Left Section -->
                <Section Name="SectionW">
                    <VisualSectionName>Left</VisualSectionName>
                </Section>

                <!-- Forward/Left Section -->
                <Section Name="SectionNW">
                    <VisualSectionName>FrontLeft</VisualSectionName>
                </Section>
            </SectionPattern_Eight>
        </ShipDesignLayout>

        <BattleActionReference Name="Ship_UpdateMedalScoreAfterAttack"/>
        <BattleActionReference Name="Ship_UpdateMedalScoreAfterDamage"/>
        <BattleActionReference Name="Ship_Healing"/>
        <BattleActionReference Name="Ship_OnDestruction"/>


        <LevelUpRuleReference Name="ShipLevelUpRule"/>
    </HullDefinition>


</Datatable>